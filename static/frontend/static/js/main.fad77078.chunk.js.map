{"version":3,"sources":["assets/folder.png","assets/github.svg","assets/home.png","store/reducer.js","store/action-types.js","store/index.js","pages/login-register/loginRegister.jsx","utils/constant.js","api/ajax.js","api/index.js","pages/login-register/login.jsx","components/Timer.jsx","pages/login-register/register.jsx","pages/user/study-course.jsx","components/PictureUpload.jsx","pages/user/personal-info.jsx","pages/user/teach-course.jsx","store/actions.js","pages/user/user.jsx","pages/student-course/home.jsx","pages/student-course/resource.jsx","pages/student-course/notify.jsx","pages/student-course/homework.jsx","pages/student-course/exam.jsx","pages/student-course/discuss/course-comment.jsx","pages/student-course/discuss/my-comment.jsx","pages/student-course/discuss/replyToMe.jsx","pages/student-course/discuss/discuss.jsx","pages/student-course/student-course.jsx","pages/teacher-course/home.jsx","pages/teacher-course/class.jsx","pages/teacher-course/resource.jsx","pages/teacher-course/notify.jsx","pages/teacher-course/homework/publish-homework-form.jsx","pages/teacher-course/homework/homeworkLibComponent.jsx","pages/teacher-course/homework/homeworkComponent.jsx","pages/teacher-course/homework/homework.jsx","pages/teacher-course/discuss/course-comment.jsx","pages/teacher-course/discuss/my-comment.jsx","pages/teacher-course/discuss/replyToMe.jsx","pages/teacher-course/discuss/discuss.jsx","pages/teacher-course/exam/examComponent.jsx","pages/teacher-course/exam/publish-exam-form.jsx","pages/teacher-course/exam/examLibComponent.jsx","pages/teacher-course/exam/exam.jsx","pages/teacher-course/teacher-course.jsx","pages/editor/single-subject-editor.jsx","pages/editor/multiple-subject-editor.jsx","pages/editor/judgement-subject-editor.jsx","pages/editor/blank-subject-editor.jsx","pages/editor/short-subject-editor.jsx","pages/editor/program-subject-editor.jsx","pages/editor/subject-editor.jsx","pages/editor/editor.jsx","components/subject/single-subject.jsx","components/subject/multiple-subject.jsx","components/subject/judgement-subject.jsx","components/subject/blank-subject.jsx","components/subject/short-subject.jsx","components/subject/program-subject.jsx","components/subject/subject.jsx","pages/homework/doHomework.jsx","pages/homework/markHomework.jsx","pages/homework/viewHomework.jsx","pages/exam/doExam.jsx","pages/exam/markExam.jsx","App.js","index.js"],"names":["module","exports","combineReducers","user","state","realName","avatar","action","type","data","admin","createStore","reducer","composeWithDevTools","applyMiddleware","thunk","LoginRegister","this","props","layout","md","span","offset","xs","className","style","height","width","backgroundSize","backgroundImage","bgImg","backgroundRepeat","paddingTop","fontSize","textAlign","marginTop","children","React","Component","Constant","ajax","url","Promise","resolve","reject","promise","axios","get","params","post","put","delete","then","response","catch","error","download","method","responseType","res","message","blob","Blob","link","document","createElement","createEvent","initEvent","href","URL","createObjectURL","filename","headers","split","pop","toString","decodeURI","display","body","appendChild","click","window","revokeObjectURL","BaseUrl","BaseAvatar","BaseCover","BaseVideo","ProgramUrl","Github","interceptors","request","use","config","baseURL","token","startsWith","localStorage","getItem","status","removeItem","location","program","id","course","clazz","courseId","file","chapter","notify","comment","code","classId","classMember","answer","lib","item","libId","homeworkLibId","publish","publishId","homeworkPublishId","userId","submit","examLibId","examPublishId","email","excel","Login","userLogin","a","result","success","setItem","history","push","onFinish","values","initialValues","password","name","Item","rules","required","prefix","UserOutlined","min","LockOutlined","htmlType","to","Timer","tick","setState","seconds","clearInterval","timerID","setInterval","onlySecond","hour","Math","floor","minute","second","Register","userRegister","Request","err","onTimerFinish","getCaptchaVisible","getCaptcha","formRef","current","getFieldValue","createRef","ref","labelCol","sm","wrapperCol","scrollToFirstError","label","hasFeedback","Password","dependencies","validator","rule","value","whitespace","gutter","float","onClick","disabled","StudyCourse","showJoinClassModal","joinClassModal","cancelJoinClassModal","joinClass","getStudyCourse","classes","title","extra","onCancel","visible","footer","map","index","key","pathname","search","ID","hoverable","bodyStyle","padding","cover","alt","src","Meta","description","teacher","PictureUpload","getFileList","fileList","handleCancelPreview","previewVisible","handlePreview","preview","getBase64","originFileObj","previewImage","beforeUpload","isJpgOrPng","isLt2M","size","list","onRemove","indexOf","newFileList","slice","splice","reader","FileReader","readAsDataURL","onload","onerror","listType","onPreview","length","PlusOutlined","PersonalInfo","initPersonalInfoForm","setFieldsValue","sex","number","onTabChange","handleUpdateInfo","i","formData","FormData","append","handleUpdatePassword","hasInitForm","prevProps","prevState","snapshot","formItemLayout","tailFormItemLayout","contentList","info","callback","Group","tabList","tab","activeTabKey","connect","TeachCourse","showModal","handleCancel","handleCreateCourse","getTeachCourse","courses","createCourseForm","getUser","dispatch","Header","Content","Sider","User","logout","onUserMenuClick","onSiderMenuClick","menuData","path","text","icon","ReadOutlined","getSelectedKey","selectedKey","forEach","theme","mode","SubMenu","marginLeft","breakpoint","collapsedWidth","defaultSelectedKeys","selectedKeys","from","exact","component","Home","loadChapterData","chapters","selectedChapterId","selectedVideoName","videoName","console","log","onMenuItemClick","record","queryString","parse","Fragment","chapterName","controls","ResizeableTitle","onResize","restProps","handle","resizeHandle","e","stopPropagation","draggableOpts","enableUserSelectHack","Resource","getQuery","query","obj","fileColumns","dataIndex","render","localFilename","folder","align","moment","format","parseInt","marginRight","handleDownloadFile","handleResize","columns","nextColumns","loadFileData","parentId","sortFileData","fileData","components","header","cell","concat","col","onHeaderCell","column","bordered","dataSource","pagination","rowKey","onRow","onDoubleClick","Notify","loadNotifyData","notifyData","itemLayout","renderItem","borderBottom","CreatedAt","content","Homework","loadHomeworkPublishes","homeworkData","goToFinishHomeworkPage","goToViewHomeworkPage","getSubmitStatus","beginTime","Date","getTime","endTime","now","submitRecord","mark","homeworkLib","actions","justifyContent","paddingLeft","paddingRight","color","totalScore","Exam","loadExamPublishes","examData","isBefore","isAfter","finishTime","startTime","add","duration","goToDoExamPage","examLib","CourseComment","loadCommentData","commentData","showCommentModal","commentModal","cancelCommentModal","handleCommentChange","event","target","handleSubmitComment","replyId","replyUserId","replyUserRealName","createComment","replyParentComment","replyChildComment","onOk","TextArea","onChange","rows","image","PRESENTED_IMAGE_SIMPLE","author","datetime","subItem","withRouter","MyComment","deleteComment","onConfirm","ReplyToMe","Discuss","onMenuClick","StudentCourse","loadCourseData","courseName","parentPath","marginBottom","github","addChapter","addChapterModal","updateChapterName","updateChapterModal","updateChapterVideo","uploading","uploadVideoModal","deleteChapterVideo","deleteChapter","cancelAddChapterModal","showAddChapterModal","cancelUpdateChapterModal","showUpdateChapterModal","cancelUploadVideoModal","showUploadVideoModal","handleChange","match","margin","multiple","UploadOutlined","loading","placement","Classes","deleteClassMember","selectedClass","loadClassMemberData","users","loadClassData","showCreateClassModal","createClassModal","cancelCreateClassModal","createClass","classCode","cardTitle","cardExtra","handleDeleteFile","showNewFolderModal","newFolderVisible","showNewFileModal","newFileVisible","handleNewFolderCancel","handleNewFileCancel","handleCreateFolder","folderName","handleCreateNewFile","alignItems","updateNotify","updatedNotify","cancelUpdateNotifyModal","deleteNotify","addNotify","cancelAddNotifyModal","showAddNotifyModal","addNotifyModal","showUpdateNotifyModal","updateNotifyModal","destroyOnClose","PublishHomeworkForm","loadClassesInfo","resubmit","form","range","valuePropName","placeholder","Option","RangePicker","showTime","HomeworkLibComponent","showRenameModal","goToEditHomeworkLib","showImportLibModal","subjectCount","showPublishLibModal","renameModal","updatedLib","cancelRenameModal","renameHomeworkLib","loadHomeworkLibData","publishedhomeworkLibId","publishLibModal","cancelPublishLibModal","publishHomework","homeworkLibData","handleUploadChange","importLibModal","cancelImportLibModal","importLibFormExcel","downloadExcelExample","createLibModal","HomeworkComponent","goToMarkHomework","cancelMarkHomework","loadHomeworkSubmitData","setHomeworkPublishId","onRepublishFormFinish","updatedHomeworkPublish","cancelRepublishHomeworkModal","loadHomeworkPublishData","selectedValue","showRepublishHomeworkModal","Array","republishHomeworkModal","classData","homeworkPublishData","homeworkSubmitData","showHomeworkSubmitRecord","homeworkPublish","cancelHomeworkSubmitRecord","downloadHomeworkExcel","setSubmitRecordVisible","submitRecordVisible","onSelectChange","getSummary","pageData","scoreArr","max","average","undefined","homeworkPublishList","unMarkCount","submitCount","homeworkSubmitRecord","ArrowLeftOutlined","DownloadOutlined","summary","showCreateLibModal","cancelCreateLibModal","createHomeworkLib","tabKey","homework","tabBarExtraContent","ExamComponent","goToMarkExam","setExamPublishId","updatedExamPublish","cancelRepublishExamModal","loadExamPublishData","showRepublishExamModal","republishExamModal","examPublishData","loadExamSubmitData","examSubmitData","showExamSubmitRecord","examPublish","cancelExamSubmitRecord","downloadExamExcel","examPublishList","examSubmitRecord","PublishExamForm","diff","ExamLibComponent","goToEditExamLib","renameExamLib","loadExamLibData","publishedExamLibId","publishExam","examLibData","createExamLib","exam","TeacherCourse","SingleSubjectEditor","setFormOptionsInitialValues","options","sequence","addOption","optionLength","allOptions","deleteOption","MultipleSubjectEditor","JudgementSubjectEditor","BlankSubjectEditor","ShortSubjectEditor","ProgramSubjectEditor","SubjectEditor","Editor","createSubjectEditor","editingSujectId","editingSubject","editingStatus","loadSubjectData","subjects","createSubject","modifySubject","deleteSubject","Id","DeleteOutlined","score","question","SingleSubject","onInputChange","inputValue","sequenceNumber","getInputValue","getValues","radioStyle","lineHeight","border","borderRadius","verticalAlign","wordBreak","answerVisible","inputVisible","MultipleSubject","checkBoxStyle","JudgementSubject","BlankSubject","ShortSubject","ProgramSubject","showExample","exampleVisible","language","executeProgram","input","output","defaultValue","dangerouslySetInnerHTML","__html","Subject","DoHomework","loadHomeworkLib","loadHomeworkUserSubmit","submitData","submitItems","items","fill","homeworkLibItemId","homeworkUserSubmit","submitHomework","submitItem","MarkHomework","homeworkSubmitId","homeworkSubmit","submitHomeworkMark","ViewHomework","DoExam","loadExamLib","loadExamUserSubmit","examLibItemId","examUserSubmit","submitExam","userSubmitRecord","startExam","stopTime","countDown","allowExam","submitExamItem","selectedSequence","backgroundColor","isSave","MarkExam","examSubmitId","examSubmit","submitExamMark","App","ReactDOM","store","getElementById"],"mappings":"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","file":"static/js/main.fad77078.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABAEAYAAAD6+a2dAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAASAAAAEgARslrPgAAAw1JREFUeNrt3E9Ik3Ecx/HP99nc3HQi/oE85GEiGBYEKwMrRBhSsSgJrdMIxIthYAcROggd61jgSfBYQSKVkCAUOwUuUigPHUoKgorchrZwf55fBw910efR0N/m7/O67LDfA98fz3v7sR0egIiIiIiIiIiIiA4+cbtQ2Y8fHU80NkL87wqTHR1QiMibYFD3Bv7uxL6kpvJ5APBEFhdFemVJVlZ0j1XqHANQ9kz62NFoFIIXqnt6GkAlXoZCugffRp26UywC6jVODA+L9I6+b56Y0D1UqXIOQM2k238kkwBeSXckonvgHYihfn0dKvfEvtHUJFb/1eX+9XXdQ5Uay8WaBaiWFt2D7sJz/KyuhvjPS7CnR/cwpcpNAGVOPURVLKZ7ilLldV4iffJZBFBTuofdnYozwUPxuLK/FZ7d6+oCAGnTPdOeGMC5XA4inzCXSAC+p8DYmEhtbSyWSm11kYsArLDvejAIFJHTvcVdyX/43efxQNZ8X4bCYSAUanb926es3MUcACgAbW3ARgojgcDmW/H4Vhe5OAKkQzq9LkIpdanU8rLuGfaRghenOjudlrm6sWIBgM+n1L+v5SabXVgAgEzG79c9y14QsSwA8PvDYQBSefHwR4/H6SoXAQTq8lkACDUUi7o3+X8yGQBIp2dndU+yt0QAoOHrtdWqKqe1Lo6AQCyflIN5ah5Qm9/Qa6MJqalxWusiAMuybd1bop2zx3/B+Qgw4H8A2g4DMBwDMJyb/wHE+SShcuUiAM/bipPl+cufnPEIMBwDMBwDMBwDMBwDMBwDMBwDMBwDMBwDMBwDMBwDMBwDMBwDMBwDMBwDMBwDMBwDMBwDMBwDMBwDMBwDMBwDMBwDMBwDMBwDMJyrAISZlCGVlwrnVc63VlWcrV/MZnVvh3bKO1S3tPlMlO24+GxXtrZfGRkBPJM1t/moiNLnPV2XKxSAquQRGRx0Wu3+YdEqmRxXwSBQvfjdH41Cyc3iqvMjSGifiK1wK5WC8g74L8/Pi9X64P6FjQ3dYxERERERERFR6fgDa0Sz24K2luwAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjAtMDQtMDRUMjE6MDI6MzQrMDg6MDC2vOGdAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIwLTA0LTA0VDIxOjAyOjM0KzA4OjAwx+FZIQAAAEx0RVh0c3ZnOmJhc2UtdXJpAGZpbGU6Ly8vaG9tZS9hZG1pbi9pY29uLWZvbnQvdG1wL2ljb25fbWdwb3liaGo4Ny93ZW5qaWFuamlhLnN2Z/O1Gl4AAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/github.2bfc5023.svg\";","module.exports = __webpack_public_path__ + \"static/media/home.aebb6b54.png\";","import { combineReducers } from 'redux'\r\nimport {GET_ADMIN, GET_USER} from \"./action-types\";\r\n\r\nfunction user(state={realName:\"\",avatar:\"\"},action) {\r\n   switch (action.type) {\r\n      case GET_USER:\r\n         return action.data;\r\n      default:\r\n         return state;\r\n   }\r\n}\r\nfunction admin(state={realName:\"\",avatar:\"\"},action) {\r\n   switch (action.type) {\r\n      case GET_ADMIN:\r\n         return action.data;\r\n      default:\r\n         return state;\r\n   }\r\n}\r\nexport default combineReducers({user,admin})\r\n","export const GET_USER = 'getUser';\r\nexport const GET_ADMIN = 'getAdmin';","import {createStore,applyMiddleware} from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport reducer from \"./reducer\";\r\nimport {composeWithDevTools} from \"redux-devtools-extension\";\r\nexport default  createStore(reducer,composeWithDevTools(applyMiddleware(thunk)));\r\n","import React from \"react\";\r\nimport bgImg from '../../assets/home.png';\r\nimport {Row,Col} from \"antd\";\r\n\r\nexport default class LoginRegister extends React.Component{\r\n    render() {\r\n        if(this.props.type==='login'){\r\n            this.layout={md:{span:6,offset:9},xs:{span:16,offset:4}}\r\n        }else {\r\n            this.layout={md:{span:9,offset:6},xs:{span:14,offset:5}}\r\n        }\r\n        return (\r\n                <div className=\"home\" style={{height:'100%',width:'100%',backgroundSize:\"1200px 600px\",\r\n                        backgroundImage:`url(${bgImg})`,backgroundRepeat:\"no-repeat\",paddingTop:50}} >\r\n                    <Row >\r\n                        <Col md={{span:12,offset:6}} xs={{span:16,offset:4}}\r\n                            style={{fontSize:30,textAlign:\"center\"}} >\r\n                            辅助学习平台\r\n                        </Col>\r\n                    </Row>\r\n                    <Row style={{marginTop:100}}>\r\n                        <Col {...this.layout}>\r\n                            {this.props.children}\r\n                        </Col>\r\n                    </Row>\r\n                </div>\r\n        )\r\n    }\r\n}","export default function Constant() {}\r\nConstant.BaseUrl = \"/\";//http://localhost:8080\r\nConstant.BaseAvatar = '/avatar/';\r\nConstant.BaseCover = '/cover/';\r\nConstant.BaseVideo = '/video/';\r\nConstant.ProgramUrl='/compile';\r\nConstant.Github='https://github.com/heypin/learning';","import axios from 'axios'\r\nimport {message} from 'antd'\r\nimport Constant from '../utils/constant'\r\n\r\naxios.interceptors.request.use(function (config) {\r\n    config.baseURL=Constant.BaseUrl;\r\n    // config.withCredentials = true;\r\n    let token = '';\r\n    if(config.url.startsWith(\"/admin\")){\r\n        token = window.localStorage.getItem('admin_token');\r\n    }else{\r\n        token = window.localStorage.getItem('token');\r\n    }\r\n    if (token) {\r\n        config.headers['Authorization'] = token\r\n    }\r\n    return config;\r\n}, function (error) {\r\n    return Promise.reject(error)\r\n});\r\naxios.interceptors.response.use(function (response) {\r\n    if (response.status===401) {\r\n        message.error(\"请重新登录后操作!\");\r\n        if(response.config.url.startsWith(`/admin/`)){\r\n            window.localStorage.removeItem(\"admin_token\");//可能为失效，所以移除\r\n        }else {\r\n            window.localStorage.removeItem(\"token\");\r\n            window.location.href=\"/#login\";\r\n        }\r\n    }\r\n    return response;\r\n}, function (error) {\r\n    return Promise.reject(error);\r\n});\r\n\r\n\r\nexport  function ajax(url, data = {}, type = 'GET') {\r\n    return new Promise((resolve, reject) => {\r\n        let promise;\r\n        if (type === 'GET') {\r\n            promise = axios.get(url, {params: data});\r\n        } else if (type === 'POST') {\r\n            promise = axios.post(url, data);\r\n        } else if (type === 'PUT') {\r\n            promise = axios.put(url, data);\r\n        } else if (type === 'DELETE') {\r\n            promise = axios.delete(url,{params:data});\r\n        }\r\n        promise.then(response => {\r\n            resolve(response.data);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    })\r\n}\r\nexport function download(url) {\r\n    return axios({\r\n        url: url,\r\n        method: 'get',\r\n        responseType: 'blob'\r\n    }).then((res)=>{\r\n        if (res.data.type === \"application/json\") {\r\n            message.error(\"下载失败\")\r\n        } else {\r\n            let blob = new Blob([res.data]);\r\n            let link = document.createElement(\"a\");\r\n            let evt = document.createEvent(\"HTMLEvents\");\r\n            evt.initEvent(\"click\", false, false);\r\n            link.href = URL.createObjectURL(blob);\r\n            //用split简单的获取文件名\r\n            let filename=res.headers[\"content-disposition\"].split(\"filename=\").pop().toString();\r\n            link.download = decodeURI(filename);//后端对文件名进行了url编码防止乱码，这里解码\r\n            link.style.display = \"none\";\r\n            document.body.appendChild(link);\r\n            link.click();\r\n            window.URL.revokeObjectURL(link.href);\r\n        }\r\n    })\r\n}","import {ajax} from \"./ajax\";\r\nimport {download} from './ajax'\r\nexport default {\r\n    userLogin:(user)=> ajax(`/login`,user,'POST'),\r\n    userRegister:(user)=>ajax(`/register`,user,'POST'),\r\n    executeProgram:(program)=>ajax(`/compile`,program,'POST'),\r\n    getUserByToken:()=>ajax(`/user`),//axios拦截器添加了token不用传入\r\n    getAdminByToken:()=>ajax(`/admin`),\r\n    updateUserPassword:(user)=>ajax(`/user/password`,user,'PUT'),\r\n    updateUserById:(user)=>ajax(`/user`,user,'PUT'),\r\n    getCourseById:(id)=>ajax(`/course`,{id:id}),\r\n    createCourse:(course)=>ajax(`/course`,course,'POST'),\r\n    getTeachCourse:()=>ajax(`/course/teach`),\r\n    createClass:(clazz)=>ajax(`/class`,clazz,'POST'),\r\n    getClassesByCourseId:(courseId)=>ajax(`/class`,{courseId:courseId}),\r\n    getChildFile:(file)=>ajax(`/file/children`,file,'GET'),\r\n    createFile:(file)=>ajax(`/file`,file,'POST'),\r\n    createFolder:(file)=>ajax(`/file/folder`,file,'POST'),\r\n\r\n    downloadFile:(id)=>download(`/file/download?id=${id}`),\r\n    downloadExcelExample:()=>download(`/excel/example`),\r\n    exportExamToExcel:(id)=>download(`/exam/excel?examPublishId=${id}`),\r\n    exportHomeworkToExcel:(id)=>download(`/homework/excel?homeworkPublishId=${id}`),\r\n\r\n    deleteFile:(id)=>ajax(`/file`,{id:id},'DELETE'),\r\n    getChapterByCourseId:(courseId)=>ajax(`/chapter`,{courseId:courseId}),\r\n    createChapter:(chapter)=>ajax(`/chapter`,chapter,'POST'),\r\n    updateChapterName:(chapter)=>ajax(`/chapter`,chapter,'PUT'),\r\n    deleteChapterById:(id)=>ajax(`/chapter`,{id:id},'DELETE'),\r\n    deleteChapterVideoById:(id)=>ajax(`/chapter/video`,{id:id},'DELETE'),\r\n    updateChapterVideo:(chapter)=>ajax(`/chapter/video`,chapter,'PUT'),\r\n    getNotifyByCourseId:(courseId)=>ajax(`/notify`,{courseId:courseId}),\r\n    createNotify:(notify)=>ajax(`/notify`,notify,'POST'),\r\n    updateNotifyById:(notify)=>ajax(`/notify`,notify,'PUT'),\r\n    deleteNotifyById:(id)=>ajax(`/notify`,{id:id},'DELETE'),\r\n    getCommentByCourseId:(courseId)=>ajax(`/comment`,{courseId:courseId}),\r\n    getCommentByUserId:(courseId)=>ajax(`/comment/user`,{courseId:courseId}),\r\n    getCommentReplyToUser:(courseId)=>ajax(`/comment/reply`,{courseId:courseId}),\r\n    createComment:(comment)=>ajax(`/comment`,comment,'POST'),\r\n    deleteCommentById:(id)=>ajax(`/comment`,{id:id},'DELETE'),\r\n    joinClass:(code)=>ajax(`/classMember/join`,code,'POST'),\r\n    getClassesByUserId:()=>ajax(`/classMember/class`),\r\n    getUsersByClassId:(classId)=>ajax(`/classMember/user`,{classId:classId}),\r\n    deleteClassMember:(classMember)=>ajax(`/classMember`,classMember,'DELETE'),\r\n    getHomeworkLibsByCourseId:(courseId)=>ajax(`/homeworkLib`,{courseId:courseId}),\r\n    getHomeworkLibWithItemsById:(id,answer)=>ajax(`/homeworkLib/items`,{id:id,answer:answer}),\r\n    updateHomeworkLibNameById:(lib)=>ajax(`/homeworkLib/name`,lib,'PUT'),\r\n    createHomeworkLib:(lib)=>ajax(`/homeworkLib`,lib,'POST'),\r\n    createHomeworkLibItem:(item)=>ajax(`/homeworkLibItem`,item,'POST'),\r\n    updateHomeworkLibItemAndOptions:(item)=>ajax(`/homeworkLibItem`,item,'PUT'),\r\n    getHomeworkLibItemsByLibId:(libId)=>ajax(`/homeworkLibItem`,{homeworkLibId:libId}),\r\n    deleteHomeworkLibItemById:(id)=>ajax(`/homeworkLibItem`,{id:id},'DELETE'),\r\n    getHomeworkPublishById:(id)=>ajax(`/homeworkPublish`,{id:id}),\r\n    getHomeworkPublishesByClassId:(classId)=>ajax(`/homeworkPublish/class`,{classId:classId}),\r\n    getHomeworkPublishesWithSubmitByClassId:(classId)=>ajax(`/homeworkPublish/submit`,{classId:classId}),\r\n    publishHomework:(publish)=>ajax(`/homeworkPublish`,publish,'POST'),\r\n    updateHomeworkPublishById:(publish)=>ajax(`/homeworkPublish`,publish,'PUT'),\r\n    getHomeworkSubmitById:(id)=>ajax(`/homeworkSubmit`,{id:id}),\r\n    getHomeworkSubmitsByPublishId:(publishId)=>ajax(`/homeworkSubmit/publish`,{homeworkPublishId:publishId}),\r\n    getHomeworkUserSubmitWithItems:(publishId,userId)=>ajax(`/homeworkSubmit/user`,{homeworkPublishId:publishId,userId:userId}),\r\n    submitHomeworkWithItems:(submit)=>ajax(`/homeworkSubmit`,submit,'POST'),\r\n    updateHomeworkSubmitMarkById:(submit)=>ajax(`/homeworkSubmit/mark`,submit,'PUT'),\r\n    updateHomeworkSubmitItemsScore:(submit)=>ajax(`/homeworkSubmit/score`,submit,'PUT'),\r\n    getExamLibsByCourseId:(courseId)=>ajax(`/examLib`,{courseId:courseId}),\r\n    getExamLibWithItemsById:(id,answer)=>ajax(`/examLib/items`,{id:id,answer:answer}),\r\n    updateExamLibNameById:(lib)=>ajax(`/examLib/name`,lib,'PUT'),\r\n    createExamLib:(lib)=>ajax(`/examLib`,lib,'POST'),\r\n    getExamLibItemsByLibId:(examLibId)=>ajax(`/examLibItem`,{examLibId:examLibId}),\r\n    updateExamLibItemAndOptions:(item)=>ajax(`/examLibItem`,item,'PUT'),\r\n    createExamLibItemAndOptions:(item)=>ajax(`/examLibItem`,item,'POST'),\r\n    deleteExamLibItemById:(id)=>ajax(`/examLibItem`,{id:id},'DELETE'),\r\n    getExamPublishById:(id)=>ajax(`/examPublish`,{id:id}),\r\n    getExamPublishesByClassId:(classId)=>ajax(`/examPublish/class`,{classId:classId}),\r\n    getExamPublishesWithSubmitByClassId:(classId)=>ajax(`/examPublish/submit`,{classId:classId}),\r\n    publishExam:(publish)=>ajax(`/examPublish`,publish,'POST'),\r\n    updateExamPublishById:(publish)=>ajax(`/examPublish`,publish,'PUT'),\r\n    getExamSubmitById:(id)=>ajax(`/examSubmit`,{id:id}),\r\n    getExamSubmitsByPublishId:(examPublishId)=>ajax(`/examSubmit/publish`,{examPublishId:examPublishId}),\r\n    getExamUserSubmitWithItems:(examPublishId,userId)=>ajax(`/examSubmit/user`,{examPublishId:examPublishId,userId:userId}),\r\n    submitExamItem:(item)=>ajax(`/examSubmit/item`,item,'POST'),\r\n    startExam:(submit)=>ajax(`/examSubmit/start`,submit,'POST'),\r\n    finishExam:(submit)=>ajax(`/examSubmit/finish`,submit,'PUT'),\r\n    updateExamSubmitItemsScore:(submit)=>ajax(`/examSubmit/score`,submit,'PUT'),\r\n    getRegisterCode:(email)=>ajax(`/register/code`,{email:email}),\r\n\r\n    importExcelSubjectToLib:(excel)=>ajax(`/excel/lib`,excel,'POST'),\r\n\r\n}","\r\nimport React from \"react\";\r\nimport LoginRegister from \"./loginRegister\";\r\nimport { Form, Input, Button, message } from 'antd';\r\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\r\nimport {Link} from \"react-router-dom\";\r\nimport request from '../../api';\r\nclass Login extends React.Component{\r\n    userLogin=async (user)=>{\r\n        try{\r\n            const result=await request.userLogin(user);\r\n            message.success(\"登录成功!\");\r\n            window.localStorage.setItem(\"token\",result.token);\r\n            this.props.history.push(\"/user\");\r\n        }catch (e) {\r\n            if(e.response.status===400){\r\n                message.error(\"参数错误！\")\r\n            }else {\r\n                message.error(\"用户名或密码错误！\");\r\n            }\r\n        }\r\n    };\r\n    onFinish=(values)=>{\r\n        this.userLogin(values);\r\n    };\r\n    render() {\r\n        return (\r\n            <LoginRegister type='login'>\r\n                <Form initialValues={{email:\"2244306600@qq.com\",password:\"12345678\"}} name=\"login\" className=\"login-form\" onFinish={this.onFinish}>\r\n                    <Form.Item name=\"email\"  rules={[\r\n                            {required: true,message: '请输入邮箱!'},\r\n                            {type:'email',message: '格式不正确！'}\r\n                        ]}\r\n                    >\r\n                        <Input prefix={<UserOutlined className=\"site-form-item-icon\" />}  />\r\n                    </Form.Item>\r\n                    <Form.Item name=\"password\" rules={[\r\n                            {required: true, message: '请输入密码!'},\r\n                            {min:8,message: '密码最短8位！'}\r\n                        ]}\r\n                    >\r\n                        <Input prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n                            type=\"password\"\r\n                        />\r\n                    </Form.Item>\r\n\r\n                    <Form.Item>\r\n                        <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\" style={{width:\"100%\"}}>\r\n                            登录\r\n                        </Button>\r\n                        <div style={{fontSize:20,marginTop:20}}>\r\n                            或 <Link to=\"/register\" >注册</Link>\r\n                        </div>\r\n                    </Form.Item>\r\n                </Form>\r\n            </LoginRegister>\r\n        )\r\n    }\r\n}\r\nexport default Login;","import React from \"react\";\r\nexport default class Timer extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={\r\n            seconds:props.seconds,\r\n        }\r\n    }\r\n    tick=()=> {\r\n        this.setState((state, props) =>{\r\n            if(state.seconds>0){\r\n                return {seconds:state.seconds-1}\r\n            }else{\r\n                if(this.props.onFinish){//倒计时结束,通知父组件\r\n                    this.props.onFinish()\r\n                }\r\n            }\r\n        });\r\n    };\r\n    componentWillUnmount() {\r\n        clearInterval(this.timerID);\r\n    }\r\n    componentDidMount() {\r\n        this.timerID = setInterval(\r\n            () => this.tick(),\r\n            1000\r\n        );\r\n    }\r\n    render() {\r\n        const seconds=this.state.seconds;\r\n        if(this.props.onlySecond){//仅显示秒\r\n            return <span>{seconds}s</span>\r\n        }\r\n        let hour=Math.floor(seconds/60/60);\r\n        let minute=Math.floor(seconds/60%60);\r\n        let second= Math.floor(seconds%60);\r\n        return (\r\n            <span style={this.props.style}>{hour}:{minute}:{second}</span>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Form, Input, Row, Col, Button, message,} from 'antd';\r\nimport LoginRegister from \"./loginRegister\";\r\nimport Request from \"../../api\";\r\nimport Timer from \"../../components/Timer\";\r\n\r\nexport default class Register extends React.Component{\r\n    userRegister = async (user)=>{\r\n        try{\r\n            await Request.userRegister(user);\r\n            message.success(\"注册成功!\");\r\n            this.props.history.push(\"/login\");\r\n        }catch (e) {\r\n            let err=\"\";\r\n            if(e.response.data.err){\r\n                err=e.response.data.err;\r\n            }\r\n            message.error(\"注册失败!\"+err)\r\n        }\r\n    };\r\n    onFinish=(values)=>{\r\n        this.userRegister(values);\r\n    };\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={\r\n            getCaptchaVisible:true,\r\n        };\r\n        this.formRef=React.createRef();\r\n    }\r\n    onTimerFinish=()=>{\r\n      this.setState({getCaptchaVisible:true});\r\n    };\r\n\r\n    getCaptcha=async ()=>{\r\n        try{\r\n            let email=this.formRef.current.getFieldValue(\"email\");\r\n            if(email){\r\n                await Request.getRegisterCode(email);\r\n                message.success(\"获取验证码成功\");\r\n                this.setState({getCaptchaVisible:false});\r\n            }else{\r\n                message.error(\"请先填邮箱\");\r\n            }\r\n        }catch (e) {\r\n            message.error(\"获取验证码失败\");\r\n        }\r\n    };\r\n    render() {\r\n        const formItemLayout = {\r\n            labelCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 8 },\r\n            },\r\n            wrapperCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 16 },\r\n            },\r\n        };\r\n        const tailFormItemLayout = {\r\n            wrapperCol: {\r\n                xs: {\r\n                    span: 24,\r\n                    offset: 0,\r\n                },\r\n                sm: {\r\n                    span: 16,\r\n                    offset: 8,\r\n                },\r\n            },\r\n        };\r\n        return (\r\n            <LoginRegister type='register'>\r\n                <Form ref={this.formRef} {...formItemLayout} name=\"register\"\r\n                      onFinish={this.onFinish} scrollToFirstError\r\n                >\r\n                    <Form.Item name=\"email\" label=\"邮箱\"\r\n                        rules={[\r\n                            {type: 'email', message: '邮箱格式不正确!',},\r\n                            {required: true, message: '请输入邮箱!',},\r\n                        ]}\r\n                    >\r\n                        <Input />\r\n                    </Form.Item>\r\n\r\n                    <Form.Item name=\"password\" label=\"密码\"\r\n                        rules={[{required: true,  message: '请输入密码!'}]}\r\n                        hasFeedback\r\n                    >\r\n                        <Input.Password />\r\n                    </Form.Item>\r\n\r\n                    <Form.Item name=\"confirm\" label=\"确认密码\" dependencies={['password']} hasFeedback\r\n                        rules={[{required: true,message: '请确认密码!'},\r\n                            ({ getFieldValue }) => ({\r\n                                validator(rule, value) {\r\n                                    if (!value || getFieldValue('password') === value) {\r\n                                        return Promise.resolve();\r\n                                    }\r\n                                    return Promise.reject('两次密码不一致!');\r\n                                },\r\n                            }),\r\n                        ]}\r\n                    >\r\n                        <Input.Password />\r\n                    </Form.Item>\r\n\r\n                    <Form.Item name=\"realName\" label=\"姓名\"\r\n                        rules={[{ required: true, message: '请输入姓名!', whitespace: true }]}\r\n                    >\r\n                        <Input />\r\n                    </Form.Item>\r\n                    <Form.Item label=\"验证码\">\r\n                        <Row gutter={8}>\r\n                            <Col span={12}>\r\n                                <Form.Item name=\"captcha\"\r\n                                    rules={[{ required: true, message: '请输入获得的验证码!' }]}\r\n                                >\r\n                                    <Input />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={12}>\r\n                                {this.state.getCaptchaVisible?\r\n                                    <Button style={{float:\"right\"}} onClick={this.getCaptcha}>获取邮箱验证码</Button>:\r\n                                    <Button style={{float:\"right\"}} disabled={true}><Timer onlySecond={true} onFinish={this.onTimerFinish} seconds={60}/>后获取</Button>\r\n                                }\r\n\r\n                            </Col>\r\n                        </Row>\r\n                    </Form.Item>\r\n                    <Form.Item {...tailFormItemLayout}>\r\n                        <Button type=\"primary\" htmlType=\"submit\" style={{width:\"100%\"}}>注册</Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </LoginRegister>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Button, Card, Col, Form, Input, message, Modal, Row} from \"antd\";\r\nimport {Link} from \"react-router-dom\";\r\nimport Constant from \"../../utils/constant\";\r\nimport Request from \"../../api\"\r\nexport default class StudyCourse extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={\r\n            joinClassModal:false,\r\n            classes:[],\r\n        };\r\n    }\r\n    showJoinClassModal=()=>{\r\n      this.setState({joinClassModal:true});\r\n    };\r\n    cancelJoinClassModal=()=>{\r\n        this.setState({joinClassModal:false});\r\n    };\r\n    joinClass=async (values)=>{\r\n        try{\r\n            await Request.joinClass(values);\r\n            message.success(\"已加入\");\r\n            this.cancelJoinClassModal();\r\n            this.getStudyCourse();\r\n        }catch (e) {\r\n            message.error(\"加入失败\");\r\n        }\r\n    };\r\n    getStudyCourse = async ()=>{\r\n        try{\r\n            const result = await Request.getClassesByUserId();\r\n            this.setState({classes:result});\r\n        }catch (e) {\r\n\r\n            message.error(\"获取课程信息失败\");\r\n        }\r\n    };\r\n    componentDidMount() {\r\n        this.getStudyCourse();\r\n    }\r\n\r\n    render() {\r\n        const formItemLayout = {labelCol: {span:4}, wrapperCol: {span:16}};\r\n        const tailFormItemLayout = {wrapperCol: {span:16,offset:4}};\r\n        return (\r\n            <Card style={{height:\"100%\"}} title=\"我学的课\" extra={<Button\r\n                type=\"primary\" onClick={this.showJoinClassModal}>加入班级</Button>}\r\n            >\r\n                <Modal title=\"加入班级\" onCancel={this.cancelJoinClassModal}\r\n                       visible={this.state.joinClassModal} footer={null}>\r\n                    <Form name=\"join-class\" onFinish={this.joinClass} {...formItemLayout}>\r\n                        <Form.Item name=\"classCode\" label=\"班级代码\"  rules={[{required: true,message: '请输入班级代码!'},]}>\r\n                            <Input  />\r\n                        </Form.Item>\r\n                        <Form.Item {...tailFormItemLayout}>\r\n                            <Button type=\"primary\" htmlType=\"submit\" style={{width:\"100%\"}}>确认</Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Modal>\r\n                <Row gutter={16}>\r\n                    {\r\n                        this.state.classes.map((item,index)=>{\r\n                            return (\r\n                                <Col span={8} key={index+1} style={{marginTop:20}}>\r\n                                    <Link to={{pathname:\"/student-course/home\",search:`?courseId=${item.course.ID}&classId=${item.ID}`}} >\r\n                                        <Card hoverable style={{ width: 270 }} bodyStyle={{padding:10}}\r\n                                              cover={<img alt=\"cover\" style={{width:270,height:180}}\r\n                                                          src={Constant.BaseCover+item.course.cover}/>}\r\n                                        >\r\n                                            <Card.Meta title={item.course.name} description={\r\n                                                <div>\r\n                                                    <div>{item.course.teacher}</div>\r\n                                                    <div>班级:{item.className}</div>\r\n                                                    <div>{item.course.description}</div>\r\n                                                </div>\r\n                                            } />\r\n                                        </Card>\r\n                                    </Link>\r\n                                </Col>\r\n                            )\r\n                        })\r\n                    }\r\n                </Row>\r\n            </Card>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Modal,Upload, message} from \"antd\";\r\nimport {PlusOutlined} from \"@ant-design/icons\";\r\nexport default class PictureUpload extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={\r\n            fileList:[],\r\n            previewVisible: false,\r\n            previewImage: '',\r\n        };\r\n        this.props.fileList(this.getFileList)\r\n    };\r\n    getFileList=()=>{\r\n      return this.state.fileList;\r\n    };\r\n    getBase64(file) {\r\n        return new Promise((resolve, reject) => {\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(file);\r\n            reader.onload = () => resolve(reader.result);\r\n            reader.onerror = error => reject(error);\r\n        });\r\n    };\r\n    handleCancelPreview = () => this.setState({ previewVisible: false });\r\n    handlePreview = async file => {\r\n        if (!file.url && !file.preview) {\r\n            file.preview = await this.getBase64(file.originFileObj);\r\n        }\r\n\r\n        this.setState({\r\n            previewImage: file.url || file.preview,\r\n            previewVisible: true,\r\n        });\r\n    };\r\n    beforeUpload=(file)=>{\r\n        const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png';\r\n        if (!isJpgOrPng) {\r\n            message.error('只能上传JPG/PNG文件!');\r\n        }\r\n        const isLt2M = file.size / 1024 / 1024 < 2;\r\n        if (!isLt2M) {\r\n            message.error('图片必须小于2MB!');\r\n        }\r\n        if(isJpgOrPng && isLt2M){\r\n            let list = [{...file,originFileObj:file}];\r\n            this.setState({fileList:list});\r\n        }else {\r\n            this.setState({fileList:[]});\r\n        }\r\n        return false;\r\n    };\r\n    onRemove=(file) => {\r\n        this.setState(state => {\r\n            const index = state.fileList.indexOf(file);\r\n            const newFileList = state.fileList.slice();\r\n            newFileList.splice(index, 1);\r\n            return {fileList: newFileList,};\r\n        });\r\n    };\r\n    render() {\r\n        const { previewVisible, previewImage, fileList } = this.state;\r\n        return (\r\n            <div>\r\n                <Upload listType=\"picture-card\"\r\n                        fileList={fileList}\r\n                        beforeUpload={this.beforeUpload}\r\n                        onPreview={this.handlePreview}\r\n                        onRemove={this.onRemove}\r\n                >\r\n                    {fileList.length >= 1 ? null : <div>\r\n                        <PlusOutlined />\r\n                        <div className=\"ant-upload-text\">Upload</div>\r\n                    </div>}\r\n                </Upload>\r\n                <Modal visible={previewVisible} footer={null} onCancel={this.handleCancelPreview}>\r\n                    <img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\r\n                </Modal>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Button, Form, Input, Radio, Row, Col, Card, message} from \"antd\";\r\nimport {connect} from 'react-redux';\r\nimport request from \"../../api\";\r\nimport PictureUpload from \"../../components/PictureUpload\";\r\nclass PersonalInfo extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            key: 'info',\r\n        };\r\n        this.formRef = React.createRef();\r\n        this.hasInitForm =false;\r\n        this.getFileList=()=>{};\r\n    }\r\n\r\n    initPersonalInfoForm=()=>{\r\n        const user = this.props.user;\r\n        this.formRef.current.setFieldsValue({\r\n            email:user.email,\r\n            sex:user.sex,\r\n            number:user.number,\r\n            realName:user.realName\r\n        });\r\n    };\r\n    onTabChange = (key) => {\r\n        this.setState({ key: key });\r\n    };\r\n    handleUpdateInfo = async (values)=>{\r\n        const fileList = this.getFileList();\r\n        const formData = new FormData();\r\n        if(fileList.length!==0){\r\n            formData.append('avatar', fileList[0].originFileObj);\r\n        }\r\n        for(let i in values){\r\n            formData.append(i,values[i]);\r\n        }\r\n        try{\r\n            await request.updateUserById(formData);\r\n            message.success(\"修改成功\");\r\n\r\n        }catch (e) {\r\n            message.error(\"修改失败\");\r\n        }\r\n\r\n    };\r\n    handleUpdatePassword = async (values)=>{\r\n        try{\r\n            await request.updateUserPassword(values);\r\n            message.success(\"修改成功!\");\r\n        }catch (e) {\r\n            if(e.response.status===400){\r\n                message.error(\"参数错误！\")\r\n            }else {\r\n                message.error(\"修改失败！\");\r\n            }\r\n        }\r\n    };\r\n    componentDidMount() {\r\n        this.initPersonalInfoForm();\r\n    }\r\n    componentDidUpdate(prevProps,prevState, snapshot) {\r\n        if(this.state.key==='info'){\r\n            this.initPersonalInfoForm();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const tabList = [\r\n            {key: 'info', tab: '我的信息',},\r\n            {key: 'password', tab: '修改密码',},\r\n        ];\r\n        const formItemLayout = {labelCol: {span:4}, wrapperCol: {span:16}};\r\n        const tailFormItemLayout = {wrapperCol: {span:16,offset:4}};\r\n        const contentList = {\r\n            info: (\r\n                <Form name=\"info\" onFinish={this.handleUpdateInfo}\r\n                      {...formItemLayout} ref={this.formRef}\r\n                >\r\n                        <Form.Item label=\"头像\" name=\"avatar\">\r\n                            <PictureUpload fileList={(callback)=>{\r\n                                this.getFileList=callback;\r\n                            }} />\r\n                        </Form.Item>\r\n                        <Form.Item name=\"email\" label=\"邮箱\"  rules={[\r\n                            {required: true,message: '请输入邮箱!'},\r\n                            {type:'email',message: '格式不正确！'}\r\n                        ]}\r\n                        >\r\n                            <Input  />\r\n                        </Form.Item>\r\n                        <Form.Item name=\"realName\" label=\"姓名\"\r\n                                   rules={[{ required: true, message: '请输入姓名!' }]}\r\n                        >\r\n                            <Input />\r\n                        </Form.Item>\r\n                        <Form.Item name=\"number\" label=\"学号\">\r\n                            <Input />\r\n                        </Form.Item>\r\n                        <Form.Item name=\"sex\" label=\"性别\">\r\n                            <Radio.Group>\r\n                                <Radio value={1}>男</Radio>\r\n                                <Radio value={2}>女</Radio>\r\n                            </Radio.Group>\r\n                        </Form.Item>\r\n                        <Form.Item {...tailFormItemLayout}>\r\n                            <Button type=\"primary\" htmlType=\"submit\"\r\n                                    className=\"login-form-button\" style={{width:\"100%\"}}>\r\n                                确认修改\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n            ),\r\n            password:(\r\n                <Form name=\"update-password\" {...formItemLayout} onFinish={this.handleUpdatePassword}>\r\n                    <Form.Item name=\"oldPassword\" label=\"旧密码\"\r\n                               rules={[{required: true,  message: '请输入旧密码!'}]}\r\n                               hasFeedback\r\n                    >\r\n                        <Input.Password />\r\n                    </Form.Item>\r\n                    <Form.Item name=\"password\" label=\"新密码\"\r\n                               rules={[{required: true,  message: '请输入新密码!'}]}\r\n                               hasFeedback\r\n                    >\r\n                        <Input.Password />\r\n                    </Form.Item>\r\n                    <Form.Item name=\"confirm\" label=\"确认密码\" dependencies={['password']} hasFeedback\r\n                               rules={[{required: true,message: '请确认密码!'},\r\n                                   ({ getFieldValue }) => ({\r\n                                       validator(rule, value) {\r\n                                           if (!value || getFieldValue('password') === value) {\r\n                                               return Promise.resolve();\r\n                                           }\r\n                                           return Promise.reject('两次密码不一致!');\r\n                                       },\r\n                                   }),\r\n                               ]}\r\n                    >\r\n                        <Input.Password />\r\n                    </Form.Item>\r\n                    <Form.Item {...tailFormItemLayout}>\r\n                        <Button type=\"primary\" htmlType=\"submit\"\r\n                                className=\"login-form-button\" style={{width:\"100%\"}}>\r\n                            确认修改\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            ),\r\n        };\r\n        return (\r\n            <Card\r\n                style={{ width: '100%',height:\"100%\"}}\r\n                tabList={tabList}\r\n                activeTabKey={this.state.key}\r\n                onTabChange={this.onTabChange}\r\n            >\r\n                <Row>\r\n                    <Col span={12}>\r\n                        {contentList[this.state.key]}\r\n                    </Col>\r\n                </Row>\r\n            </Card>\r\n\r\n        )\r\n    }\r\n}\r\nexport default connect(state=>({user:state.user}))(PersonalInfo)","import React from \"react\";\r\nimport {Button, Card, Col, Row, Modal, Form, Input,  message} from \"antd\";\r\nimport PictureUpload from \"../../components/PictureUpload\";\r\nimport Request from \"../../api\";\r\nimport {Link} from \"react-router-dom\";\r\nimport Constant from \"../../utils/constant\";\r\n\r\nexport default class TeachCourse extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            visible: false,\r\n            courses:[],\r\n        };\r\n        this.formRef= React.createRef();\r\n        this.getFileList=()=>{};\r\n    }\r\n    showModal = () => {\r\n        this.setState({\r\n            visible: true,\r\n        });\r\n    };\r\n    handleCancel = () => {\r\n        this.setState({\r\n            visible: false,\r\n        });\r\n    };\r\n    handleCreateCourse = async (values)=>{\r\n        const fileList = this.getFileList();\r\n        const formData = new FormData();\r\n        if(fileList.length!==0){\r\n            formData.append('cover', fileList[0].originFileObj);\r\n        }\r\n        for(let i in values){\r\n            formData.append(i,values[i]);\r\n        }\r\n        try{\r\n            await Request.createCourse(formData);\r\n            this.handleCancel();\r\n            message.success(\"创建成功\");\r\n            this.getTeachCourse();\r\n        }catch (e) {\r\n            message.error(\"创建失败\");\r\n        }\r\n    };\r\n\r\n    getTeachCourse = async ()=>{\r\n        try{\r\n            const result = await Request.getTeachCourse();\r\n            this.setState({courses:result});\r\n        }catch (e) {\r\n            message.error(\"获取课程信息失败\");\r\n        }\r\n    };\r\n    componentDidMount() {\r\n        this.getTeachCourse();\r\n    }\r\n\r\n    render() {\r\n        const formItemLayout = {\r\n            labelCol: {span:4},\r\n            wrapperCol: {span:16},\r\n        };\r\n        const tailFormItemLayout = {\r\n            wrapperCol: {span:16,offset:4},\r\n        };\r\n\r\n        const createCourseForm=(\r\n            <div>\r\n                <Button type=\"primary\" onClick={this.showModal}>\r\n                    创建课程\r\n                </Button>\r\n                <Modal title=\"创建课程\" onCancel={this.handleCancel}\r\n                    visible={this.state.visible} footer={null}\r\n                >\r\n                    <Form name=\"create-course\" onFinish={this.handleCreateCourse}\r\n                          {...formItemLayout} ref={this.formRef}\r\n                    >\r\n                        <Form.Item name=\"cover\" label=\"封面\" >\r\n                            <PictureUpload fileList={(callback)=>{\r\n                                this.getFileList=callback;\r\n                            }}/>\r\n                        </Form.Item>\r\n                        <Form.Item name=\"name\" label=\"课程名\"  rules={[\r\n                            {required: true,message: '请输入邮箱!'},\r\n                        ]}\r\n                        >\r\n                            <Input  />\r\n                        </Form.Item>\r\n                        <Form.Item name=\"teacher\" label=\"教师\"\r\n                                   rules={[{ required: true, message: '请输入姓名!' }]}\r\n                        >\r\n                            <Input />\r\n                        </Form.Item>\r\n                        <Form.Item name=\"description\" label=\"说明\">\r\n                            <Input />\r\n                        </Form.Item>\r\n                        <Form.Item {...tailFormItemLayout}>\r\n                            <Button type=\"primary\" htmlType=\"submit\"\r\n                                    className=\"login-form-button\" style={{width:\"100%\"}}>\r\n                                创建课程\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Modal>\r\n            </div>\r\n        );\r\n        return (\r\n            <Card style={{height:\"100%\"}} title=\"我教的课\" extra={createCourseForm}>\r\n                <Row gutter={16}>\r\n                    {\r\n                        this.state.courses.map((item)=>{\r\n                            return (\r\n                                <Col span={8} key={item.ID} style={{marginTop:20}}>\r\n                                    <Link to={{pathname:\"/teacher-course/\"+item.ID}} >\r\n                                        <Card hoverable style={{ width: 270 }} bodyStyle={{padding:10}}\r\n                                            cover={<img alt=\"cover\" style={{width:270,height:180}}\r\n                                                        src={Constant.BaseCover+item.cover}/>}\r\n                                        >\r\n                                            <Card.Meta title={item.name} description={\r\n                                                <div>\r\n                                                    <div>{item.teacher}</div>\r\n                                                    <div>{item.description}</div>\r\n                                                </div>\r\n                                            } />\r\n                                        </Card>\r\n                                    </Link>\r\n                                </Col>\r\n                            )\r\n                        })\r\n                    }\r\n                </Row>\r\n            </Card>\r\n        )\r\n    }\r\n}","import {GET_ADMIN, GET_USER} from './action-types'\r\nimport request from  '../api';\r\nexport const getUser = ()=>{\r\n  return async (dispatch)=>{\r\n      const result = await request.getUserByToken();\r\n      dispatch({type:GET_USER,data:result});\r\n  }\r\n};\r\nexport const getAdmin = ()=>{\r\n    return async (dispatch)=>{\r\n        const result = await request.getAdminByToken();\r\n        dispatch({type:GET_ADMIN,data:result});\r\n    }\r\n};","import React from \"react\";\r\nimport { Layout, Menu,Avatar } from 'antd';\r\nimport {ReadOutlined, UserOutlined} from '@ant-design/icons';\r\nimport \"./user.less\"\r\nimport {connect} from 'react-redux';\r\nimport Constant from \"../../utils/constant\";\r\nimport {Switch,Route,Redirect} from 'react-router-dom';\r\nimport StudyCourse from \"./study-course\";\r\nimport PersonalInfo from \"./personal-info\";\r\nimport TeachCourse from \"./teach-course\";\r\nimport {getUser} from \"../../store/actions\";\r\nconst { Header, Content, Sider } = Layout;\r\nclass User extends React.Component{\r\n    logout=()=>{\r\n        window.localStorage.removeItem(\"token\");\r\n        this.props.history.push(\"/login\");\r\n    };\r\n    componentDidMount(){\r\n        let token = window.localStorage.getItem(\"token\");\r\n        if(token){\r\n            this.props.getUser();\r\n        }\r\n    }\r\n    onUserMenuClick=({key})=>{\r\n        if(key===\"logout\"){\r\n            this.logout();\r\n        }\r\n    };\r\n    onSiderMenuClick=(config)=>{\r\n        let {key} = config;\r\n        for(let i=0;i<this.menuData.length;i++){\r\n            if(this.menuData[i].key===key){\r\n                this.props.history.push(this.menuData[i].path);\r\n                break;\r\n            }\r\n        }\r\n    };\r\n    menuData=[\r\n        {key:\"1\", path:\"/user/study-course\", text:\"我学的课\", icon:<ReadOutlined/>},\r\n        {key:\"2\",path:\"/user/teach-course\", text:\"我教的课\",icon:<ReadOutlined />},\r\n        {key:\"3\",path:\"/user/personal-info\", text:\"我的信息\",icon:<UserOutlined />},\r\n    ];\r\n    //输入路径名或点击返回时能正确显示菜单选中状态\r\n    getSelectedKey=()=> {\r\n        const path = this.props.location.pathname;\r\n        let selectedKey=[];\r\n        this.menuData.forEach((item)=>{\r\n            if(item.path===path){\r\n                selectedKey=[item.key];\r\n            }\r\n        });\r\n        return selectedKey;\r\n    };\r\n    render() {\r\n        let selectedKey = this.getSelectedKey();\r\n        if(selectedKey.length===0){\r\n            selectedKey=['1'];\r\n        }\r\n        const user = this.props.user;\r\n        return (\r\n            <Layout className=\"user\">\r\n                <Header className=\"header\" >\r\n                    <div className=\"logo\">辅助学习平台</div>\r\n                    <Menu theme=\"light\" mode=\"horizontal\" className=\"menu\" onClick={this.onUserMenuClick}>\r\n                        <Menu.SubMenu  className=\"subMenu\" title={<span>\r\n                            <Avatar size={32} src={Constant.BaseAvatar+user.avatar}/>\r\n                            <span style={{marginLeft:10}}>{user.realName}</span>\r\n                        </span>}>\r\n                            <Menu.Item key=\"logout\">退出登录</Menu.Item>\r\n                        </Menu.SubMenu>\r\n                    </Menu>\r\n                </Header>\r\n                <Layout className=\"body\">\r\n                    <Sider className=\"sider\" theme=\"light\" breakpoint=\"lg\" collapsedWidth=\"0\" width=\"250\">\r\n                        <Menu theme=\"light\" mode=\"inline\" defaultSelectedKeys={['1']}\r\n                              selectedKeys={selectedKey} className=\"menu\" onClick={this.onSiderMenuClick}\r\n                        >\r\n                            {\r\n                                this.menuData.map((item)=>{\r\n                                    return (\r\n                                        <Menu.Item key={item.key}>\r\n                                            {item.icon}\r\n                                            <span className=\"nav-text\">{item.text}</span>\r\n                                        </Menu.Item>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </Menu>\r\n                    </Sider>\r\n                    <Content className=\"content\">\r\n                        <Switch>\r\n                            <Redirect from=\"/user\" exact to=\"/user/study-course\"/>\r\n                            <Route path=\"/user/study-course\" component={StudyCourse}/>\r\n                            <Route path=\"/user/teach-course\" component={TeachCourse}/>\r\n                            <Route path=\"/user/personal-info\" component={PersonalInfo}/>\r\n                        </Switch>\r\n                    </Content>\r\n                </Layout>\r\n            </Layout>\r\n        )\r\n    }\r\n}\r\nexport default connect(state=>({user:state.user}),{getUser})(User)","import React from \"react\";\r\nimport {Menu, Layout, message} from \"antd\";\r\nimport Request from \"../../api\"\r\nimport Constant from \"../../utils/constant\";\r\nimport queryString from 'querystring'\r\nconst {Sider,Content}= Layout;\r\nexport default class Home extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.courseId = queryString.parse(props.location.search.slice(1)).courseId;\r\n        this.state= {\r\n            chapters: [],\r\n            selectedChapterId:0,\r\n            selectedVideoName:\"\",\r\n        };\r\n    };\r\n    componentDidMount() {\r\n        this.loadChapterData();\r\n    }\r\n    loadChapterData=async ()=>{\r\n        try{\r\n            const result = await Request.getChapterByCourseId(this.courseId);\r\n            this.setState({chapters:result});\r\n            if(result.length!==0){\r\n                let chapter=result[0];\r\n                this.setState({selectedChapterId:chapter.ID,selectedVideoName:chapter.videoName});\r\n            }else{\r\n                this.setState({selectedVideoName:\"\"})\r\n            }\r\n        }catch (e) {\r\n            console.log(e);\r\n            message.error(\"获取目录失败\");\r\n        }\r\n\r\n    };\r\n    onMenuItemClick=({item})=>{\r\n        let chapter = item.props.record;\r\n        this.setState({selectedChapterId:chapter.ID,selectedVideoName:chapter.videoName});\r\n    };\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <Sider className=\"sider\" theme=\"light\" breakpoint=\"lg\" collapsedWidth=\"0\" width=\"250\">\r\n                    <Menu theme=\"light\" mode=\"inline\" onClick={this.onMenuItemClick}\r\n                          selectedKeys={[this.state.selectedChapterId.toString()]}>\r\n                        {this.state.chapters.map((item)=>{return (\r\n                                    <Menu.Item key={item.ID} record={item}>\r\n                                        <span className=\"nav-text\">{item.chapterName}</span>\r\n                                    </Menu.Item>\r\n                        )})}\r\n                    </Menu>\r\n                </Sider>\r\n                <Content>\r\n                    <div style={{width:\"100%\",height:\"100%\"}}>\r\n                        {\r\n                            this.state.selectedVideoName===\"\"||this.state.selectedVideoName==null?\r\n                                null:(\r\n                                    <video width=\"75%\"  controls style={{marginTop:10,marginLeft:10}}\r\n                                           src={Constant.BaseVideo+this.state.selectedVideoName}/>\r\n                                )\r\n                        }\r\n                    </div>\r\n                </Content>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Table,Button,message} from 'antd';\r\nimport { Resizable } from 'react-resizable';\r\nimport Request from \"../../api\";\r\nimport moment from \"moment\";\r\nimport folder from \"../../assets/folder.png\";\r\nimport queryString from \"querystring\";\r\nconst ResizeableTitle = props => {\r\n    const { onResize, width, ...restProps } = props;\r\n    if (!width) {return <th {...restProps} />;}\r\n    return (\r\n        <Resizable width={width} height={0} onResize={onResize}\r\n                   handle={resizeHandle => (\r\n                <span className={`react-resizable-handle react-resizable-handle-${resizeHandle}`}\r\n                    onClick={e => {e.stopPropagation();}}/>\r\n            )}\r\n            draggableOpts={{ enableUserSelectHack: false }}\r\n        >\r\n            <th {...restProps} />\r\n        </Resizable>\r\n    );\r\n};\r\n\r\nexport default class Resource extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.courseId = queryString.parse(props.location.search.slice(1)).courseId;\r\n        this.parentId = 0;\r\n        this.query=this.getQuery();\r\n        this.state={\r\n            columns:this.fileColumns,\r\n            fileData:[],\r\n        };\r\n    };\r\n    getQuery=()=>{\r\n        const search=this.props.location.search;\r\n        let courseId,classId=0;\r\n        let query=\"\";\r\n        if(search!==\"\"){\r\n            let obj=queryString.parse(search.slice(1));\r\n            courseId=obj.courseId;\r\n            classId=obj.classId;\r\n            query=`courseId=${courseId}&classId=${classId}`;\r\n        }\r\n        return query\r\n    };\r\n    componentDidMount() {\r\n        this.loadFileData();\r\n    }\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if(this.props.location !== prevProps.location){//路由变化重新载入文件数据\r\n            this.loadFileData();\r\n        }\r\n    }\r\n\r\n    fileColumns=[\r\n        {width: 600, title: '文件名', dataIndex: 'filename',\r\n            render:(text,record)=>{\r\n                if(record.localFilename===''){\r\n                    return (\r\n                        <React.Fragment>\r\n                            <img style={{width:32,height:32}} alt='folder' src={folder}/>\r\n                            <span style={{marginLeft:5}}>{text}</span>\r\n                        </React.Fragment>\r\n                    )\r\n                }else{\r\n                    return text;\r\n                }\r\n            }\r\n        },\r\n        {width: 300, title: '创建日期', dataIndex: 'CreatedAt', align: 'center',\r\n            render: (text) => {return moment(text).format('YYYY-MM-DD HH:mm:ss');},\r\n        },\r\n        {width:200,title:'大小',dataIndex:'size',align:'center',\r\n            render:(text)=>{\r\n                let size=parseInt(text);\r\n                if(size===0){return \"\"}\r\n                else if(size<1000){return size+\"B\"}\r\n                else if(size<1000*1000) {size=size/1000;return size+\"KB\";}\r\n                else if(size<1000*1000*1000){size=size/1000/1000;return size+\"MB\";}\r\n                else{size=size/1000/1000/1000;return size+\"GB\";}\r\n            }\r\n        },\r\n        {\r\n            title: '操作', key: 'action',\r\n            render: (text,record) => {\r\n                if(record.localFilename!==\"\"){\r\n                    return (\r\n                        <Button type=\"link\" style={{marginRight:10}}\r\n                                onClick={()=>{this.handleDownloadFile(record.ID)}}>\r\n                            下载\r\n                        </Button>\r\n                    )\r\n                }\r\n            },\r\n        },\r\n    ];\r\n\r\n    handleDownloadFile=async (id)=>{\r\n        try{\r\n            await Request.downloadFile(id);\r\n        }catch (e) {\r\n            message.error(\"下载出错\");\r\n        }\r\n    };\r\n    handleResize = index => (e, { size }) => {\r\n        this.setState(({ columns }) => {\r\n            const nextColumns = [...columns];\r\n            nextColumns[index] = {\r\n                ...nextColumns[index],\r\n                width: size.width,\r\n            };\r\n            return { columns: nextColumns };\r\n        });\r\n    };\r\n\r\n    loadFileData=async ()=>{\r\n      try{\r\n          let search = this.props.location.search;\r\n          if(search!==\"\"){\r\n              this.parentId=queryString.parse(search.slice(1)).parentId;\r\n          }else {\r\n              this.parentId = 0;\r\n          }\r\n          let result = await Request.getChildFile({courseId:this.courseId,parentId:this.parentId});\r\n          result = this.sortFileData(result);\r\n          this.setState({fileData:result});\r\n\r\n      }catch (e) {\r\n          message.error(\"获取文件数据失败\");\r\n      }\r\n    };\r\n    sortFileData(fileData){//使文件夹靠前\r\n        let folder=[];\r\n        let file =[];\r\n        fileData.forEach((item)=>{\r\n            if(item.localFilename===\"\"){\r\n                folder.push(item);\r\n            }else {\r\n                file.push(item);\r\n            }\r\n        });\r\n        fileData=folder.concat(file);\r\n        return fileData;\r\n    };\r\n    components = {\r\n        header: {\r\n            cell: ResizeableTitle,\r\n        },\r\n    };\r\n    render() {\r\n        const columns = this.state.columns.map((col, index) => ({\r\n            ...col,\r\n            onHeaderCell: column => ({\r\n                width: column.width,\r\n                onResize: this.handleResize(index),\r\n            }),\r\n        }));\r\n        return (\r\n            <div>\r\n                <Table bordered  columns={columns} dataSource={this.state.fileData}\r\n                       components={this.components} pagination={false}\r\n                       rowKey={record=>record.ID}\r\n                       onRow={(record)=> {\r\n                           return {\r\n                               onDoubleClick: () => {\r\n                                   if(record.localFilename===\"\"){//代表是文件夹\r\n                                       this.props.history.push({\r\n                                           pathname:`/student-course/resource`,\r\n                                           search:`${this.query}&parentId=${record.ID}`,\r\n                                       });\r\n                                   }\r\n                               },\r\n                           };\r\n                       }}\r\n                />\r\n            </div>\r\n        )\r\n    };\r\n\r\n};","import React from \"react\";\r\nimport {List, message, Card} from 'antd';\r\nimport Request from '../../api';\r\nimport moment from \"moment\";\r\nimport queryString from \"querystring\";\r\nexport default class Notify extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.courseId = queryString.parse(props.location.search.slice(1)).courseId;\r\n        this.state = {\r\n            notifyData:[],\r\n        };\r\n    };\r\n    loadNotifyData=async ()=>{\r\n        try{\r\n            const result = await Request.getNotifyByCourseId(this.courseId);\r\n            this.setState({notifyData:result});\r\n        }catch (e) {\r\n            message.error(\"获取通知失败\");\r\n        }\r\n    };\r\n    componentDidMount() {\r\n        this.loadNotifyData();\r\n    };\r\n    render() {\r\n        return (\r\n            <Card title=\"通知\" bodyStyle={{padding:20}}\r\n                  style={{width:\"80%\",marginLeft:\"auto\",marginRight:\"auto\",height:\"100%\"}}>\r\n                <List itemLayout=\"horizontal\" dataSource={this.state.notifyData}\r\n                    renderItem={item => (\r\n                        <List.Item style={{borderBottom:\"1px solid lightgray\"}} extra={moment(item.CreatedAt).format('YYYY-MM-DD HH:mm:ss')}>\r\n                            <List.Item.Meta title={item.title} description={item.content}/>\r\n                        </List.Item>\r\n                    )}\r\n                />\r\n            </Card>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Button, Card,Row,Col,} from \"antd\";\r\nimport Request from \"../../api\"\r\nimport queryString from \"querystring\";\r\nimport moment from \"moment\";\r\nexport default class Homework extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.classId = queryString.parse(props.location.search.slice(1)).classId;\r\n        this.state={\r\n            homeworkData:[],\r\n        };\r\n    }\r\n    loadHomeworkPublishes=async ()=>{\r\n        try{\r\n            const result = await Request.getHomeworkPublishesWithSubmitByClassId(this.classId);\r\n            this.setState({homeworkData:result})\r\n        }catch (e) {\r\n            console.log(e)\r\n        }\r\n    };\r\n    componentDidMount() {\r\n        this.loadHomeworkPublishes();\r\n    };\r\n    goToFinishHomeworkPage=(item)=>{\r\n        let query=`homeworkPublishId=${item.ID}&homeworkLibId=${item.homeworkLibId}`;\r\n        this.props.history.push({pathname:\"/doHomework\",search:query});\r\n    };\r\n    goToViewHomeworkPage=(item)=>{\r\n        let query=`homeworkPublishId=${item.ID}&homeworkLibId=${item.homeworkLibId}`;\r\n        this.props.history.push({pathname:\"/viewHomework\",search:query});\r\n    };\r\n    getSubmitStatus=(item)=>{\r\n        let beginTime=new Date(item.beginTime).getTime();\r\n        let endTime=new Date(item.endTime).getTime();\r\n        let now = new Date().getTime();\r\n        if(now<beginTime){\r\n            return '未开始';\r\n        }else{\r\n            if(item.submitRecord.ID===0){//未提交\r\n                if(now>endTime) return '已过期';\r\n                if(now<endTime) return '待完成';\r\n            }else{\r\n                if(item.submitRecord.mark===0){//未批阅\r\n                    return '待批阅';\r\n                }else if(item.submitRecord.mark===1){\r\n                    return '已完成';\r\n                }\r\n            }\r\n        }\r\n    };\r\n    render() {\r\n        return (\r\n            <Card title=\"作业列表\" bodyStyle={{padding:20}} style={{width:\"80%\",height:\"100%\",\r\n                marginLeft:\"auto\",marginRight:\"auto\"}}>\r\n                <div>\r\n                    <Row gutter={16}>\r\n                    {\r\n                        this.state.homeworkData.map((item)=>{\r\n                            let status=this.getSubmitStatus(item);\r\n                            return (<Col span={8} key={item.ID}>\r\n                                    <Card title={item.homeworkLib.name} actions={[\r\n                                        <div style={{display:\"flex\",justifyContent:\"space-between\",paddingLeft:20,paddingRight:20}}>\r\n                                            {status===\"已完成\"?<span><span style={{color:\"red\",fontSize:20}}>{item.submitRecord.totalScore}</span> 分</span>:<div/>}\r\n                                            {( ()=>{\r\n                                                if(status===\"未开始\"){\r\n                                                    return <Button disabled={true}>编辑</Button>\r\n                                                }else if(status===\"已完成\"||status===\"已过期\"){\r\n                                                    return <Button onClick={()=>this.goToViewHomeworkPage(item)}>查看</Button>\r\n                                                }else if(status===\"待批阅\"){\r\n                                                    return <Button onClick={()=>this.goToFinishHomeworkPage(item)}>重新编辑</Button>\r\n                                                }else if(status===\"待完成\"){\r\n                                                    return <Button onClick={()=>this.goToFinishHomeworkPage(item)}>编辑</Button>\r\n                                                }\r\n                                            })()\r\n                                            }\r\n                                        </div>]\r\n                                    }>\r\n                                        <div>开始时间:{moment(item.beginTime).format(\"YYYY-MM-DD HH:mm:ss\")}</div>\r\n                                        <div>结束时间:{moment(item.endTime).format(\"YYYY-MM-DD HH:mm:ss\")}</div>\r\n                                        <div>总分:{item.homeworkLib.totalScore}分</div>\r\n                                        <div>状态:{status}</div>\r\n                                    </Card>\r\n                            </Col>)\r\n                        })\r\n                    }\r\n                    </Row>\r\n                </div>\r\n            </Card>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Button, Card, Row, Col,} from \"antd\";\r\nimport Request from \"../../api\"\r\nimport queryString from \"querystring\";\r\nimport moment from \"moment\";\r\nexport default class Exam extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.classId = queryString.parse(props.location.search.slice(1)).classId;\r\n        this.state={\r\n            examData:[],\r\n        };\r\n    }\r\n    loadExamPublishes=async ()=>{\r\n        try{\r\n            const result = await Request.getExamPublishesWithSubmitByClassId(this.classId);\r\n            this.setState({examData:result})\r\n        }catch (e) {\r\n            console.log(e)\r\n        }\r\n    };\r\n    componentDidMount() {\r\n        this.loadExamPublishes();\r\n    };\r\n    getSubmitStatus=(item)=>{\r\n        let now =moment();\r\n        let beginTime=moment(item.beginTime);\r\n        let endTime=moment(item.endTime);\r\n        if(now.isBefore(beginTime)){\r\n            return '未开始';\r\n        }\r\n        if(item.submitRecord.ID===0){//未点击开始考试\r\n            if(now.isAfter(endTime)) return '已过期';\r\n            if(now.isBefore(endTime)) return '待完成';\r\n        }else{\r\n            if(item.submitRecord.mark===1){\r\n                return '已完成';\r\n            }\r\n            if(!item.submitRecord.finishTime){//未手动提交\r\n                let startTime=moment(item.submitRecord.startTime);\r\n                let stopTime=startTime.add(item.duration,'minutes');\r\n                if(stopTime.isAfter(now)){\r\n                    return '待完成';\r\n                }else{\r\n                    return '考试结束';\r\n                }\r\n            }\r\n            if(item.submitRecord.mark===0){//未批阅\r\n                    return '待批阅';\r\n            }\r\n        }\r\n    };\r\n    goToDoExamPage=async (item)=>{\r\n        let query=`examPublishId=${item.ID}&examLibId=${item.examLibId}`;\r\n        this.props.history.push({pathname:\"/doExam\",search:query});\r\n    };\r\n    render() {\r\n        return (\r\n            <Card title=\"考试列表\" bodyStyle={{padding:20}} style={{width:\"80%\",height:\"100%\",\r\n                marginLeft:\"auto\",marginRight:\"auto\"}}>\r\n                <div>\r\n                    <Row gutter={16}>\r\n                        {\r\n                            this.state.examData.map((item)=>{\r\n                                let status=this.getSubmitStatus(item);\r\n                                return (<Col span={8} key={item.ID}>\r\n                                    <Card title={item.examLib.name} actions={[\r\n                                        <div style={{display:\"flex\",justifyContent:\"space-between\",paddingLeft:20,paddingRight:20}}>\r\n                                            {status===\"已完成\"?<span><span style={{color:\"red\",fontSize:20}}>{item.submitRecord.totalScore}</span> 分</span>:<div/>}\r\n                                            {( ()=>{\r\n                                                if(status===\"待完成\"){\r\n                                                    return <Button onClick={()=>this.goToDoExamPage(item)}>开始考试</Button>\r\n                                                }else{\r\n                                                    return <Button disabled={true}>{status}</Button>\r\n                                                }\r\n                                            })()\r\n                                            }\r\n                                        </div>]\r\n                                    }>\r\n                                        <div>开始时间:{moment(item.beginTime).format(\"YYYY-MM-DD HH:mm:ss\")}</div>\r\n                                        <div>结束时间:{moment(item.endTime).format(\"YYYY-MM-DD HH:mm:ss\")}</div>\r\n                                        <div>考试时间:{item.duration}分钟</div>\r\n                                        <div>总分:{item.examLib.totalScore}分</div>\r\n                                    </Card>\r\n                                </Col>)\r\n                            })\r\n                        }\r\n                    </Row>\r\n                </div>\r\n            </Card>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Comment, Avatar, List, Empty, Button, message, Modal, Input, Card} from 'antd';\r\nimport moment from \"moment\";\r\nimport Constant from \"../../../utils/constant\";\r\nimport Request from \"../../../api\"\r\nimport queryString from \"querystring\";\r\nimport {withRouter} from \"react-router\";\r\n\r\nclass CourseComment extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.courseId = queryString.parse(props.location.search.slice(1)).courseId;\r\n        this.replyId = 0;\r\n        this.parentId = 0;\r\n        this.replyUserId = 0;\r\n        this.replyUserRealName=\"\";//回复子评论的用户的名字\r\n        this.state = {\r\n            comment: \"\",\r\n            commentData: [],\r\n            commentModal: false,\r\n        };\r\n    }\r\n\r\n    loadCommentData = async () => {\r\n        try {\r\n            const result = await Request.getCommentByCourseId(this.courseId);\r\n            this.setState({commentData: result});\r\n        } catch (e) {\r\n            message.error(\"获取评论失败\");\r\n        }\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.loadCommentData();\r\n\r\n    }\r\n\r\n    showCommentModal = () => {\r\n        this.setState({commentModal: true});\r\n    };\r\n    cancelCommentModal = () => {\r\n        this.setState({commentModal: false,comment:\"\"});\r\n    };\r\n    handleCommentChange = (event) => {\r\n        this.setState({comment: event.target.value});\r\n    };\r\n    handleSubmitComment = async (e) => {\r\n        try {\r\n            let comment = {\r\n                courseId: this.courseId,\r\n                content: this.state.comment,\r\n                parentId: this.parentId,\r\n                replyId: this.replyId,\r\n                replyUserId: this.replyUserId,\r\n            };\r\n            if(this.parentId!==this.replyId){//回复的是子评论\r\n                comment.content=`回复${this.replyUserRealName}:`+this.state.comment;\r\n            }\r\n            await Request.createComment(comment);\r\n            this.cancelCommentModal();\r\n            this.loadCommentData();\r\n        } catch (e) {\r\n            message.error(\"发布失败\");\r\n        }\r\n    };\r\n    createComment=async ()=>{\r\n        this.replyId = 0;\r\n        this.parentId = 0;\r\n        this.replyUserId = 0;\r\n        this.showCommentModal();\r\n    };\r\n    replyParentComment=async (item)=>{\r\n        this.replyId = item.ID;\r\n        this.parentId = item.ID;\r\n        this.replyUserId = item.user.ID;\r\n        this.showCommentModal();\r\n    };\r\n    replyChildComment=async (item)=>{\r\n        this.replyId = item.ID;\r\n        this.parentId = item.parentId;\r\n        this.replyUserId = item.user.ID;\r\n        this.replyUserRealName=item.user.realName;\r\n        this.showCommentModal();\r\n    };\r\n    render() {\r\n        return (\r\n            <Card title={`${this.state.commentData.length}条讨论`} bodyStyle={{padding:20}}\r\n                  extra={<Button type=\"primary\" onClick={this.createComment}>\r\n                            添加评论\r\n                        </Button>}\r\n            >\r\n                <Modal title=\"发布评论\" onCancel={this.cancelCommentModal}\r\n                           visible={this.state.commentModal} onOk={this.handleSubmitComment}>\r\n                    <Input.TextArea value={this.state.comment} onChange={this.handleCommentChange} rows={5}/>\r\n                </Modal>\r\n                <div>\r\n                    <List itemLayout=\"horizontal\" dataSource={this.state.commentData}\r\n                          renderItem={item => this.state.commentData.length === 0 ?\r\n                              (<Empty image={Empty.PRESENTED_IMAGE_SIMPLE}/>) : (\r\n                                  <li>\r\n                                      <Comment\r\n                                          actions={[<Button style={{padding:0}} type=\"link\" onClick={()=>{this.replyParentComment(item)}}>回复</Button>]}\r\n                                          author={<span style={{color:\"black\"}}>{item.user.realName}</span>}\r\n                                               avatar={<Avatar src={item.user.avatar === \"\" ? \"\" : Constant.BaseAvatar + item.user.avatar}/>}\r\n                                               content={item.content}\r\n                                          datetime={<span style={{color:\"black\"}}>{moment(item.CreatedAt).format('YYYY-MM-DD HH:mm:ss')}</span>}\r\n                                      >\r\n                                          {(() => {\r\n                                              if (item.children.length === 0) return null;\r\n                                              else {\r\n                                                  return item.children.map((subItem) => {\r\n                                                      return (\r\n                                                          <Comment key={subItem.ID}\r\n                                                                   actions={[\r\n                                                                       <Button style={{padding:0}} onClick={()=>{this.replyChildComment(subItem)}} type=\"link\">\r\n                                                                            回复\r\n                                                                        </Button>]}\r\n                                                                   author={<span style={{color:\"black\"}}>{subItem.user.realName}</span>}\r\n                                                                   avatar={<Avatar src={subItem.user.avatar === \"\" ? \"\" : Constant.BaseAvatar + subItem.user.avatar}/>}\r\n                                                                   content={subItem.content}\r\n                                                                   datetime={<span style={{color:\"black\"}}>{moment(subItem.CreatedAt).format('YYYY-MM-DD HH:mm:ss')}</span>}\r\n                                                          />\r\n                                                      )\r\n                                                  })\r\n                                              }\r\n                                          })()}\r\n                                      </Comment>\r\n                                  </li>\r\n                              )}\r\n                    />\r\n                </div>\r\n\r\n            </Card>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(CourseComment);","import React from \"react\";\r\nimport {Avatar, Button, Card, Comment, Empty, List, message, Popconfirm} from \"antd\";\r\nimport Constant from \"../../../utils/constant\";\r\nimport moment from \"moment\";\r\nimport Request from \"../../../api\";\r\nimport queryString from \"querystring\";\r\nimport {withRouter} from \"react-router\";\r\n\r\nclass MyComment extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.courseId = queryString.parse(props.location.search.slice(1)).courseId;\r\n        this.state = {\r\n            commentData: [],\r\n        };\r\n    }\r\n    loadCommentData=async ()=>{\r\n        try {\r\n            const result = await Request.getCommentByUserId(this.courseId);\r\n            this.setState({commentData: result});\r\n        } catch (e) {\r\n            message.error(\"获取评论失败\");\r\n        }\r\n    };\r\n    deleteComment=async (item)=>{\r\n      try {\r\n          await Request.deleteCommentById(item.ID);\r\n          this.loadCommentData();\r\n          message.success(\"已删除\");\r\n      }catch (e) {\r\n          message.error(\"删除失败\");\r\n      }\r\n    };\r\n    componentDidMount() {\r\n        this.loadCommentData();\r\n    }\r\n    render() {\r\n        return(\r\n            <Card>\r\n                <List itemLayout=\"horizontal\" dataSource={this.state.commentData}\r\n                      renderItem={item => this.state.commentData.length === 0 ?\r\n                          (<Empty image={Empty.PRESENTED_IMAGE_SIMPLE}/>) :\r\n                          (<li>\r\n                              <Comment actions={[<Popconfirm title=\"确定删除\" onConfirm={()=>{this.deleteComment(item)}}>\r\n                                      <Button style={{padding:0}} type=\"link\">删除</Button>\r\n                                  </Popconfirm>]}\r\n                                  author={<span style={{color:\"black\"}}>{item.user.realName}</span>}\r\n                                  avatar={<Avatar src={item.user.avatar === \"\" ? \"\" : Constant.BaseAvatar + item.user.avatar}/>}\r\n                                  content={item.content}\r\n                                  datetime={<span style={{color:\"black\"}}>{moment(item.CreatedAt).format('YYYY-MM-DD HH:mm:ss')}</span>}\r\n                              >\r\n                              </Comment>\r\n                          </li>)\r\n                      }\r\n                />\r\n            </Card>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(MyComment);","import React from \"react\";\r\nimport {Avatar, Card, Comment, Empty, List, message, } from \"antd\";\r\nimport Constant from \"../../../utils/constant\";\r\nimport moment from \"moment\";\r\nimport Request from \"../../../api\";\r\nimport queryString from \"querystring\";\r\nimport {withRouter} from \"react-router\";\r\n\r\nclass ReplyToMe extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.courseId = queryString.parse(props.location.search.slice(1)).courseId;\r\n        this.state = {\r\n            commentData: [],\r\n        };\r\n    }\r\n    loadCommentData=async ()=>{\r\n        try {\r\n            const result = await Request.getCommentReplyToUser(this.courseId);\r\n            this.setState({commentData: result});\r\n        } catch (e) {\r\n            message.error(\"获取评论失败\");\r\n        }\r\n    };\r\n    componentDidMount() {\r\n        this.loadCommentData();\r\n    }\r\n    render() {\r\n        return(\r\n            <Card>\r\n                <List itemLayout=\"horizontal\" dataSource={this.state.commentData}\r\n                      renderItem={item => this.state.commentData.length === 0 ?\r\n                          (<Empty image={Empty.PRESENTED_IMAGE_SIMPLE}/>) :\r\n                          (<li>\r\n                              <Comment\r\n                                  author={<span style={{color:\"black\"}}>{item.user.realName}</span>}\r\n                                  avatar={<Avatar src={item.user.avatar === \"\" ? \"\" : Constant.BaseAvatar + item.user.avatar}/>}\r\n                                  content={item.content}\r\n                                  datetime={<span style={{color:\"black\"}}>{moment(item.CreatedAt).format('YYYY-MM-DD HH:mm:ss')}</span>}\r\n                              >\r\n                              </Comment>\r\n                          </li>)\r\n                      }\r\n                />\r\n            </Card>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(ReplyToMe);","import React from \"react\";\r\nimport {Layout, Menu} from \"antd\";\r\nimport CourseComment from \"./course-comment\";\r\nimport MyComment from \"./my-comment\";\r\nimport ReplyToMe from \"./replyToMe\";\r\nconst {Content,Sider } = Layout;\r\nexport default class Discuss extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.menuData=[\r\n            {key:\"1\", text:\"课程讨论\"},\r\n            {key:\"2\", text:\"我发表的\"},\r\n            {key:\"3\",text:\"回复我的\"},\r\n        ];\r\n        this.state={\r\n            key:\"1\",\r\n        }\r\n\r\n    }\r\n    onMenuClick=({key})=> {\r\n        this.setState({key:key})\r\n    };\r\n    render() {\r\n        return(\r\n            <React.Fragment>\r\n                <Sider className=\"sider\" theme=\"light\" breakpoint=\"lg\" collapsedWidth=\"0\" width=\"250\">\r\n                    <Menu theme=\"light\" mode=\"inline\" onClick={this.onMenuClick}\r\n                          selectedKeys={[this.state.key]} >\r\n                        {this.menuData.map((item)=>{return (\r\n                            <Menu.Item key={item.key}>\r\n                                <span>{item.text}</span>\r\n                            </Menu.Item>\r\n                        )})}\r\n                    </Menu>\r\n                </Sider>\r\n                <Content>\r\n                    {this.state.key==='1'?<CourseComment/>:null}\r\n                    {this.state.key==='2'?<MyComment/>:null}\r\n                    {this.state.key==='3'?<ReplyToMe/>:null}\r\n                </Content>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Layout, Menu} from \"antd\";\r\nimport {Link,Route, Switch} from \"react-router-dom\";\r\nimport \"./student-course.less\";\r\nimport Home from \"./home\";\r\nimport Resource from \"./resource\";\r\nimport Notify from \"./notify\";\r\nimport Homework from \"./homework\";\r\nimport Exam from \"./exam\";\r\nimport Discuss from \"./discuss/discuss\";\r\nimport queryString from 'querystring'\r\nimport Request from \"../../api\";\r\nimport github from \"../../assets/github.svg\"\r\nimport Constant from \"../../utils/constant\";\r\nconst { Header } = Layout;\r\nexport default class StudentCourse extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.parentPath=\"/student-course\";\r\n        this.query=queryString.parse(props.location.search.slice(1));\r\n        this.state={\r\n          courseName:\"\",\r\n        };\r\n    }\r\n    menuData=[\r\n        {key:\"home\", path:\"/home\", text:\"首页\"},\r\n        {key:\"resource\",path:\"/resource\", text:\"资料\"},\r\n        {key:\"notify\",path:\"/notify\", text:\"通知\"},\r\n        {key:\"homework\",path:\"/homework\", text:\"作业\"},\r\n        {key:\"exam\",path:\"/exam\", text:\"考试\"},\r\n        {key:\"discuss\",path:\"/discuss\", text:\"讨论\"},\r\n    ];\r\n    componentDidMount() {\r\n        this.loadCourseData();\r\n    }\r\n    loadCourseData=async ()=>{\r\n        try{\r\n            const result= await Request.getCourseById(parseInt(this.query.courseId.toString()));\r\n            this.setState({courseName:result.name});\r\n        }catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n    render() {\r\n\r\n        return (\r\n            <Layout className=\"student-course\" >\r\n                <Header className=\"header\" style={{marginBottom:1}}>\r\n                    <div className=\"course-name\">{this.state.courseName}</div>\r\n                    <a style={{marginLeft:20}} href={Constant.Github}><img alt=\"github\" src={github}/></a>\r\n                    <Menu theme=\"light\" mode=\"horizontal\"\r\n                          className=\"menu\">\r\n                        {\r\n                            this.menuData.map((item)=>{\r\n                                return (\r\n                                    <Menu.Item key={item.key}>\r\n                                        <Link to={{pathname:this.parentPath+item.path,search:`courseId=${this.query.courseId}&classId=${this.query.classId}`}}>\r\n                                            <span className=\"nav-text\">{item.text}</span>\r\n                                        </Link>\r\n                                    </Menu.Item>\r\n                                )\r\n                            })\r\n                        }\r\n                    </Menu>\r\n                </Header>\r\n                <Layout>\r\n                    <Switch>\r\n                        <Route path=\"/student-course/home\" component={Home}/>\r\n                        <Route path=\"/student-course/resource\" component={Resource}/>\r\n                        <Route path=\"/student-course/notify\" component={Notify}/>\r\n                        <Route path=\"/student-course/homework\" component={Homework}/>\r\n                        <Route path=\"/student-course/exam\" component={Exam}/>\r\n                        <Route path=\"/student-course/discuss\" component={Discuss}/>\r\n                    </Switch>\r\n                </Layout>\r\n            </Layout>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Menu, Layout, message, Button, Form, Input, Modal, Popconfirm, Upload} from \"antd\";\r\nimport Request from \"../../api\"\r\nimport {UploadOutlined} from \"@ant-design/icons\";\r\nimport Constant from \"../../utils/constant\";\r\nconst {Sider,Content}= Layout;\r\nexport default class Home extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.courseId = parseInt(props.match.params.id);\r\n        this.state= {\r\n            chapters: [],\r\n            addChapterModal: false,\r\n            updateChapterModal: false,\r\n            uploadVideoModal: false,\r\n            uploading: false,\r\n            fileList:[],\r\n            selectedChapterId:0,\r\n            selectedVideoName:\"\",\r\n        };\r\n    };\r\n    componentDidMount() {\r\n        this.loadChapterData();\r\n    }\r\n    loadChapterData=async ()=>{\r\n        try{\r\n            const result = await Request.getChapterByCourseId(this.courseId);\r\n            this.setState({chapters:result});\r\n            if(result.length!==0){\r\n                if(this.state.selectedChapterId===0){\r\n                    let chapter=result[0];\r\n                    this.setState({\r\n                        selectedChapterId:chapter.ID,\r\n                        selectedVideoName:chapter.videoName,\r\n                    });\r\n                }else{\r\n                    result.forEach((item)=>{\r\n                        if(item.ID===this.state.selectedChapterId){\r\n                            this.setState({selectedVideoName:item.videoName})\r\n                        }\r\n                    })\r\n                }\r\n            }else {\r\n                this.setState({selectedChapterId:0,selectedVideoName:\"\"})\r\n            }\r\n\r\n        }catch (e) {\r\n            message.error(\"获取目录失败\");\r\n        }\r\n    };\r\n    addChapter= async (values)=>{\r\n        try{\r\n            await Request.createChapter({\r\n                courseId:this.courseId,\r\n                chapterName:values.chapterName\r\n            });\r\n            this.setState({addChapterModal:false});\r\n            this.loadChapterData();\r\n        }catch (e) {\r\n            message.error(\"创建失败\");\r\n        }\r\n\r\n    };\r\n    updateChapterName=async (values)=>{\r\n        try{\r\n            await Request.updateChapterName({\r\n                id:this.state.selectedChapterId,\r\n                chapterName:values.chapterName\r\n            });\r\n            this.setState({updateChapterModal:false});\r\n            this.loadChapterData();\r\n        }catch (e) {\r\n            message.error(\"修改目录失败\");\r\n        }\r\n    };\r\n    updateChapterVideo=async ()=>{\r\n        const { fileList } = this.state;\r\n        const formData = new FormData();\r\n        if(fileList.length!==0){\r\n            formData.append('video', fileList[0].originFileObj);\r\n        }\r\n        formData.append('id',this.state.selectedChapterId);\r\n        this.setState({uploading: true,});\r\n        try {\r\n            await Request.updateChapterVideo(formData);\r\n            this.setState({\r\n                uploading: false,\r\n                fileList: [],\r\n                uploadVideoModal:false,\r\n            });\r\n            message.success(\"上传视频成功\");\r\n            this.loadChapterData();\r\n        }catch (e) {\r\n            message.error(\"上传视频失败\");\r\n            this.setState({uploading:false});\r\n        }\r\n    };\r\n    onMenuItemClick=({item})=>{\r\n        let chapter = item.props.record;\r\n        this.setState({\r\n            selectedChapterId:chapter.ID,\r\n            selectedVideoName:chapter.videoName,\r\n        });\r\n    };\r\n\r\n    deleteChapterVideo=async ()=>{\r\n        try{\r\n            await Request.deleteChapterVideoById(this.state.selectedChapterId);\r\n            message.success(\"删除视频成功\");\r\n            this.loadChapterData();\r\n        }catch (e) {\r\n            message.error(\"删除视频失败\");\r\n        }\r\n    };\r\n    deleteChapter=async ()=>{\r\n        try{\r\n            await Request.deleteChapterById(this.state.selectedChapterId);\r\n            this.setState({selectedChapterId:0});\r\n            message.success(\"删除目录成功\");\r\n            this.loadChapterData();\r\n        }catch (e) {\r\n            message.error(\"删除目录失败\");\r\n        }\r\n    };\r\n    cancelAddChapterModal=()=>{this.setState({addChapterModal:false})};\r\n    showAddChapterModal=()=>{this.setState({addChapterModal:true})};\r\n    cancelUpdateChapterModal=()=>{this.setState({updateChapterModal:false})};\r\n    showUpdateChapterModal=()=>{this.setState({updateChapterModal:true})};\r\n    cancelUploadVideoModal=()=>{this.setState({uploadVideoModal:false})};\r\n    showUploadVideoModal=()=>{this.setState({uploadVideoModal:true})};\r\n\r\n    beforeUpload = () => {\r\n        return false;\r\n    };\r\n    onRemove = () => {\r\n        this.setState({fileList:[]});\r\n    };\r\n    handleChange=(info)=>{\r\n        let fileList = [...info.fileList];\r\n        fileList = fileList.slice(-1);\r\n        this.setState({fileList:fileList});\r\n    };\r\n\r\n    render() {\r\n        const formItemLayout = {\r\n            labelCol: {span:4},\r\n            wrapperCol: {span:16},\r\n        };\r\n        const tailFormItemLayout = {\r\n            wrapperCol: {span:16,offset:4},\r\n        };\r\n        return (\r\n            <React.Fragment>\r\n                <Sider className=\"sider\" theme=\"light\" breakpoint=\"lg\" collapsedWidth=\"0\" width=\"250\">\r\n                    <Menu theme=\"light\" mode=\"inline\" onClick={this.onMenuItemClick}\r\n                          selectedKeys={[this.state.selectedChapterId.toString()]}>\r\n                        {this.state.chapters.map((item)=>{return (\r\n                                    <Menu.Item key={item.ID} record={item}>\r\n                                        <span className=\"nav-text\">{item.chapterName}</span>\r\n                                    </Menu.Item>\r\n                        )})}\r\n                    </Menu>\r\n                </Sider>\r\n                <Content className=\"content\">\r\n                    <div>\r\n                        <div style={{display:\"flex\",justifyContent:\"flex-end\"}}>\r\n                            <div>\r\n                                <Button type=\"primary\" style={{margin:5}}  onClick={this.showAddChapterModal}>添加目录</Button>\r\n                                <Modal title=\"添加目录\" onCancel={this.cancelAddChapterModal}\r\n                                       visible={this.state.addChapterModal} footer={null}>\r\n                                    <Form name=\"create-chapter\" onFinish={this.addChapter} {...formItemLayout}>\r\n                                        <Form.Item name=\"chapterName\" label=\"名称\"  rules={[{required: true,message: '请输入名称!'},]}>\r\n                                            <Input  />\r\n                                        </Form.Item>\r\n                                        <Form.Item {...tailFormItemLayout}>\r\n                                            <Button type=\"primary\" htmlType=\"submit\" style={{width:\"100%\"}}>确认</Button>\r\n                                        </Form.Item>\r\n                                    </Form>\r\n                                </Modal>\r\n                            </div>\r\n                            <div>\r\n                                <Button type=\"primary\" style={{margin:5}} disabled={this.state.chapters.length===0} onClick={this.showUpdateChapterModal}>修改名称</Button>\r\n                                <Modal title=\"修改目录名\" onCancel={this.cancelUpdateChapterModal}\r\n                                       visible={this.state.updateChapterModal} footer={null}>\r\n                                    <Form name=\"update-chapter\" onFinish={this.updateChapterName}{...formItemLayout}>\r\n                                        <Form.Item name=\"chapterName\" label=\"名称\"  rules={[{required: true,message: '请输入目录名!'},]}>\r\n                                            <Input  />\r\n                                        </Form.Item>\r\n                                        <Form.Item {...tailFormItemLayout}>\r\n                                            <Button type=\"primary\" htmlType=\"submit\" style={{width:\"100%\"}}>\r\n                                                确认修改\r\n                                            </Button>\r\n                                        </Form.Item>\r\n                                    </Form>\r\n                                </Modal>\r\n                            </div>\r\n                            <div>\r\n                                <Button type=\"primary\" style={{margin:5}} onClick={this.showUploadVideoModal}\r\n                                        disabled={this.state.chapters.length===0||\r\n                                        (this.state.selectedVideoName!=null&&\r\n                                        this.state.selectedVideoName!==\"\")}>\r\n                                    上传视频\r\n                                </Button>\r\n                                <Modal title=\"上传视频\" onCancel={this.cancelUploadVideoModal}\r\n                                       visible={this.state.uploadVideoModal} footer={null}>\r\n                                    <Upload  listType=\"picture\" multiple={false} onChange={this.handleChange}\r\n                                             onRemove={this.onRemove}\r\n                                            beforeUpload={this.beforeUpload} fileList={this.state.fileList}>\r\n                                        <Button>\r\n                                            <UploadOutlined /> 选择视频\r\n                                        </Button>\r\n                                    </Upload>\r\n                                    <Button type=\"primary\" onClick={this.updateChapterVideo}\r\n                                            disabled={this.state.fileList.length===0} loading={this.state.uploading}\r\n                                            style={{ marginTop: 16 }}\r\n                                    >\r\n                                        {this.state.uploading ? '上传中' : '开始上传'}\r\n                                    </Button>\r\n                                </Modal>\r\n                            </div>\r\n                            <Popconfirm title=\"确定删除视频\" placement={\"bottom\"} onConfirm={() => {this.deleteChapterVideo()}}>\r\n                                <Button type=\"primary\" style={{margin:5}}\r\n                                        disabled={this.state.chapters.length===0||\r\n                                        this.state.selectedVideoName===\"\"||\r\n                                        this.state.selectedVideoName==null} >\r\n                                    删除视频\r\n                                </Button>\r\n                            </Popconfirm>\r\n                            <Popconfirm title=\"确定删除目录\" placement={\"bottom\"} onConfirm={() => {this.deleteChapter()}}>\r\n                                <Button type=\"primary\" disabled={this.state.chapters.length===0} style={{margin:5}}>删除目录</Button>\r\n                            </Popconfirm>\r\n                        </div>\r\n                        <div style={{width:\"100%\",height:\"100%\"}}>\r\n                                {\r\n                                    this.state.selectedVideoName===\"\"||this.state.selectedVideoName==null?\r\n                                        null:(\r\n                                        <video width=\"75%\"  controls style={{marginTop:10,marginLeft:10}}\r\n                                               src={Constant.BaseVideo+this.state.selectedVideoName}/>\r\n                                    )\r\n                                }\r\n                        </div>\r\n                    </div>\r\n                </Content>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Card, Layout, Menu, Button, Table, message, Space, Popconfirm, Form, Input, Modal} from \"antd\";\r\nimport {PlusOutlined} from \"@ant-design/icons\";\r\nimport Request from \"../../api\";\r\nconst {Sider,Content}= Layout;\r\nexport default class Classes extends React.Component{\r\n    columns=[\r\n        {title: '帐号', dataIndex:'email',width:\"20%\",align:'center'},\r\n        {title: '姓名', dataIndex:'realName',width:\"10%\",align:'center'},\r\n        {title:'学号',dataIndex:'number',width:\"10%\",align:'center'},\r\n        {title:'性别',dataIndex:'sex',width:\"10%\",align:'center',\r\n            render:(text)=>{\r\n                if(text===1) return '男';\r\n                else if(text===2) return '女';\r\n            }\r\n        },\r\n        {title:'操作',key:'action',width:\"20%\",align:'center',\r\n            render: (text,record) => {\r\n                return (\r\n                    <Popconfirm title=\"确定删除\" onConfirm={() => {this.deleteClassMember(record)}}>\r\n                        <Button style={{padding:0}} type=\"link\">\r\n                            移除\r\n                        </Button>\r\n                    </Popconfirm>\r\n                )\r\n            },\r\n        }\r\n    ];\r\n    constructor(props) {\r\n        super(props);\r\n        this.courseId = parseInt(props.match.params.id);\r\n        this.state={\r\n            selectedClass:{ID:0,className:\"\",classCode:\"\"},\r\n            classes:[],\r\n            users:[],\r\n            createClassModal:false,\r\n        }\r\n    }\r\n    deleteClassMember=async (record)=>{\r\n        try{\r\n            let classId=this.state.selectedClass.ID;\r\n            await Request.deleteClassMember({\r\n                userId:record.ID,\r\n                classId:classId\r\n            });\r\n            message.success(\"已删除\");\r\n            this.loadClassMemberData(classId);\r\n        } catch (e) {\r\n            message.error(\"删除失败\");\r\n        }\r\n    };\r\n    loadClassMemberData=async (classId)=>{\r\n        try{\r\n            const result=await Request.getUsersByClassId(classId);\r\n            this.setState({users:result});\r\n        }catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n    loadClassData=async ()=>{\r\n        try{\r\n            const result=await Request.getClassesByCourseId(this.courseId);\r\n            if(result.length!==0){\r\n                this.setState({selectedClass:result[0]});\r\n                this.loadClassMemberData(result[0].ID);\r\n            }\r\n            this.setState({classes:result});\r\n        }catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n    onMenuItemClick=({item})=>{\r\n        this.setState({selectedClass:item.props.record});\r\n        this.loadClassMemberData(item.props.record.ID);\r\n    };\r\n    showCreateClassModal=()=>{\r\n      this.setState({createClassModal:true});\r\n    };\r\n    cancelCreateClassModal=()=>{\r\n        this.setState({createClassModal:false});\r\n    };\r\n    createClass=async (values)=>{\r\n        try{\r\n            await Request.createClass({courseId:this.courseId,className:values.className});\r\n            this.cancelCreateClassModal();\r\n            message.success(\"创建成功\");\r\n            this.loadClassData();\r\n        }catch (e) {\r\n            message.error(\"创建失败\");\r\n        }\r\n    };\r\n    componentDidMount() {\r\n        this.loadClassData();\r\n    }\r\n\r\n    render() {\r\n        const formItemLayout = {labelCol: {span:4}, wrapperCol: {span:16}};\r\n        const tailFormItemLayout = {wrapperCol: {span:16,offset:4}};\r\n        const cardTitle=(\r\n            <span>\r\n                {this.state.selectedClass.ID===0?null:\r\n                    <Space size={\"large\"}>\r\n                        <span>\r\n                            班级名称:{this.state.selectedClass.className}\r\n                        </span>\r\n                        <span>\r\n                            班级代码:{this.state.selectedClass.classCode}\r\n                        </span>\r\n                    </Space>\r\n                }\r\n            </span>\r\n        );\r\n        const cardExtra=(\r\n            <Button icon={<PlusOutlined />}  onClick={this.showCreateClassModal}>\r\n                创建班级\r\n            </Button>\r\n        );\r\n        return (\r\n            <React.Fragment>\r\n                <Modal title=\"创建班级\" onCancel={this.cancelCreateClassModal}\r\n                       visible={this.state.createClassModal} footer={null}>\r\n                    <Form name=\"update-chapter\" onFinish={this.createClass}{...formItemLayout}>\r\n                        <Form.Item name=\"className\" label=\"名称\"  rules={[{required: true,message: '请输入班级名'},]}>\r\n                            <Input  />\r\n                        </Form.Item>\r\n                        <Form.Item {...tailFormItemLayout}>\r\n                            <Button type=\"primary\" htmlType=\"submit\" style={{width:\"100%\"}}>\r\n                                确认创建\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Modal>\r\n                <Sider className=\"sider\" theme=\"light\" breakpoint=\"lg\" collapsedWidth=\"0\" width=\"250\">\r\n                    <Menu theme=\"light\" mode=\"inline\" onClick={this.onMenuItemClick}\r\n                          selectedKeys={[this.state.selectedClass.ID.toString()]}>\r\n                        {this.state.classes.map((item)=>{return (\r\n                            <Menu.Item key={item.ID} record={item}>\r\n                                <span className=\"nav-text\">{item.className}</span>\r\n                            </Menu.Item>\r\n                        )})}\r\n                    </Menu>\r\n                </Sider>\r\n                <Content className=\"content\">\r\n                    <Card title={cardTitle} style={{height:\"100%\"}} extra={cardExtra}>\r\n                        <Table bordered  columns={this.columns} dataSource={this.state.users}\r\n                               pagination={false} rowKey={record=>record.ID}\r\n                        />\r\n                    </Card>\r\n                </Content>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Table, Popconfirm, Button, Modal, Form, Input,Upload,message} from 'antd';\r\nimport { UploadOutlined } from '@ant-design/icons';\r\nimport './teacher-course.less'\r\nimport Request from \"../../api\";\r\nimport moment from \"moment\";\r\nimport folder from \"../../assets/folder.png\";\r\nimport queryString from \"querystring\";\r\nexport default class Resource extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.courseId = parseInt(props.match.params.id);\r\n        this.parentId = 0;\r\n        this.state={\r\n            columns:this.fileColumns,\r\n            newFolderVisible:false,\r\n            newFileVisible:false,\r\n            fileList: [],\r\n            uploading: false,\r\n            fileData:[],\r\n        };\r\n    };\r\n    componentDidMount() {\r\n        this.loadFileData();\r\n    }\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if(this.props.location !== prevProps.location){//路由变化重新载入文件数据\r\n            this.loadFileData();\r\n        }\r\n    }\r\n    fileColumns=[\r\n        {width: 600, title: '文件名', dataIndex: 'filename',\r\n            render:(text,record)=>{\r\n                if(record.localFilename===''){\r\n                    return (\r\n                        <React.Fragment>\r\n                            <img style={{width:32,height:32}} alt='folder' src={folder}/>\r\n                            <span style={{marginLeft:5}}>{text}</span>\r\n                        </React.Fragment>\r\n                    )\r\n                }else{\r\n                    return text;\r\n                }\r\n            }\r\n        },\r\n        {width: 300, title: '创建日期', dataIndex: 'CreatedAt', align: 'center',\r\n            render: (text) => {return moment(text).format('YYYY-MM-DD HH:mm:ss');},\r\n        },\r\n        {width:200,title:'大小',dataIndex:'size',align:'center',\r\n            render:(text)=>{\r\n                let size=parseInt(text);\r\n                if(size===0){return \"\"}\r\n                else if(size<1000){return size+\"B\"}\r\n                else if(size<1000*1000) {size=size/1000;return size+\"KB\";}\r\n                else if(size<1000*1000*1000){size=size/1000/1000;return size+\"MB\";}\r\n                else{size=size/1000/1000/1000;return size+\"GB\";}\r\n            }\r\n        },\r\n        {\r\n            title: '操作', key: 'action',\r\n            render: (text,record) => {\r\n                if(record.localFilename!==\"\"){\r\n                    return (\r\n                        <React.Fragment>\r\n                            <Button type=\"link\" style={{marginRight:10}} onClick={()=>{this.handleDownloadFile(record.ID)}}>下载</Button>\r\n                            <Popconfirm title=\"确定删除\" onConfirm={() => {this.handleDeleteFile(record.ID)}}>\r\n                                <Button type=\"link\">删除</Button>\r\n                            </Popconfirm>\r\n                        </React.Fragment>\r\n                    )\r\n                }else{\r\n                    return (\r\n                        <Popconfirm title=\"确定删除\" onConfirm={() => {this.handleDeleteFile(record.ID)}}>\r\n                            <Button type=\"link\">删除</Button>\r\n                        </Popconfirm>\r\n                    )\r\n                }\r\n\r\n            },\r\n        },\r\n    ];\r\n\r\n    handleDownloadFile=async (id)=>{\r\n        try{\r\n            await Request.downloadFile(id);\r\n        }catch (e) {\r\n            message.error(\"下载出错\");\r\n        }\r\n    };\r\n    handleDeleteFile=async (id)=>{\r\n        try{\r\n            await Request.deleteFile(id);\r\n            message.success(\"删除成功\");\r\n            this.loadFileData();\r\n        }catch (e) {\r\n            message.error(\"删除失败\")\r\n        }\r\n\r\n    };\r\n    showNewFolderModal=()=>{this.setState({newFolderVisible:true});};\r\n    showNewFileModal=()=>{this.setState({newFileVisible:true,});};\r\n    handleNewFolderCancel=()=>{this.setState({newFolderVisible:false});};\r\n    handleNewFileCancel=()=>{this.setState({newFileVisible:false});};\r\n    handleCreateFolder=async (values)=>{\r\n        try{\r\n            let file = {folderName:values.folderName,courseId:this.courseId,parentId:this.parentId};\r\n            await Request.createFolder(file);\r\n            this.handleNewFolderCancel();\r\n            this.loadFileData();\r\n            message.success(\"创建成功\");\r\n        }catch (e) {\r\n            message.error(\"创建失败\");\r\n        }\r\n    };\r\n    handleCreateNewFile=async ()=>{\r\n        const { fileList } = this.state;\r\n        const formData = new FormData();\r\n        fileList.forEach(file => {\r\n            formData.append('file[]', file);\r\n        });\r\n        formData.append(\"courseId\",this.courseId.toString());\r\n        formData.append(\"parentId\",this.parentId);\r\n        this.setState({uploading: true,});\r\n        try{\r\n            await Request.createFile(formData);\r\n            this.setState({uploading:false,fileList:[]});\r\n            this.handleNewFileCancel();\r\n            this.loadFileData();\r\n            message.success(\"上传成功\");\r\n        }catch (e) {\r\n            message.error(\"上传失败\");\r\n        }\r\n    };\r\n    loadFileData=async ()=>{\r\n      try{\r\n          let search = this.props.location.search;\r\n          if(search!==\"\"){\r\n              this.parentId=queryString.parse(search.slice(1)).parentId;\r\n          }else {\r\n              this.parentId = 0;\r\n          }\r\n          let result = await Request.getChildFile({courseId:this.courseId,parentId:this.parentId});\r\n          result = this.sortFileData(result);\r\n          this.setState({fileData:result});\r\n\r\n      }catch (e) {\r\n          console.log(e);\r\n          message.error(\"获取文件数据失败\");\r\n      }\r\n    };\r\n    onRemove = (file) => {\r\n        this.setState(state => {\r\n            const index = state.fileList.indexOf(file);\r\n            const newFileList = state.fileList.slice();\r\n            newFileList.splice(index, 1);\r\n            return {\r\n                fileList: newFileList,\r\n            };\r\n        });\r\n    };\r\n    beforeUpload = file => {\r\n        this.setState(state => ({\r\n            fileList: [...state.fileList, file],\r\n        }));\r\n        return false;\r\n    };\r\n    sortFileData(fileData){//使文件夹靠前\r\n        let folder=[];\r\n        let file =[];\r\n        fileData.forEach((item)=>{\r\n            if(item.localFilename===\"\"){\r\n                folder.push(item);\r\n            }else {\r\n                file.push(item);\r\n            }\r\n        });\r\n        fileData=folder.concat(file);\r\n        return fileData;\r\n    };\r\n    render() {\r\n        const formItemLayout = {labelCol: {span:4}, wrapperCol: {span:16},};\r\n        const tailFormItemLayout = {wrapperCol: {span:16,offset:4},};\r\n        const {fileList,uploading} = this.state;\r\n        return (\r\n            <div>\r\n                <div style={{height:50,display:\"flex\",alignItems:\"center\",justifyContent:\"flex-end\"}}>\r\n                    <div style={{marginRight:10}}>\r\n                        <Button type=\"primary\" onClick={this.showNewFolderModal}>\r\n                            创建文件夹\r\n                        </Button>\r\n                        <Modal title=\"创建文件夹\" onCancel={this.handleNewFolderCancel}\r\n                               visible={this.state.newFolderVisible} footer={null}>\r\n                            <Form name=\"create-folder\" onFinish={this.handleCreateFolder}{...formItemLayout}>\r\n                                <Form.Item name=\"folderName\" label=\"名称\"  rules={[{required: true,message: '请输入文件夹名!'},]}>\r\n                                    <Input  />\r\n                                </Form.Item>\r\n                                <Form.Item {...tailFormItemLayout}>\r\n                                    <Button type=\"primary\" htmlType=\"submit\" style={{width:\"100%\"}}>\r\n                                        确认创建\r\n                                    </Button>\r\n                                </Form.Item>\r\n                            </Form>\r\n                        </Modal>\r\n                    </div>\r\n                    <div style={{marginRight:10}}>\r\n                        <Button type=\"primary\" onClick={this.showNewFileModal}>\r\n                            添加文件\r\n                        </Button>\r\n                        <Modal title=\"上传文件\" onCancel={this.handleNewFileCancel}\r\n                               visible={this.state.newFileVisible} footer={null}>\r\n                            <Upload onRemove={this.onRemove} listType=\"picture\"\r\n                                    beforeUpload={this.beforeUpload} fileList={this.state.fileList}>\r\n                                <Button>\r\n                                    <UploadOutlined /> 选择文件\r\n                                </Button>\r\n                            </Upload>\r\n                            <Button type=\"primary\" onClick={this.handleCreateNewFile}\r\n                                disabled={fileList.length === 0} loading={uploading}\r\n                                style={{ marginTop: 16 }}\r\n                            >\r\n                                {uploading ? '上传中' : '开始上传'}\r\n                            </Button>\r\n                        </Modal>\r\n                    </div>\r\n                </div>\r\n                <Table bordered columns={this.fileColumns} dataSource={this.state.fileData} pagination={false} rowKey={record=>record.ID}\r\n                       onRow={(record)=> {\r\n                           return {\r\n                               onDoubleClick: () => {\r\n                                   if(record.localFilename===\"\"){//代表是文件夹\r\n                                       this.props.history.push({\r\n                                           pathname:`/teacher-course/${this.courseId}/resource`,\r\n                                           search:`?parentId=${record.ID}`,\r\n                                       });\r\n                                   }\r\n                               },\r\n                           };\r\n                       }}\r\n                />\r\n            </div>\r\n        )\r\n    };\r\n\r\n};","import React from \"react\";\r\nimport {List, Button, message, Modal, Form, Input, Card, Popconfirm} from 'antd';\r\nimport Request from '../../api';\r\nimport moment from \"moment\";\r\n\r\nconst formItemLayout = {\r\n    labelCol: {span:4},\r\n    wrapperCol: {span:16},\r\n};\r\nconst tailFormItemLayout = {\r\n    wrapperCol: {span:16,offset:4},\r\n};\r\n\r\nexport default class Notify extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.courseId = parseInt(props.match.params.id);\r\n        this.updatedNotify={title:\"\",content:\"\",ID:0};//要更新的通知,设置表单初始值\r\n        this.state = {\r\n            notifyData:[],\r\n            addNotifyModal:false,\r\n            updateNotifyModal:false,\r\n        };\r\n\r\n    };\r\n    updateNotify=async (values)=>{\r\n        try{\r\n            let notify={\r\n                id:this.updatedNotify.ID,\r\n                title:values.title,\r\n                content:values.content,\r\n            };\r\n            await Request.updateNotifyById(notify);\r\n            this.cancelUpdateNotifyModal();\r\n            message.success(\"已更新\");\r\n            this.loadNotifyData();\r\n        }catch (e) {\r\n            message.error(\"更新失败\");\r\n        }\r\n    };\r\n    deleteNotify=async (id)=>{\r\n      try{\r\n          await Request.deleteNotifyById(id);\r\n          this.loadNotifyData();\r\n      }catch (e) {\r\n          message.error(\"删除失败\");\r\n      }\r\n    };\r\n    addNotify=async (values)=>{\r\n        try{\r\n            let notify = {\r\n              courseId:this.courseId,\r\n              title:values.title,\r\n              content:values.content,\r\n            };\r\n            await Request.createNotify(notify);\r\n            this.cancelAddNotifyModal();\r\n            this.loadNotifyData();\r\n        }catch (e) {\r\n            message.error(\"创建失败\");\r\n        }\r\n    };\r\n    showAddNotifyModal=()=>{this.setState({addNotifyModal:true})};\r\n    cancelAddNotifyModal=()=>{this.setState({addNotifyModal:false})};\r\n    showUpdateNotifyModal=(item)=>{\r\n        this.setState({updateNotifyModal:true,});\r\n        this.updatedNotify=item;\r\n    };\r\n    cancelUpdateNotifyModal=()=>{this.setState({updateNotifyModal:false})};\r\n\r\n    loadNotifyData=async ()=>{\r\n        try{\r\n            const result = await Request.getNotifyByCourseId(this.courseId);\r\n            this.setState({notifyData:result});\r\n        }catch (e) {\r\n            message.error(\"获取通知失败\");\r\n        }\r\n    };\r\n    componentDidMount() {\r\n        this.loadNotifyData();\r\n    };\r\n    render() {\r\n        const addNotify=(\r\n            <div>\r\n                <Button type=\"primary\" onClick={this.showAddNotifyModal}>\r\n                    添加通知\r\n                </Button>\r\n                <Modal title=\"添加通知\" onCancel={this.cancelAddNotifyModal} destroyOnClose={true}\r\n                       visible={this.state.addNotifyModal} footer={null}>\r\n                    <Form name=\"add-notify\" onFinish={this.addNotify}{...formItemLayout}>\r\n                        <Form.Item name=\"title\" label=\"标题\"  rules={[{required: true,message: '请输入标题!'},]}>\r\n                            <Input />\r\n                        </Form.Item>\r\n                        <Form.Item name=\"content\" label=\"内容\" rules={[{required: true,message: '请输入内容!'}]}>\r\n                            <Input.TextArea rows={8}/>\r\n                        </Form.Item>\r\n                        <Form.Item {...tailFormItemLayout}>\r\n                            <Button type=\"primary\" htmlType=\"submit\" style={{width:\"100%\"}}>\r\n                                确认创建\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Modal>\r\n            </div>\r\n        );\r\n        return (\r\n            <Card title=\"通知\" extra={addNotify} bodyStyle={{padding:20}}\r\n                  style={{width:\"80%\",marginLeft:\"auto\",marginRight:\"auto\",height:\"100%\"}}>\r\n                <Modal title=\"修改通知\"  destroyOnClose={true}//加上才会每次打开时初始化表单值\r\n                       visible={this.state.updateNotifyModal} footer={null}\r\n                       onCancel={this.cancelUpdateNotifyModal}>\r\n                    <Form onFinish={this.updateNotify} initialValues={{\r\n                        title:this.updatedNotify.title,\r\n                        content:this.updatedNotify.content,\r\n                    }} name=\"update-notify\" {...formItemLayout}\r\n                    >\r\n                        <Form.Item name=\"title\" label=\"标题\"  rules={[{required: true,message: '请输入标题!'},]}>\r\n                            <Input />\r\n                        </Form.Item>\r\n                        <Form.Item name=\"content\" label=\"内容\" rules={[{required: true,message: '请输入内容!'}]}>\r\n                            <Input.TextArea rows={8}/>\r\n                        </Form.Item>\r\n                        <Form.Item {...tailFormItemLayout}>\r\n                            <Button type=\"primary\" htmlType=\"submit\" style={{width:\"100%\"}}>\r\n                                确认修改\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Modal>\r\n                <List itemLayout=\"horizontal\" dataSource={this.state.notifyData}\r\n                    renderItem={item => (\r\n                        <List.Item style={{borderBottom:\"1px solid lightgray\"}} actions={[(\r\n                            <Button type=\"link\"  style={{padding:0}} onClick={()=>{this.showUpdateNotifyModal(item)}}>\r\n                                编辑\r\n                            </Button>\r\n                        ),(\r\n                            <Popconfirm title=\"确定删除通知\" onConfirm={() => {this.deleteNotify(item.ID)}}>\r\n                                <Button type=\"link\" style={{padding:0}}>删除</Button>\r\n                            </Popconfirm>\r\n                        )]} extra={moment(item.CreatedAt).format('YYYY-MM-DD HH:mm:ss')}>\r\n                            <List.Item.Meta title={item.title} description={item.content}/>\r\n                        </List.Item>\r\n                    )}\r\n                />\r\n            </Card>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport Request from \"../../../api\";\r\nimport {Button, DatePicker, Form, Select, Switch} from \"antd\";\r\nconst formItemLayout = {labelCol: {span:4}, wrapperCol: {span:20}};\r\nconst tailFormItemLayout = {wrapperCol: {span:16,offset:4}};\r\nexport default class PublishHomeworkForm extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.formRef=React.createRef();\r\n        this.state={\r\n            classes:[],\r\n        }\r\n    }\r\n    loadClassesInfo=async ()=>{\r\n        try{\r\n            const result = await Request.getClassesByCourseId(this.props.courseId);\r\n            let classes = [];\r\n            result.forEach((item)=>{\r\n                classes.push({value:item.ID,name:item.className});\r\n            });\r\n            this.setState({classes:classes});\r\n        }catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n    componentDidMount() {\r\n        this.loadClassesInfo();\r\n    }\r\n\r\n    onFinish = (values) => {\r\n        let resubmit = values.resubmit === true ? 1 : 0;\r\n        const form = {\r\n            ...values,\r\n            resubmit: resubmit,\r\n            beginTime: values.range[0].format(),\r\n            endTime: values.range[1].format(),\r\n        };\r\n        this.props.onFinish(form);\r\n    };\r\n    render() {\r\n        return (\r\n            <Form ref={this.formRef} name=\"publish-homeworkLib\" onFinish={this.onFinish} {...formItemLayout}>\r\n                <Form.Item name=\"resubmit\" label=\"重复提交\" valuePropName=\"checked\">\r\n                    <Switch/>\r\n                </Form.Item>\r\n                <Form.Item label=\"班级\" name=\"classId\" hasFeedback rules={[{required: true,message: '请选择班级!'},]}>\r\n                    <Select placeholder=\"请选择班级\">\r\n                        {\r\n                            this.state.classes.map((item)=>{\r\n                                return (\r\n                                    <Select.Option key={item.value} value={item.value}>{item.name}</Select.Option>\r\n                                )\r\n                            })\r\n                        }\r\n                    </Select>\r\n                </Form.Item>\r\n                <Form.Item label=\"起止时间\" name=\"range\" rules={[{ type: 'array', required: true, message: '请选择时间'}]}>\r\n                    <DatePicker.RangePicker showTime format=\"YYYY-MM-DD HH:mm:ss\" />\r\n                </Form.Item>\r\n                <Form.Item {...tailFormItemLayout}>\r\n                    <Button type=\"primary\" htmlType=\"submit\" style={{width:\"100%\"}}>确认</Button>\r\n                </Form.Item>\r\n            </Form>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport moment from \"moment\";\r\nimport {Button, Divider, Form, Input, message, Modal, Space, Table, Upload} from \"antd\";\r\nimport Request from \"../../../api\";\r\nimport {withRouter} from \"react-router\";\r\nimport PublishHomeworkForm from \"./publish-homework-form\";\r\nimport {UploadOutlined} from \"@ant-design/icons\";\r\nconst formItemLayout = {labelCol: {span:4}, wrapperCol: {span:20}};\r\nconst tailFormItemLayout = {wrapperCol: {span:16,offset:4}};\r\nclass HomeworkLibComponent extends React.Component{\r\n    columns=[\r\n        {title: '作业标题', dataIndex: 'name',width:\"30%\"},\r\n        {title: '创建时间', dataIndex: 'CreatedAt',width:\"20%\",align:'center',\r\n            render:(text)=>{\r\n                return moment(text).format('YYYY-MM-DD HH:mm:ss');\r\n            }\r\n        },\r\n        {title:'题目数量',dataIndex:'subjectCount',width:\"10%\",align:'center'},\r\n        {title:'总分',dataIndex:'totalScore',width:\"10%\",align:'center'},\r\n        {title:'操作',key:'action',width:\"30%\",align:'center',\r\n            render: (text,record) => {\r\n                return (\r\n                    <Space size={2}>\r\n                        <Button style={{padding:0}} type=\"link\"\r\n                                onClick={()=>this.showRenameModal(record)}>\r\n                            重命名\r\n                        </Button>\r\n                        <Divider type=\"vertical\" />\r\n                        <Button style={{padding:0}} type='link'\r\n                                onClick={()=>this.goToEditHomeworkLib(record)}>\r\n                            编辑\r\n                        </Button>\r\n                        <Divider type=\"vertical\" />\r\n                        <Button style={{padding:0}} type='link'\r\n                                onClick={()=>this.showImportLibModal(record)}>\r\n                            从Excel中导入试题\r\n                        </Button>\r\n                        <Divider type=\"vertical\" />\r\n                        <Button style={{padding:0}} disabled={record.subjectCount===0} type='link'\r\n                                onClick={()=>this.showPublishLibModal(record)}>\r\n                            发布作业\r\n                        </Button>\r\n                    </Space>\r\n                )\r\n            },\r\n        }\r\n    ];\r\n    constructor(props) {\r\n        super(props);\r\n        this.courseId = parseInt(props.match.params.id);\r\n        this.updatedLib={name:\"\"};//要更新的库\r\n        this.state={\r\n            homeworkLibData:[],\r\n            renameModal:false,\r\n            createLibModal:false,\r\n            publishLibModal:false,\r\n\r\n            importLibModal:false,\r\n            uploading:false,\r\n            fileList:[],\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.loadHomeworkLibData();\r\n    }\r\n    goToEditHomeworkLib=(record)=>{\r\n        let query = `courseId=${this.courseId}&homeworkLibId=${record.ID}`;\r\n        this.props.history.push({pathname:\"/editor\",search:query});\r\n    };\r\n    showRenameModal=(record)=>{\r\n        this.setState({renameModal:true});\r\n        this.updatedLib=record;\r\n    };\r\n    cancelRenameModal=()=>{\r\n        this.setState({renameModal:false});\r\n    };\r\n    renameHomeworkLib=async (values)=>{\r\n        try{\r\n            await Request.updateHomeworkLibNameById({id:this.updatedLib.ID,name:values.name});\r\n            message.success(\"已更新\");\r\n            this.cancelRenameModal();\r\n            this.loadHomeworkLibData();\r\n        }catch (e) {\r\n            message.error(\"操作失败\");\r\n        }\r\n    };\r\n\r\n    showPublishLibModal=(record)=>{\r\n        this.publishedhomeworkLibId=record.ID;\r\n        this.setState({publishLibModal:true})\r\n    };\r\n    cancelPublishLibModal=()=>{\r\n        this.setState({publishLibModal:false})\r\n    };\r\n    publishHomework=async (values)=>{\r\n        values={...values,homeworkLibId:this.publishedhomeworkLibId};\r\n        try{\r\n            const result = await Request.publishHomework(values);\r\n            if(result.code===202){\r\n                message.info(\"该班级已发布过,不能重复发布\")\r\n            }else{\r\n                message.success(\"发布成功\");\r\n                this.cancelPublishLibModal();\r\n            }\r\n        }catch (e) {\r\n            message.error(\"发布失败\");\r\n        }\r\n    };\r\n    loadHomeworkLibData=async ()=>{\r\n        try{\r\n            const result = await Request.getHomeworkLibsByCourseId(this.courseId);\r\n            this.setState({homeworkLibData:result})\r\n        }catch (e) {\r\n            message.error(\"获取数据失败\");\r\n        }\r\n    };\r\n\r\n    beforeUpload = () => {\r\n        return false;\r\n    };\r\n    onRemove = () => {\r\n        this.setState({fileList:[]});\r\n    };\r\n    handleUploadChange=(info)=>{\r\n        let fileList = [...info.fileList];\r\n        fileList = fileList.slice(-1);\r\n        this.setState({fileList:fileList});\r\n    };\r\n    showImportLibModal=(record)=>{\r\n        this.setState({importLibModal:true});\r\n        this.updatedLib=record;\r\n    };\r\n    cancelImportLibModal=()=>{\r\n        this.setState({importLibModal:false});\r\n    };\r\n    importLibFormExcel=async ()=>{\r\n        const { fileList } = this.state;\r\n        const formData = new FormData();\r\n        if(fileList.length!==0){\r\n            formData.append('excel', fileList[0].originFileObj);\r\n        }\r\n        formData.append('libId',this.updatedLib.ID);\r\n        formData.append('type',\"homework\");\r\n        this.setState({uploading: true,});\r\n        try {\r\n            await Request.importExcelSubjectToLib(formData);\r\n            this.setState({\r\n                uploading: false,\r\n                fileList: [],\r\n                importLibModal:false,\r\n            });\r\n            message.success(\"导入题库成功\");\r\n            this.loadHomeworkLibData();\r\n        }catch (e) {\r\n            let err=\"\";\r\n            if(e.response.data.err){\r\n                err=e.response.data.err;\r\n            }\r\n            message.error(\"导入失败!\"+err);\r\n            this.setState({uploading:false});\r\n        }\r\n    };\r\n    downloadExcelExample=async ()=>{\r\n        try{\r\n            await Request.downloadExcelExample();\r\n        }catch (e) {\r\n            message.error(\"下载出错\");\r\n        }\r\n    };\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Modal title=\"重命名\" destroyOnClose={true} onCancel={this.cancelRenameModal}\r\n                       visible={this.state.renameModal} footer={null}>\r\n                    <Form name=\"rename-lib\" onFinish={this.renameHomeworkLib} {...formItemLayout}>\r\n                        <Form.Item name=\"name\" label=\"名称\"  rules={[{required: true,message: '请输入名称!'},]}>\r\n                            <Input  />\r\n                        </Form.Item>\r\n                        <Form.Item {...tailFormItemLayout}>\r\n                            <Button type=\"primary\" htmlType=\"submit\" style={{width:\"100%\"}}>确认</Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Modal>\r\n                <Modal title=\"导入试题\" destroyOnClose={true} onCancel={this.cancelImportLibModal}\r\n                       visible={this.state.importLibModal} footer={null}>\r\n                        <Upload  listType=\"picture\" multiple={false} onChange={this.handleUploadChange}\r\n                                 onRemove={this.onRemove}\r\n                                 beforeUpload={this.beforeUpload} fileList={this.state.fileList}>\r\n                            <Button>\r\n                                <UploadOutlined /> 选择Excel文件\r\n                            </Button>\r\n                        </Upload>\r\n                        <Button type=\"primary\" onClick={this.importLibFormExcel}\r\n                                disabled={this.state.fileList.length===0} loading={this.state.uploading}\r\n                                style={{ marginTop: 16 }}\r\n                        >\r\n                            {this.state.uploading ? '上传中' : '开始上传'}\r\n                        </Button>\r\n                </Modal>\r\n                <Modal title=\"发布作业\" onCancel={this.cancelPublishLibModal}\r\n                       visible={this.state.publishLibModal} footer={null}>\r\n                    <PublishHomeworkForm courseId={this.courseId} onFinish={this.publishHomework}/>\r\n                </Modal>\r\n                <Button style={{marginBottom:10}} onClick={this.downloadExcelExample} type=\"primary\">下载导入题库的Excel模板</Button>\r\n                <Table bordered  columns={this.columns} dataSource={this.state.homeworkLibData}\r\n                       pagination={false} rowKey={record=>record.ID}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(HomeworkLibComponent)","import React from \"react\";\r\nimport {withRouter} from \"react-router\";\r\nimport {Button, Card, Col, DatePicker, Form, message, Modal, Row, Select, Space, Switch, Table} from \"antd\";\r\nimport moment from \"moment\";\r\nimport Request from \"../../../api\";\r\nimport {ArrowLeftOutlined, DownloadOutlined} from \"@ant-design/icons\";\r\nimport queryString from \"querystring\";\r\n\r\nconst formItemLayout = {labelCol: {span:4}, wrapperCol: {span:20}};\r\nconst tailFormItemLayout = {wrapperCol: {span:16,offset:4}};\r\nclass HomeworkComponent extends React.Component{\r\n    columns=[\r\n        {title: '帐号', dataIndex: ['user','email'],width:\"15%\",align:'center'},\r\n        {title: '姓名', dataIndex: ['user','realName'],width:\"10%\",align:'center'},\r\n        {title:'学号',dataIndex:['user','number'],width:\"15%\",align:'center'},\r\n        {title:'总分',dataIndex:'totalScore',width:\"10%\",align:'center'},\r\n        {title:'首次提交时间',dataIndex:'CreatedAt',width:\"15%\",align:'center',\r\n            render:(text)=>{\r\n                return moment(text).format('YYYY-MM-DD HH:mm:ss');\r\n            }\r\n        },\r\n        {title:'更新时间',dataIndex:'UpdatedAt',width:\"15%\",align:'center',\r\n            render:(text)=>{\r\n                return moment(text).format('YYYY-MM-DD HH:mm:ss');\r\n            }\r\n        },\r\n        {title:'状态',dataIndex:'mark',width:\"10%\",align:'center',\r\n            render:(text)=>{\r\n                if(text===0) return <span style={{color:\"red\"}}>未批阅</span>;\r\n                else if(text===1) return <span>已批阅</span>\r\n            }\r\n        },\r\n        {title:'操作',key:'action',width:\"20%\",align:'center',\r\n            render: (text,record) => {\r\n                if (record.mark===0){\r\n                    return (\r\n                        <Button style={{padding:0}} type=\"link\"\r\n                                onClick={()=>this.goToMarkHomework(record)}>\r\n                            批阅\r\n                        </Button>\r\n                    )\r\n                }else{\r\n                    return (\r\n                        <Space size={2}>\r\n                            <Button style={{padding:0}} type=\"link\"\r\n                                    onClick={()=>this.cancelMarkHomework(record)}>\r\n                                打回\r\n                            </Button>\r\n                            <Button style={{padding:0}} type=\"link\"\r\n                                    onClick={()=>this.goToMarkHomework(record)}>\r\n                                重新批阅\r\n                            </Button>\r\n                        </Space>\r\n                    )\r\n                }\r\n            },\r\n        }\r\n    ];\r\n    constructor(props) {\r\n        super(props);\r\n        this.courseId = parseInt(props.match.params.id);\r\n        this.updatedHomeworkPublish={};//要更新的发布数据\r\n        this.state={\r\n            homeworkPublishData:[],\r\n            homeworkSubmitData:[],\r\n            classData:[],//有哪些班级\r\n            selectedValue:undefined,//选择的班级\r\n            republishHomeworkModal:false,\r\n            submitRecordVisible:false,\r\n        }\r\n    }\r\n    goToMarkHomework=(record)=>{\r\n        this.props.history.push({\r\n            pathname:\"/markHomework\",\r\n            search:`homeworkSubmitId=${record.ID}`,\r\n        });\r\n    };\r\n    cancelMarkHomework=async (record)=>{\r\n        try{\r\n            await Request.updateHomeworkSubmitMarkById({id:record.ID,mark:0});\r\n            message.success(\"操作成功\");\r\n            this.loadHomeworkSubmitData(record.homeworkPublishId);\r\n        }catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n    setHomeworkPublishId=()=>{\r\n        let search = this.props.location.search;\r\n        if(search!==\"\") {\r\n             this.homeworkPublishId = queryString.parse(search.slice(1)).homeworkPublishId;\r\n             return this.homeworkPublishId\r\n        }\r\n    };\r\n    onRepublishFormFinish=async (values)=>{\r\n        let publish={\r\n            id:this.updatedHomeworkPublish.ID,\r\n            resubmit:values.resubmit === true ? 1 : 0,\r\n            beginTime:values.range[0].format(),\r\n            endTime:values.range[1].format(),\r\n        };\r\n        try{\r\n            await Request.updateHomeworkPublishById(publish);\r\n            this.cancelRepublishHomeworkModal();\r\n            this.loadHomeworkPublishData(this.state.selectedValue);\r\n            message.success(\"更新成功\")\r\n        }catch (e) {\r\n            message.error(\"更新失败\");\r\n        }\r\n\r\n    };\r\n    showRepublishHomeworkModal=(record)=>{\r\n        let range=new Array(2);\r\n        let resubmit=record.resubmit===1;\r\n        range[0]=moment(record.beginTime);\r\n        range[1]=moment(record.endTime);\r\n        this.updatedHomeworkPublish={...record,resubmit:resubmit,range:range};\r\n        this.setState({republishHomeworkModal:true});\r\n    };\r\n    cancelRepublishHomeworkModal=()=>{\r\n        this.setState({republishHomeworkModal:false});\r\n    };\r\n    loadClassData=async ()=>{\r\n      try{\r\n          const result = await Request.getClassesByCourseId(this.courseId);\r\n          if(result.length!==0){\r\n\r\n              this.setState({classData:result,selectedValue:result[0].ID});\r\n              this.loadHomeworkPublishData(result[0].ID);\r\n          }\r\n      }catch (e) {\r\n          console.log(e);\r\n      }\r\n    };\r\n    loadHomeworkPublishData=async (classId)=>{\r\n        try{\r\n            const result=await Request.getHomeworkPublishesByClassId(classId);\r\n            this.setState({homeworkPublishData:result})\r\n        }catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n    loadHomeworkSubmitData=async (homeworkPublishId)=>{\r\n        try{\r\n            const result = await Request.getHomeworkSubmitsByPublishId(homeworkPublishId);\r\n            this.setState({homeworkSubmitData:result});\r\n        }catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n    showHomeworkSubmitRecord=(homeworkPublish)=>{\r\n        this.props.history.push({pathname:\"homework\",search:`homeworkPublishId=${homeworkPublish.ID}`});\r\n    };\r\n    cancelHomeworkSubmitRecord=()=>{\r\n        this.props.history.push({pathname:\"homework\"});\r\n    };\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if(this.props.location !== prevProps.location){//根据路由变化决定显示发布的作业数据页面还是具体的提交数据页面\r\n            this.setSubmitRecordVisible();\r\n        }\r\n    };\r\n    componentDidMount() {\r\n        this.loadClassData();\r\n        this.setSubmitRecordVisible();\r\n    };\r\n    downloadHomeworkExcel=async ()=>{\r\n        try{\r\n            await Request.exportHomeworkToExcel(this.homeworkPublishId);\r\n        }catch (e) {\r\n            message.error(\"下载出错\");\r\n        }\r\n    };\r\n    setSubmitRecordVisible=()=>{//提交的作业记录表格是否可见\r\n        if(this.setHomeworkPublishId()){\r\n            this.setState({submitRecordVisible:true});\r\n            this.loadHomeworkSubmitData(this.homeworkPublishId);\r\n        }else{\r\n            this.setState({submitRecordVisible:false});\r\n        }\r\n    };\r\n    onSelectChange=(value)=>{\r\n        this.loadHomeworkPublishData(value);\r\n    };\r\n    getSummary=(pageData)=>{\r\n        if(pageData.length===0)return null;\r\n        let scoreArr=[];\r\n        pageData.forEach(({totalScore})=>{\r\n            scoreArr.push(totalScore);\r\n        });\r\n        let min=scoreArr[0];let max=scoreArr[0];let average=0;\r\n        scoreArr.forEach((item)=>{\r\n            min=Math.min(min,item);\r\n            max=Math.max(max,item);\r\n            average=average+item;\r\n        });\r\n        average=average/scoreArr.length;\r\n        return (\r\n            <React.Fragment>\r\n                <tr>\r\n                    <th>统计</th>\r\n                    <td>最低分</td>\r\n                    <td>{min}分</td>\r\n                    <td>最高分</td>\r\n                    <td>{max}分</td>\r\n                    <td>平均分</td>\r\n                    <td>{average}分</td>\r\n                    <td/>\r\n                </tr>\r\n            </React.Fragment>\r\n        )\r\n    };\r\n    render() {\r\n        const homeworkPublishList=(\r\n            <div>\r\n                    <Modal title=\"重设发放\" onCancel={this.cancelRepublishHomeworkModal} destroyOnClose={true}\r\n                           visible={this.state.republishHomeworkModal} footer={null}>\r\n                        <Form initialValues={this.updatedHomeworkPublish} name=\"republish-homeworkLib\" onFinish={this.onRepublishFormFinish} {...formItemLayout}>\r\n                            <Form.Item name=\"resubmit\" label=\"重复提交\" valuePropName=\"checked\">\r\n                                <Switch/>\r\n                            </Form.Item>\r\n                            <Form.Item label=\"起止时间\" name=\"range\" rules={[{ type: 'array', required: true, message: '请选择时间'}]}>\r\n                                <DatePicker.RangePicker showTime format=\"YYYY-MM-DD HH:mm:ss\" />\r\n                            </Form.Item>\r\n                            <Form.Item {...tailFormItemLayout}>\r\n                                <Button type=\"primary\" htmlType=\"submit\" style={{width:\"100%\"}}>确认</Button>\r\n                            </Form.Item>\r\n                        </Form>\r\n                    </Modal>\r\n                    <div style={{marginBottom:10}}>\r\n                        <Select placeholder=\"请选择班级\" style={{width:150}} value={this.state.selectedValue}  onChange={this.onSelectChange}>\r\n                            {\r\n                                this.state.classData.map((item)=>{\r\n                                    return (\r\n                                        <Select.Option key={item.ID} value={item.ID}>{item.className}</Select.Option>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </Select>\r\n                    </div>\r\n                    <Row gutter={16}>\r\n                        {\r\n                            this.state.homeworkPublishData.map((item)=>{\r\n                                return (<Col span={8} key={item.ID}>\r\n                                    <Card title={item.homeworkLib.name} actions={[\r\n                                        <div style={{display:\"flex\",justifyContent:\"space-between\",paddingLeft:20,paddingRight:20}}>\r\n                                            <span><span style={{fontSize:20,color:\"red\"}}>{item.unMarkCount}</span>份待批</span>\r\n                                            <Space>\r\n                                                <Button onClick={()=>this.showRepublishHomeworkModal(item)}>重设发放</Button>\r\n                                                <Button onClick={()=>this.showHomeworkSubmitRecord(item)}>查看</Button>\r\n                                            </Space>\r\n                                        </div>]\r\n                                    }>\r\n                                        <div>开始时间:{moment(item.beginTime).format(\"YYYY-MM-DD HH:mm:ss\")}</div>\r\n                                        <div>结束时间:{moment(item.endTime).format(\"YYYY-MM-DD HH:mm:ss\")}</div>\r\n                                        <div>提交人数:{item.submitCount}人</div>\r\n                                    </Card>\r\n                                </Col>)\r\n                            })\r\n                        }\r\n                    </Row>\r\n                </div>\r\n        );\r\n        const homeworkSubmitRecord=(\r\n            <div>\r\n                <div style={{marginBottom:10}}>\r\n                    <Button type=\"link\" icon={<ArrowLeftOutlined/>} onClick={this.cancelHomeworkSubmitRecord}>返回</Button>\r\n                    <Button type=\"primary\" icon={<DownloadOutlined/>} onClick={this.downloadHomeworkExcel}>导出成绩到Excel</Button>\r\n                </div>\r\n                <Table bordered  columns={this.columns} dataSource={this.state.homeworkSubmitData}\r\n                       summary={this.getSummary}  pagination={false} rowKey={record=>record.ID}\r\n                />\r\n            </div>\r\n        );\r\n        return (\r\n            this.state.submitRecordVisible?homeworkSubmitRecord:homeworkPublishList\r\n        )\r\n    }\r\n}\r\nexport default withRouter(HomeworkComponent)","import React from \"react\";\r\nimport {Button, Card, Form, Input, message, Modal} from \"antd\";\r\nimport Request from \"../../../api\";\r\nimport HomeworkLibComponent from \"./homeworkLibComponent\";\r\nimport HomeworkComponent from \"./homeworkComponent\";\r\n\r\nconst formItemLayout = {labelCol: {span:4}, wrapperCol: {span:20}};\r\nconst tailFormItemLayout = {wrapperCol: {span:16,offset:4}};\r\nexport default class Homework extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.courseId = parseInt(props.match.params.id);\r\n        this.state={\r\n            createLibModal:false,\r\n            tabKey:'homework',\r\n        };\r\n    };\r\n    showCreateLibModal=()=>{\r\n        this.setState({createLibModal:true});\r\n    };\r\n    cancelCreateLibModal=()=>{\r\n        this.setState({createLibModal:false});\r\n    };\r\n    createHomeworkLib = async (values)=>{\r\n        try{\r\n            await Request.createHomeworkLib({courseId:this.courseId,name:values.name});\r\n            message.success(\"已创建\");\r\n            this.cancelCreateLibModal();\r\n        }catch (e) {\r\n            message.error(\"操作失败\");\r\n        }\r\n    };\r\n\r\n    onTabChange=(key)=>{\r\n        this.setState({tabKey:key});\r\n    };\r\n    render() {\r\n        const tabList = [{key: 'homework', tab: '作业'}, {key: 'homeworkLib', tab: '作业库'}];\r\n        const contentList = {\r\n            homework: <HomeworkComponent/>,\r\n            homeworkLib: <HomeworkLibComponent/>,\r\n        };\r\n        let tabBarExtraContent=this.state.tabKey!==\"homeworkLib\"?null:\r\n            <Button type='link' onClick={this.showCreateLibModal}>新建作业库</Button>;\r\n        return (\r\n            <Card  bodyStyle={{padding:20}} style={{width:\"80%\",height:\"100%\",marginLeft:\"auto\",marginRight:\"auto\"}}\r\n                  tabList={tabList} activeTabKey={this.state.tabKey} onTabChange={this.onTabChange}\r\n                   tabBarExtraContent={tabBarExtraContent}\r\n            >\r\n                <Modal title=\"新建\" onCancel={this.cancelCreateLibModal}\r\n                       visible={this.state.createLibModal} footer={null}>\r\n                    <Form name=\"create-lib\" onFinish={this.createHomeworkLib} {...formItemLayout}>\r\n                        <Form.Item name=\"name\" label=\"名称\"  rules={[{required: true,message: '请输入名称!'},]}>\r\n                            <Input  />\r\n                        </Form.Item>\r\n                        <Form.Item {...tailFormItemLayout}>\r\n                            <Button type=\"primary\" htmlType=\"submit\" style={{width:\"100%\"}}>确认</Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Modal>\r\n                {contentList[this.state.tabKey]}\r\n            </Card>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Comment, Avatar, List, Empty, Button, message, Modal, Input, Card} from 'antd';\r\nimport moment from \"moment\";\r\nimport Constant from \"../../../utils/constant\";\r\nimport Request from \"../../../api\"\r\nimport {withRouter} from \"react-router\";\r\n\r\nclass CourseComment extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.courseId = parseInt(props.match.params.id);\r\n        this.replyId = 0;\r\n        this.parentId = 0;\r\n        this.replyUserId = 0;\r\n        this.replyUserRealName=\"\";//回复子评论的用户的名字\r\n        this.state = {\r\n            comment: \"\",\r\n            commentData: [],\r\n            commentModal: false,\r\n        };\r\n    }\r\n\r\n    loadCommentData = async () => {\r\n        try {\r\n            const result = await Request.getCommentByCourseId(this.courseId);\r\n            this.setState({commentData: result});\r\n        } catch (e) {\r\n            message.error(\"获取评论失败\");\r\n        }\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.loadCommentData();\r\n\r\n    }\r\n\r\n    showCommentModal = () => {\r\n        this.setState({commentModal: true});\r\n    };\r\n    cancelCommentModal = () => {\r\n        this.setState({commentModal: false,comment:\"\"});\r\n    };\r\n    handleCommentChange = (event) => {\r\n        this.setState({comment: event.target.value});\r\n    };\r\n    handleSubmitComment = async (e) => {\r\n        try {\r\n            let comment = {\r\n                courseId: this.courseId,\r\n                content: this.state.comment,\r\n                parentId: this.parentId,\r\n                replyId: this.replyId,\r\n                replyUserId: this.replyUserId,\r\n            };\r\n            if(this.parentId!==this.replyId){//回复的是子评论\r\n                comment.content=`回复${this.replyUserRealName}:`+this.state.comment;\r\n            }\r\n            await Request.createComment(comment);\r\n            this.cancelCommentModal();\r\n            this.loadCommentData();\r\n        } catch (e) {\r\n            message.error(\"发布失败\");\r\n        }\r\n    };\r\n    createComment=async ()=>{\r\n        this.replyId = 0;\r\n        this.parentId = 0;\r\n        this.replyUserId = 0;\r\n        this.showCommentModal();\r\n    };\r\n    replyParentComment=async (item)=>{\r\n        this.replyId = item.ID;\r\n        this.parentId = item.ID;\r\n        this.replyUserId = item.user.ID;\r\n        this.showCommentModal();\r\n    };\r\n    replyChildComment=async (item)=>{\r\n        this.replyId = item.ID;\r\n        this.parentId = item.parentId;\r\n        this.replyUserId = item.user.ID;\r\n        this.replyUserRealName=item.user.realName;\r\n        this.showCommentModal();\r\n    };\r\n    render() {\r\n        return (\r\n            <Card title={`${this.state.commentData.length}条讨论`} bodyStyle={{padding:20}}\r\n                  extra={<Button type=\"primary\" onClick={this.createComment}>\r\n                            添加评论\r\n                        </Button>}\r\n            >\r\n                <Modal title=\"发布评论\" onCancel={this.cancelCommentModal}\r\n                           visible={this.state.commentModal} onOk={this.handleSubmitComment}>\r\n                    <Input.TextArea value={this.state.comment} onChange={this.handleCommentChange} rows={5}/>\r\n                </Modal>\r\n                <div>\r\n                    <List itemLayout=\"horizontal\" dataSource={this.state.commentData}\r\n                          renderItem={item => this.state.commentData.length === 0 ?\r\n                              (<Empty image={Empty.PRESENTED_IMAGE_SIMPLE}/>) : (\r\n                                  <li >\r\n                                      <Comment\r\n                                          actions={[<Button style={{padding:0}} type=\"link\" onClick={()=>{this.replyParentComment(item)}}>回复</Button>]}\r\n                                          author={<span style={{color:\"black\"}}>{item.user.realName}</span>}\r\n                                               avatar={<Avatar src={item.user.avatar === \"\" ? \"\" : Constant.BaseAvatar + item.user.avatar}/>}\r\n                                               content={item.content}\r\n                                          datetime={<span style={{color:\"black\"}}>{moment(item.CreatedAt).format('YYYY-MM-DD HH:mm:ss')}</span>}\r\n                                      >\r\n                                          {(() => {\r\n                                              if (item.children.length === 0) return null;\r\n                                              else {\r\n                                                  return item.children.map((subItem) => {\r\n                                                      return (\r\n                                                          <Comment key={subItem.ID}\r\n                                                                   actions={[\r\n                                                                       <Button style={{padding:0}} onClick={()=>{this.replyChildComment(subItem)}} type=\"link\">\r\n                                                                            回复\r\n                                                                        </Button>]}\r\n                                                                   author={<span style={{color:\"black\"}}>{subItem.user.realName}</span>}\r\n                                                                   avatar={<Avatar src={subItem.user.avatar === \"\" ? \"\" : Constant.BaseAvatar + subItem.user.avatar}/>}\r\n                                                                   content={subItem.content}\r\n                                                                   datetime={<span style={{color:\"black\"}}>{moment(subItem.CreatedAt).format('YYYY-MM-DD HH:mm:ss')}</span>}\r\n                                                          />\r\n                                                      )\r\n                                                  })\r\n                                              }\r\n                                          })()}\r\n                                      </Comment>\r\n                                  </li>\r\n                              )}\r\n                    />\r\n                </div>\r\n\r\n            </Card>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(CourseComment);","import React from \"react\";\r\nimport {Avatar, Button, Card, Comment, Empty, List, message, Popconfirm} from \"antd\";\r\nimport Constant from \"../../../utils/constant\";\r\nimport moment from \"moment\";\r\nimport Request from \"../../../api\";\r\nimport {withRouter} from \"react-router\";\r\n\r\nclass MyComment extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.courseId = parseInt(props.match.params.id);\r\n        this.state = {\r\n            commentData: [],\r\n        };\r\n    }\r\n    loadCommentData=async ()=>{\r\n        try {\r\n            const result = await Request.getCommentByUserId(this.courseId);\r\n            this.setState({commentData: result});\r\n        } catch (e) {\r\n            message.error(\"获取评论失败\");\r\n        }\r\n    };\r\n    deleteComment=async (item)=>{\r\n      try {\r\n          await Request.deleteCommentById(item.ID);\r\n          this.loadCommentData();\r\n          message.success(\"已删除\");\r\n      }catch (e) {\r\n          message.error(\"删除失败\");\r\n      }\r\n    };\r\n    componentDidMount() {\r\n        this.loadCommentData();\r\n    }\r\n    render() {\r\n        return(\r\n            <Card>\r\n                <List itemLayout=\"horizontal\" dataSource={this.state.commentData}\r\n                      renderItem={item => this.state.commentData.length === 0 ?\r\n                          (<Empty image={Empty.PRESENTED_IMAGE_SIMPLE}/>) :\r\n                          (<li>\r\n                              <Comment actions={[<Popconfirm title=\"确定删除\" onConfirm={()=>{this.deleteComment(item)}}>\r\n                                      <Button style={{padding:0}} type=\"link\">删除</Button>\r\n                                  </Popconfirm>]}\r\n                                  author={<span style={{color:\"black\"}}>{item.user.realName}</span>}\r\n                                  avatar={<Avatar src={item.user.avatar === \"\" ? \"\" : Constant.BaseAvatar + item.user.avatar}/>}\r\n                                  content={item.content}\r\n                                  datetime={<span style={{color:\"black\"}}>{moment(item.CreatedAt).format('YYYY-MM-DD HH:mm:ss')}</span>}\r\n                              >\r\n                              </Comment>\r\n                          </li>)\r\n                      }\r\n                />\r\n            </Card>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(MyComment);","import React from \"react\";\r\nimport {Avatar, Card, Comment, Empty, List, message} from \"antd\";\r\nimport Constant from \"../../../utils/constant\";\r\nimport moment from \"moment\";\r\nimport Request from \"../../../api\";\r\nimport {withRouter} from \"react-router\";\r\n\r\nclass ReplyToMe extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.courseId = parseInt(props.match.params.id);\r\n        this.state = {\r\n            commentData: [],\r\n        };\r\n    }\r\n    loadCommentData=async ()=>{\r\n        try {\r\n            const result = await Request.getCommentReplyToUser(this.courseId);\r\n            this.setState({commentData: result});\r\n        } catch (e) {\r\n            message.error(\"获取评论失败\");\r\n        }\r\n    };\r\n    componentDidMount() {\r\n        this.loadCommentData();\r\n    }\r\n    render() {\r\n        return(\r\n            <Card>\r\n                <List itemLayout=\"horizontal\" dataSource={this.state.commentData}\r\n                      renderItem={item => this.state.commentData.length === 0 ?\r\n                          (<Empty image={Empty.PRESENTED_IMAGE_SIMPLE}/>) :\r\n                          (<li>\r\n                              <Comment\r\n                                  author={<span style={{color:\"black\"}}>{item.user.realName}</span>}\r\n                                  avatar={<Avatar src={item.user.avatar === \"\" ? \"\" : Constant.BaseAvatar + item.user.avatar}/>}\r\n                                  content={item.content}\r\n                                  datetime={<span style={{color:\"black\"}}>{moment(item.CreatedAt).format('YYYY-MM-DD HH:mm:ss')}</span>}\r\n                              >\r\n                              </Comment>\r\n                          </li>)\r\n                      }\r\n                />\r\n            </Card>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(ReplyToMe);","import React from \"react\";\r\nimport {Layout, Menu} from \"antd\";\r\nimport CourseComment from \"./course-comment\";\r\nimport MyComment from \"./my-comment\";\r\nimport ReplyToMe from \"./replyToMe\";\r\nconst {Content,Sider } = Layout;\r\nexport default class Discuss extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.menuData=[\r\n            {key:\"1\", text:\"课程讨论\"},\r\n            {key:\"2\",text:\"我发表的\"},\r\n            {key:\"3\",text:\"回复我的\"},\r\n        ];\r\n        this.state={\r\n            key:\"1\",\r\n        }\r\n    }\r\n    onMenuClick=({key})=> {\r\n        this.setState({key:key})\r\n    };\r\n    render() {\r\n        return(\r\n            <React.Fragment>\r\n                <Sider className=\"sider\" theme=\"light\" breakpoint=\"lg\" collapsedWidth=\"0\" width=\"250\">\r\n                    <Menu theme=\"light\" mode=\"inline\" onClick={this.onMenuClick}\r\n                          selectedKeys={[this.state.key]}>\r\n                        {this.menuData.map((item)=>{return (\r\n                            <Menu.Item key={item.key}>\r\n                                <span>{item.text}</span>\r\n                            </Menu.Item>\r\n                        )})}\r\n                    </Menu>\r\n                </Sider>\r\n                <Content>\r\n                    {this.state.key==='1'?<CourseComment/>:null}\r\n                    {this.state.key==='2'?<MyComment/>:null}\r\n                    {this.state.key==='3'?<ReplyToMe/>:null}\r\n                </Content>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {withRouter} from \"react-router\";\r\nimport {Button, Card, Col, DatePicker, Form, InputNumber, message, Modal, Row, Select, Space, Table} from \"antd\";\r\nimport moment from \"moment\";\r\nimport Request from \"../../../api\";\r\nimport {ArrowLeftOutlined, DownloadOutlined} from \"@ant-design/icons\";\r\nimport queryString from \"querystring\";\r\nconst formItemLayout = {labelCol: {span:4}, wrapperCol: {span:20}};\r\nconst tailFormItemLayout = {wrapperCol: {span:16,offset:4}};\r\nclass ExamComponent extends React.Component{\r\n    columns=[\r\n        {title: '帐号', dataIndex: ['user','email'],width:\"20%\",align:'center'},\r\n        {title: '姓名', dataIndex: ['user','realName'],width:\"10%\",align:'center'},\r\n        {title:'学号',dataIndex:['user','number'],width:\"10%\",align:'center'},\r\n        {title:'总分',dataIndex:'totalScore',width:\"10%\",align:'center'},\r\n        {title:'开考时间',dataIndex:'startTime',width:\"20%\",align:'center',\r\n            render:(text)=>{\r\n                return moment(text).format('YYYY-MM-DD HH:mm:ss');\r\n            }\r\n        },\r\n        {title:'完成时间',dataIndex:'finishTime',width:\"20%\",align:'center',\r\n            render:(text)=>{\r\n                if(text==null) return \"截止时间\";\r\n                return moment(text).format('YYYY-MM-DD HH:mm:ss');\r\n            }\r\n        },\r\n        {title:'状态',dataIndex:'mark',width:\"10%\",align:'center',\r\n            render:(text)=>{\r\n                if(text===0) return <span style={{color:\"red\"}}>未批阅</span>;\r\n                else if(text===1) return <span>已批阅</span>\r\n            }\r\n        },\r\n        {title:'操作',key:'action',width:\"20%\",align:'center',\r\n            render: (text,record) => {\r\n                    return (\r\n                        <Button style={{padding:0}} type=\"link\"\r\n                                onClick={()=>this.goToMarkExam(record)}>\r\n                            {record.mark===0?\"批阅\":\"重新批阅\"}\r\n                        </Button>\r\n                    )\r\n            },\r\n        }\r\n    ];\r\n    constructor(props) {\r\n        super(props);\r\n        this.courseId = parseInt(props.match.params.id);\r\n        this.updatedExamPublish={};//要更新的发布数据\r\n        this.state={\r\n            examPublishData:[],\r\n            examSubmitData:[],\r\n            classData:[],//有哪些班级\r\n            selectedValue:undefined,//选择的班级\r\n            republishExamModal:false,\r\n            submitRecordVisible:false,\r\n        }\r\n    }\r\n    goToMarkExam=(record)=>{\r\n        this.props.history.push({\r\n            pathname:\"/markExam\",\r\n            search:`examSubmitId=${record.ID}`,\r\n        });\r\n    };\r\n    setExamPublishId=()=>{\r\n        let search = this.props.location.search;\r\n        if(search!==\"\") {\r\n            this.examPublishId = queryString.parse(search.slice(1)).examPublishId;\r\n            return this.examPublishId\r\n        }\r\n    };\r\n    onRepublishFormFinish=async (values)=>{\r\n        let publish={\r\n            id:this.updatedExamPublish.ID,\r\n            duration:values.duration,\r\n            beginTime:values.range[0].format(),\r\n            endTime:values.range[1].format(),\r\n        };\r\n        try{\r\n            await Request.updateExamPublishById(publish);\r\n            this.cancelRepublishExamModal();\r\n            this.loadExamPublishData(this.state.selectedValue);\r\n            message.success(\"更新成功\")\r\n        }catch (e) {\r\n            message.error(\"更新失败\");\r\n        }\r\n\r\n    };\r\n    showRepublishExamModal=(record)=>{\r\n        let range=new Array(2);\r\n        range[0]=moment(record.beginTime);\r\n        range[1]=moment(record.endTime);\r\n        this.updatedExamPublish={...record,range:range};\r\n        this.setState({republishExamModal:true});\r\n    };\r\n    cancelRepublishExamModal=()=>{\r\n        this.setState({republishExamModal:false});\r\n    };\r\n    loadClassData=async ()=>{\r\n        try{\r\n            const result = await Request.getClassesByCourseId(this.courseId);\r\n            if(result.length!==0){\r\n\r\n                this.setState({classData:result,selectedValue:result[0].ID});\r\n                this.loadExamPublishData(result[0].ID);\r\n            }\r\n        }catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n    loadExamPublishData=async (classId)=>{\r\n        try{\r\n            const result=await Request.getExamPublishesByClassId(classId);\r\n            this.setState({examPublishData:result})\r\n        }catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n    loadExamSubmitData=async (examPublishId)=>{\r\n        try{\r\n            const result = await Request.getExamSubmitsByPublishId(examPublishId);\r\n            this.setState({examSubmitData:result});\r\n        }catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n    showExamSubmitRecord=(examPublish)=>{\r\n        this.props.history.push({pathname:\"exam\",search:`examPublishId=${examPublish.ID}`});\r\n    };\r\n    cancelExamSubmitRecord=()=>{\r\n        this.props.history.push({pathname:\"exam\"});\r\n    };\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if(this.props.location !== prevProps.location){//根据路由变化决定显示发布的作业数据页面还是具体的提交数据页面\r\n            this.setSubmitRecordVisible();\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.loadClassData();\r\n        this.setSubmitRecordVisible();\r\n    }\r\n    setSubmitRecordVisible=()=>{//提交的作业记录表格是否可见\r\n        if(this.setExamPublishId()){\r\n            this.setState({submitRecordVisible:true});\r\n            this.loadExamSubmitData(this.examPublishId);\r\n        }else{\r\n            this.setState({submitRecordVisible:false});\r\n        }\r\n    };\r\n    onSelectChange=(value)=>{\r\n        this.loadExamPublishData(value);\r\n    };\r\n    downloadExamExcel=async ()=>{\r\n      try{\r\n          await Request.exportExamToExcel(this.examPublishId)\r\n      }catch (e) {\r\n          message.error(\"下载出错\");\r\n      }\r\n    };\r\n    getSummary=(pageData)=>{\r\n        if(pageData.length===0)return null;\r\n        let scoreArr=[];\r\n        pageData.forEach(({totalScore})=>{\r\n            scoreArr.push(totalScore);\r\n        });\r\n        let min=scoreArr[0];let max=scoreArr[0];let average=0;\r\n        scoreArr.forEach((item)=>{\r\n            min=Math.min(min,item);\r\n            max=Math.max(max,item);\r\n            average=average+item;\r\n        });\r\n        average=average/scoreArr.length;\r\n        return (\r\n            <React.Fragment>\r\n                <tr>\r\n                    <th>统计</th>\r\n                    <td>最低分</td>\r\n                    <td>{min}分</td>\r\n                    <td>最高分</td>\r\n                    <td>{max}分</td>\r\n                    <td>平均分</td>\r\n                    <td>{average}分</td>\r\n                    <td/>\r\n                </tr>\r\n            </React.Fragment>\r\n        )\r\n    };\r\n    render() {\r\n        const examPublishList=(\r\n            <div>\r\n                <Modal title=\"重设发放\" onCancel={this.cancelRepublishExamModal} destroyOnClose={true}\r\n                       visible={this.state.republishExamModal} footer={null}>\r\n                    <Form initialValues={this.updatedExamPublish} name=\"republish-examLib\" onFinish={this.onRepublishFormFinish} {...formItemLayout}>\r\n                        <Form.Item name=\"duration\" label=\"考试时间\" rules={[{required: true,message: '请输入时间'},]}>\r\n                            <InputNumber min={10} />\r\n                        </Form.Item>\r\n                        <Form.Item label=\"起止时间\" name=\"range\" rules={[{ type: 'array', required: true, message: '请选择时间'}]}>\r\n                            <DatePicker.RangePicker showTime format=\"YYYY-MM-DD HH:mm:ss\" />\r\n                        </Form.Item>\r\n                        <Form.Item {...tailFormItemLayout}>\r\n                            <Button type=\"primary\" htmlType=\"submit\" style={{width:\"100%\"}}>确认</Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Modal>\r\n                <div style={{marginBottom:10}}>\r\n                    <Select placeholder=\"请选择班级\" style={{width:150}} value={this.state.selectedValue}  onChange={this.onSelectChange}>\r\n                        {\r\n                            this.state.classData.map((item)=>{\r\n                                return (\r\n                                    <Select.Option key={item.ID} value={item.ID}>{item.className}</Select.Option>\r\n                                )\r\n                            })\r\n                        }\r\n                    </Select>\r\n                </div>\r\n                <Row gutter={16}>\r\n                    {\r\n                        this.state.examPublishData.map((item)=>{\r\n                            return (<Col span={8} key={item.ID}>\r\n                                <Card title={item.examLib.name} actions={[\r\n                                    <div style={{display:\"flex\",justifyContent:\"space-between\",paddingLeft:20,paddingRight:20}}>\r\n                                        <span><span style={{fontSize:20,color:\"red\"}}>{item.unMarkCount}</span>份待批</span>\r\n                                        <Space>\r\n                                            <Button onClick={()=>this.showRepublishExamModal(item)}>重设发放</Button>\r\n                                            <Button onClick={()=>this.showExamSubmitRecord(item)}>查看</Button>\r\n                                        </Space>\r\n                                    </div>]\r\n                                }>\r\n                                    <div>开始时间:{moment(item.beginTime).format(\"YYYY-MM-DD HH:mm:ss\")}</div>\r\n                                    <div>结束时间:{moment(item.endTime).format(\"YYYY-MM-DD HH:mm:ss\")}</div>\r\n                                    <div>考试时间:{item.duration}分钟</div>\r\n                                    <div>提交人数:{item.submitCount}人</div>\r\n                                </Card>\r\n                            </Col>)\r\n                        })\r\n                    }\r\n                </Row>\r\n            </div>\r\n        );\r\n        const examSubmitRecord=(\r\n            <div>\r\n                <div style={{marginBottom:10}}>\r\n                    <Button type=\"link\" icon={<ArrowLeftOutlined/>} onClick={this.cancelExamSubmitRecord}>返回</Button>\r\n                    <Button type=\"primary\" icon={<DownloadOutlined/>} onClick={this.downloadExamExcel}>导出成绩到Excel</Button>\r\n                </div>\r\n                <Table bordered  columns={this.columns} dataSource={this.state.examSubmitData}\r\n                       summary={this.getSummary}  pagination={false} rowKey={record=>record.ID}\r\n                />\r\n            </div>\r\n        );\r\n        return (\r\n            this.state.submitRecordVisible?examSubmitRecord:examPublishList\r\n        )\r\n    }\r\n}\r\nexport default withRouter(ExamComponent)","import React from \"react\";\r\nimport Request from \"../../../api\";\r\nimport {Button, DatePicker, Form, InputNumber, message, Select} from \"antd\";\r\nconst formItemLayout = {labelCol: {span:4}, wrapperCol: {span:20}};\r\nconst tailFormItemLayout = {wrapperCol: {span:16,offset:4}};\r\nexport default class PublishExamForm extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.formRef=React.createRef();\r\n        this.state={\r\n            classes:[],\r\n        }\r\n    }\r\n    loadClassesInfo=async ()=>{\r\n        try{\r\n            const result = await Request.getClassesByCourseId(this.props.courseId);\r\n            let classes = [];\r\n            result.forEach((item)=>{\r\n                classes.push({value:item.ID,name:item.className});\r\n            });\r\n            this.setState({classes:classes});\r\n        }catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n    componentDidMount() {\r\n        this.loadClassesInfo();\r\n    }\r\n\r\n    onFinish = (values) => {\r\n        if(values.range[1].diff(values.range[0],'minute')> values.duration){\r\n            let form = {\r\n                ...values,\r\n                beginTime: values.range[0].format(),\r\n                endTime: values.range[1].format(),\r\n            };\r\n            this.props.onFinish(form);\r\n        }else{\r\n            message.error(\"起止时间差应大于考试持续时间\");\r\n        }\r\n    };\r\n    render() {\r\n        return (\r\n            <Form ref={this.formRef} name=\"publish-homeworkLib\" onFinish={this.onFinish} {...formItemLayout}>\r\n                <Form.Item label=\"班级\" name=\"classId\" hasFeedback rules={[{required: true,message: '请选择班级!'},]}>\r\n                    <Select placeholder=\"请选择班级\">\r\n                        {\r\n                            this.state.classes.map((item)=>{\r\n                                return (\r\n                                    <Select.Option key={item.value} value={item.value}>{item.name}</Select.Option>\r\n                                )\r\n                            })\r\n                        }\r\n                    </Select>\r\n                </Form.Item>\r\n                <Form.Item label=\"起止时间\" name=\"range\" rules={[{ type: 'array', required: true, message: '请选择时间'}]}>\r\n                    <DatePicker.RangePicker showTime format=\"YYYY-MM-DD HH:mm:ss\" />\r\n                </Form.Item>\r\n                <Form.Item name=\"duration\" label=\"考试时间\" rules={[{required: true,message: '请输入时间'},]}>\r\n                    <InputNumber min={10} />\r\n                </Form.Item>\r\n                <Form.Item {...tailFormItemLayout}>\r\n                    <Button type=\"primary\" htmlType=\"submit\" style={{width:\"100%\"}}>确认</Button>\r\n                </Form.Item>\r\n            </Form>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport moment from \"moment\";\r\nimport {Button, Divider, Form, Input, message, Modal, Space, Table, Upload} from \"antd\";\r\nimport Request from \"../../../api\";\r\nimport {withRouter} from \"react-router\";\r\nimport PublishExamForm from \"./publish-exam-form\";\r\nimport {UploadOutlined} from \"@ant-design/icons\";\r\nconst formItemLayout = {labelCol: {span:4}, wrapperCol: {span:20}};\r\nconst tailFormItemLayout = {wrapperCol: {span:16,offset:4}};\r\nclass ExamLibComponent extends React.Component{\r\n    columns=[\r\n        {title: '试卷标题', dataIndex: 'name',width:\"30%\"},\r\n        {title: '创建时间', dataIndex: 'CreatedAt',width:\"20%\",align:'center',\r\n            render:(text)=>{\r\n                return moment(text).format('YYYY-MM-DD HH:mm:ss');\r\n            }\r\n        },\r\n        {title:'题目数量',dataIndex:'subjectCount',width:\"10%\",align:'center'},\r\n        {title:'总分',dataIndex:'totalScore',width:\"10%\",align:'center'},\r\n        {title:'操作',key:'action',width:\"30%\",align:'center',\r\n            render: (text,record) => {\r\n                return (\r\n                    <Space size={2}>\r\n                        <Button style={{padding:0}} type=\"link\"\r\n                                onClick={()=>this.showRenameModal(record)}>\r\n                            重命名\r\n                        </Button>\r\n                        <Divider type=\"vertical\" />\r\n                        <Button style={{padding:0}} type='link'\r\n                                onClick={()=>this.goToEditExamLib(record)}>\r\n                            编辑\r\n                        </Button>\r\n                        <Divider type=\"vertical\" />\r\n                        <Button style={{padding:0}} type='link'\r\n                                onClick={()=>this.showImportLibModal(record)}>\r\n                            从Excel中导入试题\r\n                        </Button>\r\n                        <Divider type=\"vertical\" />\r\n                        <Button style={{padding:0}} disabled={record.subjectCount===0} type='link'\r\n                                onClick={()=>this.showPublishLibModal(record)}>\r\n                            发布考试\r\n                        </Button>\r\n                    </Space>\r\n                )\r\n            },\r\n        }\r\n    ];\r\n    constructor(props) {\r\n        super(props);\r\n        this.courseId = parseInt(props.match.params.id);\r\n        this.updatedLib={name:\"\"};//要更新的库\r\n        this.state={\r\n            examLibData:[],\r\n            renameModal:false,\r\n            createLibModal:false,\r\n            publishLibModal:false,\r\n\r\n            importLibModal:false,\r\n            uploading:false,\r\n            fileList:[],\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        this.loadExamLibData();\r\n    }\r\n    goToEditExamLib=(record)=>{\r\n        let query = `courseId=${this.courseId}&examLibId=${record.ID}`;\r\n        this.props.history.push({pathname:\"/editor\",search:query});\r\n    };\r\n    showRenameModal=(record)=>{\r\n        this.setState({renameModal:true});\r\n        this.updatedLib=record;\r\n    };\r\n    cancelRenameModal=()=>{\r\n        this.setState({renameModal:false});\r\n    };\r\n    renameExamLib=async (values)=>{\r\n        try{\r\n            await Request.updateExamLibNameById({id:this.updatedLib.ID,name:values.name});\r\n            message.success(\"已更新\");\r\n            this.cancelRenameModal();\r\n            this.loadExamLibData();\r\n        }catch (e) {\r\n            message.error(\"操作失败\");\r\n        }\r\n    };\r\n\r\n    showPublishLibModal=(record)=>{\r\n        this.publishedExamLibId=record.ID;\r\n        this.setState({publishLibModal:true})\r\n    };\r\n    cancelPublishLibModal=()=>{\r\n        this.setState({publishLibModal:false})\r\n    };\r\n    publishExam=async (values)=>{\r\n        values={...values,examLibId:this.publishedExamLibId};\r\n        try{\r\n            const result = await Request.publishExam(values);\r\n            if(result.code===202){\r\n                message.info(\"该班级已发布过,不能重复发布\")\r\n            }else{\r\n                message.success(\"发布成功\");\r\n                this.cancelPublishLibModal();\r\n            }\r\n        }catch (e) {\r\n            message.error(\"发布失败\");\r\n        }\r\n    };\r\n    loadExamLibData=async ()=>{\r\n        try{\r\n            const result = await Request.getExamLibsByCourseId(this.courseId);\r\n            this.setState({examLibData:result})\r\n        }catch (e) {\r\n            message.error(\"获取数据失败\");\r\n        }\r\n    };\r\n\r\n    beforeUpload = () => {\r\n        return false;\r\n    };\r\n    onRemove = () => {\r\n        this.setState({fileList:[]});\r\n    };\r\n    handleUploadChange=(info)=>{\r\n        let fileList = [...info.fileList];\r\n        fileList = fileList.slice(-1);\r\n        this.setState({fileList:fileList});\r\n    };\r\n    showImportLibModal=(record)=>{\r\n        this.setState({importLibModal:true});\r\n        this.updatedLib=record;\r\n    };\r\n    cancelImportLibModal=()=>{\r\n        this.setState({importLibModal:false});\r\n    };\r\n    importLibFormExcel=async ()=>{\r\n        const { fileList } = this.state;\r\n        const formData = new FormData();\r\n        if(fileList.length!==0){\r\n            formData.append('excel', fileList[0].originFileObj);\r\n        }\r\n        formData.append('libId',this.updatedLib.ID);\r\n        formData.append('type',\"exam\");\r\n        this.setState({uploading: true,});\r\n        try {\r\n            await Request.importExcelSubjectToLib(formData);\r\n            this.setState({\r\n                uploading: false,\r\n                fileList: [],\r\n                importLibModal:false,\r\n            });\r\n            message.success(\"导入题库成功\");\r\n            this.loadExamLibData();\r\n        }catch (e) {\r\n            let err=\"\";\r\n            if(e.response.data.err){\r\n                err=e.response.data.err;\r\n            }\r\n            message.error(\"导入失败!\"+err);\r\n            this.setState({uploading:false});\r\n        }\r\n    };\r\n    downloadExcelExample=async ()=>{\r\n        try{\r\n            await Request.downloadExcelExample();\r\n        }catch (e) {\r\n            message.error(\"下载出错\");\r\n        }\r\n    };\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Modal title=\"重命名\" destroyOnClose={true} onCancel={this.cancelRenameModal}\r\n                       visible={this.state.renameModal} footer={null}>\r\n                    <Form name=\"rename-lib\" onFinish={this.renameExamLib} {...formItemLayout}>\r\n                        <Form.Item name=\"name\" label=\"名称\"  rules={[{required: true,message: '请输入名称!'},]}>\r\n                            <Input  />\r\n                        </Form.Item>\r\n                        <Form.Item {...tailFormItemLayout}>\r\n                            <Button type=\"primary\" htmlType=\"submit\" style={{width:\"100%\"}}>确认</Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Modal>\r\n                <Modal title=\"导入试题\" destroyOnClose={true} onCancel={this.cancelImportLibModal}\r\n                       visible={this.state.importLibModal} footer={null}>\r\n                    <Upload  listType=\"picture\" multiple={false} onChange={this.handleUploadChange}\r\n                             onRemove={this.onRemove}\r\n                             beforeUpload={this.beforeUpload} fileList={this.state.fileList}>\r\n                        <Button>\r\n                            <UploadOutlined /> 选择Excel文件\r\n                        </Button>\r\n                    </Upload>\r\n                    <Button type=\"primary\" onClick={this.importLibFormExcel}\r\n                            disabled={this.state.fileList.length===0} loading={this.state.uploading}\r\n                            style={{ marginTop: 16 }}\r\n                    >\r\n                        {this.state.uploading ? '上传中' : '开始上传'}\r\n                    </Button>\r\n                </Modal>\r\n                <Modal title=\"发布考试\" onCancel={this.cancelPublishLibModal}\r\n                       visible={this.state.publishLibModal} footer={null}>\r\n                    <PublishExamForm courseId={this.courseId} onFinish={this.publishExam}/>\r\n                </Modal>\r\n                <Button style={{marginBottom:10}} onClick={this.downloadExcelExample} type=\"primary\">下载导入题库的Excel模板</Button>\r\n                <Table bordered  columns={this.columns} dataSource={this.state.examLibData}\r\n                       pagination={false} rowKey={record=>record.ID}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(ExamLibComponent)","import React from \"react\";\r\nimport {Button, Card, Form, Input, message, Modal} from \"antd\";\r\nimport Request from \"../../../api\";\r\nimport ExamComponent from \"./examComponent\";\r\nimport ExamLibComponent from \"./examLibComponent\";\r\nconst formItemLayout = {labelCol: {span:4}, wrapperCol: {span:20}};\r\nconst tailFormItemLayout = {wrapperCol: {span:16,offset:4}};\r\nexport default class Exam extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.courseId = parseInt(props.match.params.id);\r\n        this.state={\r\n            createLibModal:false,\r\n            tabKey:'exam',\r\n        };\r\n    };\r\n    showCreateLibModal=()=>{\r\n        this.setState({createLibModal:true});\r\n    };\r\n    cancelCreateLibModal=()=>{\r\n        this.setState({createLibModal:false});\r\n    };\r\n    createExamLib = async (values)=>{\r\n        try{\r\n            await Request.createExamLib({courseId:this.courseId,name:values.name});\r\n            message.success(\"已创建\");\r\n            this.cancelCreateLibModal();\r\n        }catch (e) {\r\n            message.error(\"操作失败\");\r\n        }\r\n    };\r\n\r\n    onTabChange=(key)=>{\r\n        this.setState({tabKey:key});\r\n    };\r\n    render() {\r\n        const tabList = [{key: 'exam', tab: '考试'}, {key: 'examLib', tab: '试题库'}];\r\n        const contentList = {\r\n            exam: <ExamComponent/>,\r\n            examLib: <ExamLibComponent/>,\r\n        };\r\n        let tabBarExtraContent=this.state.tabKey!==\"examLib\"?null:\r\n            <Button type='link' onClick={this.showCreateLibModal}>新建试题库</Button>;\r\n        return (\r\n            <Card  bodyStyle={{padding:20}} style={{width:\"80%\",height:\"100%\",marginLeft:\"auto\",marginRight:\"auto\"}}\r\n                   tabList={tabList} activeTabKey={this.state.tabKey} onTabChange={this.onTabChange}\r\n                   tabBarExtraContent={tabBarExtraContent}\r\n            >\r\n                <Modal title=\"新建\" onCancel={this.cancelCreateLibModal}\r\n                       visible={this.state.createLibModal} footer={null}>\r\n                    <Form name=\"create-lib\" onFinish={this.createExamLib} {...formItemLayout}>\r\n                        <Form.Item name=\"name\" label=\"名称\"  rules={[{required: true,message: '请输入名称!'},]}>\r\n                            <Input  />\r\n                        </Form.Item>\r\n                        <Form.Item {...tailFormItemLayout}>\r\n                            <Button type=\"primary\" htmlType=\"submit\" style={{width:\"100%\"}}>确认</Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Modal>\r\n                {contentList[this.state.tabKey]}\r\n            </Card>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Layout, Menu} from \"antd\";\r\nimport {Link, Redirect, Route, Switch} from \"react-router-dom\";\r\nimport Request from '../../api'\r\nimport Home from \"./home\";\r\nimport Classes from \"./class\";\r\nimport Resource from \"./resource\";\r\nimport Notify from \"./notify\";\r\nimport Homework from \"./homework/homework\";\r\nimport Discuss from \"./discuss/discuss\";\r\nimport Exam from \"./exam/exam\";\r\nimport Constant from \"../../utils/constant\";\r\nimport github from \"../../assets/github.svg\";\r\nconst { Header } = Layout;\r\nexport default class TeacherCourse extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.parentPath=\"/teacher-course/\"+props.match.params.id;\r\n        this.state={\r\n          courseName:\"\",\r\n        };\r\n    }\r\n    menuData=[\r\n        {key:\"home\", path:\"/home\", text:\"首页\"},\r\n        {key:\"class\",path:\"/class\", text:\"班级\"},\r\n        {key:\"resource\",path:\"/resource\", text:\"资料\"},\r\n        {key:\"notify\",path:\"/notify\", text:\"通知\"},\r\n        {key:\"homework\",path:\"/homework\", text:\"作业\"},\r\n        {key:\"exam\",path:\"/exam\", text:\"考试\"},\r\n        {key:\"discuss\",path:\"/discuss\", text:\"讨论\"},\r\n    ];\r\n    componentDidMount() {\r\n        this.loadCourseData();\r\n    }\r\n    loadCourseData=async ()=>{\r\n        try{\r\n           const result= await Request.getCourseById(this.props.match.params.id);\r\n           this.setState({courseName:result.name});\r\n        }catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n    render() {\r\n        return (\r\n            <Layout className=\"teacher-course\" >\r\n                <Header className=\"header\" style={{marginBottom:1}}>\r\n                    <div className=\"course-name\">{this.state.courseName}</div>\r\n                    <a style={{marginLeft:20}} href={Constant.Github}><img alt=\"github\" src={github}/></a>\r\n                    <Menu theme=\"light\" mode=\"horizontal\"\r\n                           className=\"menu\">\r\n                        {\r\n                            this.menuData.map((item)=>{\r\n                                return (\r\n                                    <Menu.Item key={item.key}>\r\n                                        <Link to={this.parentPath+item.path}>\r\n                                            <span className=\"nav-text\">{item.text}</span>\r\n                                        </Link>\r\n                                    </Menu.Item>\r\n                                )\r\n                            })\r\n                        }\r\n                    </Menu>\r\n                </Header>\r\n                <Layout>\r\n                    <Switch>\r\n                        <Redirect from=\"/teacher-course/:id\" exact to=\"/teacher-course/:id/home\"/>\r\n                        <Route path=\"/teacher-course/:id/home\" component={Home}/>\r\n                        <Route path=\"/teacher-course/:id/class\" component={Classes}/>\r\n                        <Route path=\"/teacher-course/:id/resource\" component={Resource}/>\r\n                        <Route path=\"/teacher-course/:id/notify\" component={Notify}/>\r\n                        <Route path=\"/teacher-course/:id/homework\" component={Homework}/>\r\n                        <Route path=\"/teacher-course/:id/exam\" component={Exam}/>\r\n                        <Route path=\"/teacher-course/:id/discuss\" component={Discuss}/>\r\n                    </Switch>\r\n                </Layout>\r\n            </Layout>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Radio, Input, Form, Button, InputNumber} from 'antd';\r\nconst formItemLayout = {\r\n    labelCol: {span:2},\r\n    wrapperCol: {span:16},\r\n};\r\nconst tailFormItemLayout = {\r\n    wrapperCol: {offset:2},\r\n};\r\nexport default class SingleSubjectEditor extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.formRef=React.createRef();\r\n        this.allOptions=['A','B','C','D','E','F','G','H','I'];\r\n        let options=this.allOptions.slice(0,4);\r\n        if (props.dataSource){\r\n            options=this.allOptions.slice(0,props.dataSource.options.length);\r\n        }\r\n        this.state = {\r\n            options:options,\r\n        };\r\n\r\n    };\r\n    setFormOptionsInitialValues=()=>{\r\n        if(!this.props.dataSource) return;\r\n        let values={...this.props.dataSource};\r\n        this.props.dataSource.options.forEach((item)=>{\r\n           values={...values,[item.sequence]:item.content};\r\n        });\r\n        this.formRef.current.setFieldsValue(values);\r\n    };\r\n    componentDidMount() {\r\n        this.setFormOptionsInitialValues();\r\n    }\r\n    addOption=()=>{\r\n        let optionLength=this.state.options.length;\r\n        this.state.options.push(this.allOptions[optionLength]);\r\n        this.setState({\r\n            options:this.state.options,\r\n        });\r\n    };\r\n    deleteOption=()=>{\r\n        this.state.options.pop();\r\n        this.setState({\r\n            options:this.state.options,\r\n        });\r\n    };\r\n    onFinish=(values)=>{\r\n        if(!this.props.onFinish)return;\r\n        let options=[];\r\n        this.state.options.forEach((item)=>{\r\n            options.push({sequence:item,content:values[item]});\r\n        });\r\n        this.props.onFinish({type:\"单选题\",options:options,...values});\r\n    };\r\n    render() {\r\n        return (\r\n            <div >\r\n                <Form ref={this.formRef}  onFinish={this.onFinish} name=\"create-single\" {...formItemLayout}>\r\n                    <Form.Item name=\"score\" label=\"分值\" rules={[{required: true,message: '请输入分值'},]}>\r\n                        <InputNumber min={1} max={100}/>\r\n                    </Form.Item>\r\n                    <Form.Item name=\"question\" label=\"题干\"\r\n                               rules={[{required: true,message: '请输入题干'},]}>\r\n                        <Input.TextArea rows={4}/>\r\n                    </Form.Item>\r\n                    {\r\n                        this.state.options.map((item)=>{\r\n                          return (\r\n                              <Form.Item rules={[{required: true,message: '请输入内容'},]}\r\n                                  name={item} label={`选项${item}`} key={item}>\r\n                                  <Input.TextArea rows={1}/>\r\n                              </Form.Item>\r\n                          )\r\n                        })\r\n                    }\r\n                    <Form.Item name=\"answer\" label=\"正确答案\"\r\n                               rules={[{required: true,message: '请输入正确答案'},]}>\r\n                        <Radio.Group>\r\n                            {\r\n                                this.state.options.map((item)=>{\r\n                                    return (\r\n                                        <Radio value={item} key={item}>{item}</Radio>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </Radio.Group>\r\n                    </Form.Item>\r\n                    <Form.Item {...tailFormItemLayout}>\r\n                        <Button disabled={this.state.options.length===this.allOptions.length} onClick={this.addOption} style={{marginRight:10}}>添加选项</Button>\r\n                        <Button disabled={this.state.options.length===2} onClick={this.deleteOption} style={{marginRight:10}}>删除选项</Button>\r\n                        <Button type=\"primary\" htmlType=\"submit\">\r\n                            确定\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Input, Form, Button, InputNumber,Checkbox} from 'antd';\r\nconst formItemLayout = {\r\n    labelCol: {span:2},\r\n    wrapperCol: {span:16},\r\n};\r\nconst tailFormItemLayout = {\r\n    wrapperCol: {offset:2},\r\n};\r\nexport default class MultipleSubjectEditor extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.formRef=React.createRef();\r\n        this.allOptions=['A','B','C','D','E','F','G','H','I'];\r\n        let options=this.allOptions.slice(0,4);\r\n        if (props.dataSource){\r\n            options=this.allOptions.slice(0,props.dataSource.options.length);\r\n        }\r\n        this.state = {\r\n            options:options,\r\n        };\r\n    };\r\n    setFormOptionsInitialValues=()=>{\r\n        if(!this.props.dataSource) return;\r\n        let values={...this.props.dataSource};\r\n        this.props.dataSource.options.forEach((item)=>{\r\n            values={...values,[item.sequence]:item.content};\r\n        });\r\n        let answer = this.props.dataSource.answer;\r\n        if(answer!==undefined&&answer!=null&&answer!==''){\r\n            answer = answer.split(',');//将1,2变为数组[1,2]\r\n            values={...values,answer:answer};\r\n        }\r\n        this.formRef.current.setFieldsValue(values);\r\n    };\r\n    componentDidMount() {\r\n        this.setFormOptionsInitialValues();\r\n    }\r\n    addOption=()=>{\r\n        let optionLength=this.state.options.length;\r\n        this.state.options.push(this.allOptions[optionLength]);\r\n        this.setState({\r\n            options:this.state.options,\r\n        });\r\n    };\r\n    deleteOption=()=>{\r\n        this.state.options.pop();\r\n        this.setState({\r\n            options:this.state.options,\r\n        });\r\n    };\r\n    onFinish=(values)=>{\r\n        if(!this.props.onFinish) return;\r\n        let answer=values.answer.toString();//将数组[1,2]变为字符串1,2\r\n        let options=[];\r\n        this.state.options.forEach((item)=>{\r\n            options.push({sequence:item,content:values[item]});\r\n        });\r\n        this.props.onFinish({type: \"多选题\", ...values,answer:answer,options:options});\r\n\r\n    };\r\n    render() {\r\n        return (\r\n            <div >\r\n                <Form ref={this.formRef} onFinish={this.onFinish} name=\"create-multiple\" {...formItemLayout}>\r\n                    <Form.Item name=\"score\" label=\"分值\" rules={[{required: true,message: '请输入分值'},]}>\r\n                        <InputNumber min={1} max={100}/>\r\n                    </Form.Item>\r\n                    <Form.Item name=\"question\" label=\"题干\"\r\n                               rules={[{required: true,message: '请输入题干'},]}>\r\n                        <Input.TextArea rows={4}/>\r\n                    </Form.Item>\r\n                    {\r\n                        this.state.options.map((item)=>{\r\n                            return (\r\n                                <Form.Item rules={[{required: true,message: '请输入内容'},]}\r\n                                           name={item} label={`选项${item}`} key={item}>\r\n                                    <Input.TextArea rows={1}/>\r\n                                </Form.Item>\r\n                            )\r\n                        })\r\n                    }\r\n                    <Form.Item name=\"answer\" label=\"正确答案\"\r\n                               rules={[{required: true,message: '请输入正确答案'},]}>\r\n                        <Checkbox.Group>\r\n                            {\r\n                                this.state.options.map((item)=>{\r\n                                    return (\r\n                                        <Checkbox value={item} key={item}>{item}</Checkbox>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </Checkbox.Group>\r\n                    </Form.Item>\r\n                    <Form.Item {...tailFormItemLayout}>\r\n                        <Button disabled={this.state.options.length===this.allOptions.length} onClick={this.addOption} style={{marginRight:10}}>添加选项</Button>\r\n                        <Button disabled={this.state.options.length===2} onClick={this.deleteOption} style={{marginRight:10}}>删除选项</Button>\r\n                        <Button type=\"primary\" htmlType=\"submit\">\r\n                            确定\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Button, Form, Input, InputNumber, Radio} from \"antd\";\r\nconst formItemLayout = {\r\n    labelCol: {span:2},\r\n    wrapperCol: {span:16},\r\n};\r\nconst tailFormItemLayout = {\r\n    wrapperCol: {offset:2},\r\n};\r\nexport default class JudgementSubjectEditor extends React.Component{\r\n    onFinish=(values)=>{\r\n        if(!this.props.onFinish) return;\r\n        this.props.onFinish({type: \"判断题\", ...values});\r\n\r\n    };\r\n    render() {\r\n        return (\r\n            <div >\r\n                <Form onFinish={this.onFinish} initialValues={this.props.dataSource} name=\"create-judgement\" {...formItemLayout}>\r\n                    <Form.Item name=\"score\" label=\"分值\" rules={[{required: true,message: '请输入分值'},]}>\r\n                        <InputNumber min={1} max={100}/>\r\n                    </Form.Item>\r\n                    <Form.Item name=\"question\" label=\"题干\"\r\n                               rules={[{required: true,message: '请输入题干'},]}>\r\n                        <Input.TextArea  rows={5}/>\r\n                    </Form.Item>\r\n                    <Form.Item name=\"answer\" label=\"正确答案\" rules={[{required: true,message: '请输入正确答案'},]}>\r\n                        <Radio.Group>\r\n                            <Radio value={'1'}>对</Radio>\r\n                            <Radio value={'0'}>错</Radio>\r\n                        </Radio.Group>\r\n                    </Form.Item>\r\n                    <Form.Item {...tailFormItemLayout}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">\r\n                            确定\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Button, Form, Input, InputNumber} from \"antd\";\r\nconst formItemLayout = {\r\n    labelCol: {span:2},\r\n    wrapperCol: {span:16},\r\n};\r\nconst tailFormItemLayout = {\r\n    wrapperCol: {offset:2},\r\n};\r\nexport default class BlankSubjectEditor extends React.Component{\r\n    onFinish=(values)=>{\r\n        if(this.props.onFinish !== undefined && this.props.onFinish!==null) {\r\n            this.props.onFinish({type: \"填空题\", ...values});\r\n        }\r\n    };\r\n    render() {\r\n        return (\r\n            <div >\r\n                <Form onFinish={this.onFinish} initialValues={this.props.dataSource} name=\"create-blank\" {...formItemLayout}>\r\n                    <Form.Item name=\"score\" label=\"分值\" rules={[{required: true,message: '请输入分值'},]}>\r\n                        <InputNumber min={1} max={100}/>\r\n                    </Form.Item>\r\n                    <Form.Item name=\"question\" label=\"题干\"\r\n                               rules={[{required: true,message: '请输入题干'},]}>\r\n                        <Input.TextArea  rows={5}/>\r\n                    </Form.Item>\r\n\r\n                    <Form.Item name=\"answer\" label=\"正确答案\" rules={[{required: true,message: '请输入正确答案'},]}>\r\n                        <Input.TextArea  rows={5}/>\r\n                    </Form.Item>\r\n                    <Form.Item wrapperCol={{offset:2}}>\r\n                        <span>每个空的答案用英文逗号分割</span>\r\n                    </Form.Item>\r\n                    <Form.Item {...tailFormItemLayout}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">\r\n                            确定\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Button, Form, Input, InputNumber} from \"antd\";\r\nconst formItemLayout = {\r\n    labelCol: {span:2},\r\n    wrapperCol: {span:16},\r\n};\r\nconst tailFormItemLayout = {\r\n    wrapperCol: {offset:2},\r\n};\r\nexport default class ShortSubjectEditor extends React.Component{\r\n    onFinish=(values)=>{\r\n        if(this.props.onFinish) {\r\n            let answer=values.answer;\r\n            if(!values.answer){answer=\"\";}\r\n            this.props.onFinish({type: \"简答题\", ...values,answer:answer});\r\n        }\r\n    };\r\n    render() {\r\n        return (\r\n            <div >\r\n                <Form onFinish={this.onFinish} initialValues={this.props.dataSource} name=\"create-short\" {...formItemLayout}>\r\n                    <Form.Item name=\"score\" label=\"分值\" rules={[{required: true,message: '请输入分值'},]}>\r\n                        <InputNumber min={1} max={100}/>\r\n                    </Form.Item>\r\n                    <Form.Item name=\"question\" label=\"题干\"\r\n                               rules={[{required: true,message: '请输入题干'},]}>\r\n                        <Input.TextArea  rows={5}/>\r\n                    </Form.Item>\r\n                    <Form.Item name=\"answer\" label=\"参考答案\">\r\n                        <Input.TextArea  rows={5}/>\r\n                    </Form.Item>\r\n                    <Form.Item {...tailFormItemLayout}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">\r\n                            确定\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Button, Form, Input, InputNumber} from \"antd\";\r\nconst formItemLayout = {\r\n    labelCol: {span:2},\r\n    wrapperCol: {span:16},\r\n};\r\nconst tailFormItemLayout = {\r\n    wrapperCol: {offset:2},\r\n};\r\nexport default class ProgramSubjectEditor extends React.Component{\r\n    onFinish=(values)=>{\r\n        if(this.props.onFinish !== undefined && this.props.onFinish!==null) {\r\n            this.props.onFinish({type: \"编程题\", ...values});\r\n        }\r\n    };\r\n    render() {\r\n        return (\r\n            <div >\r\n                <Form onFinish={this.onFinish} initialValues={this.props.dataSource} name=\"create-single\" {...formItemLayout}>\r\n                    <Form.Item name=\"score\" label=\"分值\" rules={[{required: true,message: '请输入分值'},]}>\r\n                        <InputNumber min={1} max={100}/>\r\n                    </Form.Item>\r\n                    <Form.Item name=\"question\" label=\"题干\"\r\n                               rules={[{required: true,message: '请输入题干'},]}>\r\n                        <Input.TextArea  rows={5}/>\r\n                    </Form.Item>\r\n                    <Form.Item name=\"answer\" label=\"正确答案\" rules={[{required: true,message: '请输入程序输出结果'},]}>\r\n                        <Input.TextArea  rows={1}/>\r\n                    </Form.Item>\r\n                    <Form.Item {...tailFormItemLayout}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">\r\n                            确定\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport SingleSubjectEditor from \"./single-subject-editor\";\r\nimport MultipleSubjectEditor from \"./multiple-subject-editor\";\r\nimport JudgementSubjectEditor from \"./judgement-subject-editor\";\r\nimport BlankSubjectEditor from \"./blank-subject-editor\";\r\nimport ShortSubjectEditor from \"./short-subject-editor\";\r\nimport ProgramSubjectEditor from \"./program-subject-editor\";\r\nexport default class SubjectEditor extends React.Component{\r\n    render() {\r\n        let {type,dataSource,onFinish} = this.props;\r\n        let component;\r\n        switch(type){\r\n            case '单选题':\r\n                component=<SingleSubjectEditor dataSource={dataSource} onFinish={onFinish}/>;\r\n                break;\r\n            case '多选题':\r\n                component=<MultipleSubjectEditor dataSource={dataSource} onFinish={onFinish}/>;\r\n                break;\r\n            case '判断题':\r\n                component=<JudgementSubjectEditor dataSource={dataSource} onFinish={onFinish}/>;\r\n                break;\r\n            case '填空题':\r\n                component=<BlankSubjectEditor dataSource={dataSource} onFinish={onFinish}/>;\r\n                break;\r\n            case '简答题':\r\n                component=<ShortSubjectEditor dataSource={dataSource} onFinish={onFinish}/>;\r\n                break;\r\n            case '编程题':\r\n                component=<ProgramSubjectEditor dataSource={dataSource} onFinish={onFinish}/>;\r\n                break;\r\n            default:\r\n                component=null;\r\n                break;\r\n        }\r\n        return component;\r\n    }\r\n}","import React from 'react';\r\nimport {Button, Layout, Menu, message, Popconfirm, Space} from \"antd\";\r\nimport {PlusOutlined,DeleteOutlined} from \"@ant-design/icons\";\r\nimport SubjectEditor from \"./subject-editor\";\r\nimport './editor.less';\r\nimport Request from \"../../api\"\r\nimport queryString from \"querystring\";\r\nconst {Sider,Content,Header}= Layout;\r\nexport default class Editor extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        let query = queryString.parse(props.location.search.slice(1));\r\n        if(query.homeworkLibId){\r\n            this.homeworkLibId=parseInt(query.homeworkLibId.toString());\r\n        }\r\n        if(query.examLibId){\r\n            this.examLibId=parseInt(query.examLibId.toString());\r\n        }\r\n        this.editingSujectId=0;\r\n        this.state={\r\n            subjects:[],\r\n            editingStatus:'create',\r\n            editingSubject:{type:''},\r\n        };\r\n    };\r\n    createSubjectEditor=(type)=>{\r\n        this.editingSujectId=0;\r\n        this.setState({editingSubject:{type:type},editingStatus:'create'});\r\n    };\r\n    onMenuItemClick=({item})=>{\r\n        this.editingSujectId=item.props.record.ID;\r\n        this.setState({editingSubject:item.props.record,editingStatus:'modify'});\r\n    };\r\n    loadSubjectData=async ()=>{\r\n        try {\r\n            if(this.homeworkLibId){//代表编辑作业库，否则是试题库\r\n                const result = await Request.getHomeworkLibItemsByLibId(this.homeworkLibId);\r\n                this.setState({subjects:result});\r\n            }else{\r\n                const result = await Request.getExamLibItemsByLibId(this.examLibId);\r\n                this.setState({subjects:result});\r\n            }\r\n\r\n        }catch (e) {\r\n            message.error(\"获取数据失败\");\r\n        }\r\n    };\r\n    componentDidMount() {\r\n        this.loadSubjectData();\r\n    }\r\n    createSubject=async (values)=>{\r\n        try{\r\n            if(this.homeworkLibId){\r\n                await Request.createHomeworkLibItem(values);\r\n            }else{\r\n                await Request.createExamLibItemAndOptions(values);\r\n            }\r\n            message.success(\"创建成功\");\r\n            this.loadSubjectData();\r\n        }catch (e) {\r\n            message.error(\"创建失败\");\r\n        }\r\n    };\r\n    modifySubject=async (values)=>{\r\n      try{\r\n          if(this.homeworkLibId){\r\n              await Request.updateHomeworkLibItemAndOptions(values);\r\n          }else{\r\n              await Request.updateExamLibItemAndOptions(values);\r\n          }\r\n          message.success(\"修改成功\");\r\n          this.loadSubjectData();\r\n      }catch (e) {\r\n          message.error(\"修改失败\");\r\n      }\r\n    };\r\n    deleteSubject=async (record)=>{\r\n      try{\r\n          if(this.homeworkLibId){\r\n              await Request.deleteHomeworkLibItemById(record.ID);\r\n          }else{\r\n              await Request.deleteExamLibItemById(record.ID);\r\n          }\r\n          this.createSubjectEditor('');\r\n          message.success(\"删除成功\");\r\n          this.loadSubjectData();\r\n      }catch (e) {\r\n          message.error(\"删除失败\");\r\n      }\r\n    };\r\n    onFinish=(values)=>{\r\n        if(this.state.editingStatus==='create'){\r\n            if(this.homeworkLibId){\r\n                this.createSubject({homeworkLibId:this.homeworkLibId,...values});\r\n            }else{\r\n                this.createSubject({examLibId:this.examLibId,...values});\r\n            }\r\n        }else if(this.state.editingStatus==='modify'){\r\n            if(this.homeworkLibId){\r\n                this.modifySubject({\r\n                    Id:this.editingSujectId,\r\n                    homeworkLibId:this.homeworkLibId,\r\n                    ...values\r\n                });\r\n            }else{\r\n                this.modifySubject({\r\n                    Id:this.editingSujectId,\r\n                    examLibId:this.examLibId,\r\n                    ...values\r\n                })\r\n            }\r\n        }\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <Layout className=\"editor\" >\r\n                <Header className=\"header\" style={{marginBottom:1}}>\r\n                    <div className=\"lib-name\">编辑器</div>\r\n                    <Space  className=\"create-button\">\r\n                        <Button type='primary' icon={<PlusOutlined/>}  onClick={()=>this.createSubjectEditor('单选题')}>单选题</Button>\r\n                        <Button type='primary' icon={<PlusOutlined />} onClick={()=>this.createSubjectEditor('判断题')}>判断题</Button>\r\n                        <Button type='primary' icon={<PlusOutlined />} onClick={()=>this.createSubjectEditor('多选题')}>多选题</Button>\r\n                        <Button type='primary' icon={<PlusOutlined />} onClick={()=>this.createSubjectEditor('填空题')}>填空题</Button>\r\n                        <Button type='primary' icon={<PlusOutlined />} onClick={()=>this.createSubjectEditor('简答题')}>简答题</Button>\r\n                        <Button type='primary' icon={<PlusOutlined />} onClick={()=>this.createSubjectEditor('编程题')}>编程题</Button>\r\n                    </Space>\r\n                </Header>\r\n                <Layout className=\"body\">\r\n                    <Sider className=\"sider\" theme=\"light\" breakpoint=\"lg\" collapsedWidth=\"0\" width=\"300\">\r\n                        <Menu theme=\"light\" mode=\"inline\" onClick={this.onMenuItemClick}>\r\n                            {this.state.subjects.map((item,index)=>{return (\r\n                                <Menu.Item key={item.ID} record={item} >\r\n                                    <Popconfirm title=\"确定删除题目\" onConfirm={() => this.deleteSubject(item)}>\r\n                                        <Button icon={<DeleteOutlined />} type='link'/>\r\n                                    </Popconfirm>\r\n                                    <span className=\"nav-text\">{index+1}.[{item.type}]({item.score}分){item.question}</span>\r\n                                </Menu.Item>\r\n                            )})}\r\n                        </Menu>\r\n                    </Sider>\r\n                    <Content className=\"content\">\r\n                        <div style={{padding:20}}>\r\n                            {this.state.editingStatus==='create'?\r\n                                <SubjectEditor type={this.state.editingSubject.type}\r\n                                               onFinish={this.onFinish}/>:null\r\n                            }\r\n                            {this.state.editingStatus==='modify'?\r\n                                <SubjectEditor type={this.state.editingSubject.type}\r\n                                               dataSource={this.state.editingSubject}\r\n                                               onFinish={this.onFinish}/>:null\r\n                            }\r\n                        </div>\r\n                    </Content>\r\n                </Layout>\r\n            </Layout>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {InputNumber, Radio} from \"antd\";\r\n\r\nexport default class SingleSubject extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.options=this.props.dataSource.options;\r\n        this.state={\r\n            value:props.record.answer,\r\n            inputValue:props.record.score,\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        let values={\r\n            record:this.props.record,\r\n            sequenceNumber:this.props.sequenceNumber,\r\n            dataSource:this.props.dataSource,\r\n        };\r\n        if(this.props.getValues) {\r\n            this.props.getValues(values);\r\n        }\r\n        if(this.props.getInputValue){\r\n            this.props.getInputValue(values);\r\n        }\r\n    }\r\n    onInputChange=(value)=>{\r\n        this.setState({inputValue:value});\r\n        let values={\r\n            record:{...this.props.record,score:value},\r\n            dataSource:this.props.dataSource,\r\n            sequenceNumber:this.props.sequenceNumber,\r\n        };\r\n        this.props.getInputValue(values);\r\n    };\r\n    onChange=(e)=>{\r\n        let value=e.target.value;\r\n        this.setState({value:value});\r\n        let values={\r\n            record:{...this.props.record,answer:value},\r\n            dataSource:this.props.dataSource,\r\n            sequenceNumber:this.props.sequenceNumber,\r\n        };\r\n        if(this.props.getValues) {\r\n            this.props.getValues(values);\r\n        }\r\n    };\r\n    render() {\r\n        const {sequenceNumber,dataSource}=this.props;\r\n        const radioStyle = {\r\n            lineHeight: '40px',\r\n            marginBottom:'10px',\r\n            width:\"100%\",\r\n            border:\"1px solid #eaeaea\",\r\n            borderRadius:4,\r\n            paddingLeft:10,\r\n            fontSize:16,\r\n            display:\"inline-block\",\r\n            verticalAlign:\"middle\",\r\n            wordBreak:\"break-all\",\r\n        };\r\n        return (\r\n            <div style={{paddingLeft:10,paddingRight:10}}>\r\n                <p style={{fontSize:16,marginBottom:5,wordBreak:\"break-all\"}}>\r\n                    <span style={{color:\"#36aafd\"}}>{sequenceNumber}.</span>\r\n                    <span style={{color:\"#36aafd\"}}>[单选题]</span>\r\n                    <span style={{color:\"#aeaeae\"}}>({dataSource.score}分)</span>\r\n                    <span style={{color:\"#333\"}}>{dataSource.question}</span>\r\n                </p>\r\n                <div style={{width:\"100%\"}}>\r\n                    <Radio.Group style={{width:\"100%\"}} onChange={this.onChange} value={this.state.value}>\r\n                        {\r\n                            this.options.map((item)=>{\r\n                                return (\r\n                                    <Radio key={item.sequence} style={radioStyle} value={item.sequence}>\r\n                                        <span>{item.sequence}.</span>\r\n                                        <span>{item.content}</span>\r\n                                    </Radio>\r\n                                )\r\n                            })\r\n                        }\r\n                    </Radio.Group>\r\n                </div>\r\n                <div style={{width:\"100%\",height:40}}>\r\n                    {this.props.answerVisible?<span style={{float:\"left\",color:\"black\",fontSize:15}}>正确答案:{this.props.dataSource.answer}</span>:null}\r\n                    {this.props.inputVisible?<span style={{float:\"right\",color:\"black\",fontSize:14}}>\r\n                        得分: <InputNumber onChange={this.onInputChange} value={this.state.inputValue}  min={0} max={this.props.dataSource.score}/>\r\n                    </span>:null}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Checkbox, InputNumber} from \"antd\";\r\nexport default class MultipleSubject extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.options=this.props.dataSource.options;\r\n        let answer = props.record.answer;\r\n        if(answer!==undefined&&answer!=null&&answer!==''){\r\n            answer = answer.split(',');//将1,2变为数组[1,2]\r\n        }\r\n        if (answer===\"\"){\r\n            answer=[]\r\n        }\r\n        this.state={\r\n            value:answer,\r\n            inputValue:props.record.score,\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        let values={\r\n            record:this.props.record,\r\n            sequenceNumber:this.props.sequenceNumber,\r\n            dataSource:this.props.dataSource,\r\n        };\r\n        if(this.props.getValues) {\r\n            this.props.getValues(values);\r\n        }\r\n        if(this.props.getInputValue){\r\n            this.props.getInputValue(values);\r\n        }\r\n    }\r\n    onChange=(value)=>{\r\n        this.setState({value:value});\r\n        let answer=value.toString();//将数值变为字符串\r\n        let values={\r\n            record:{...this.props.record,answer:answer},\r\n            dataSource:this.props.dataSource,\r\n            sequenceNumber:this.props.sequenceNumber,\r\n        };\r\n        if(this.props.getValues) {\r\n            this.props.getValues(values);\r\n        }\r\n    };\r\n    onInputChange=(value)=>{\r\n        this.setState({inputValue:value});\r\n        let values={\r\n            record:{...this.props.record,score:value},\r\n            dataSource:this.props.dataSource,\r\n            sequenceNumber:this.props.sequenceNumber,\r\n        };\r\n        this.props.getInputValue(values);\r\n    };\r\n    render() {\r\n        const {sequenceNumber,dataSource}=this.props;\r\n        const checkBoxStyle = {\r\n            lineHeight: '40px',\r\n            marginBottom:'10px',\r\n            width:\"100%\",\r\n            border:\"1px solid #eaeaea\",\r\n            borderRadius:4,\r\n            paddingLeft:10,\r\n            fontSize:16,\r\n            wordBreak:\"break-all\",\r\n        };\r\n        return (\r\n            <div style={{paddingLeft:10,paddingRight:10}}>\r\n                <p style={{fontSize:17,marginBottom:5,wordBreak:\"break-all\"}}>\r\n                    <span style={{color:\"#36aafd\"}}>{sequenceNumber}.</span>\r\n                    <span style={{color:\"#36aafd\"}}>[多选题]</span>\r\n                    <span style={{color:\"#aeaeae\"}}>({dataSource.score}分)</span>\r\n                    <span style={{color:\"#333\"}}>{dataSource.question}</span>\r\n                </p>\r\n                <div style={{width:\"100%\"}}>\r\n                    <Checkbox.Group style={{width:\"100%\"}} onChange={this.onChange} value={this.state.value}>\r\n                        {\r\n                            this.options.map((item)=>{\r\n                                return (\r\n                                    <React.Fragment key={item.sequence}>\r\n                                        <Checkbox  style={checkBoxStyle} value={item.sequence}>\r\n                                            <span>{item.sequence}.</span>\r\n                                            <span>{item.content}</span>\r\n                                        </Checkbox>\r\n                                        <br/>\r\n                                    </React.Fragment>\r\n\r\n                                )\r\n                            })\r\n                        }\r\n                    </Checkbox.Group>\r\n                </div>\r\n                <div style={{width:\"100%\",height:40}}>\r\n                    {this.props.answerVisible?<span style={{float:\"left\",color:\"black\",fontSize:15}}>正确答案:{this.props.dataSource.answer}</span>:null}\r\n                    {this.props.inputVisible?<span style={{float:\"right\",color:\"black\",fontSize:14}}>得分: <InputNumber onChange={this.onInputChange} value={this.state.inputValue}  min={0} max={this.props.dataSource.score}/></span>:null}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {InputNumber, Radio} from \"antd\";\r\nexport default class JudgementSubject extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={\r\n            value:props.record.answer,\r\n            inputValue:props.record.score,\r\n        }\r\n    }\r\n    onChange=(e)=>{\r\n        let value=e.target.value;\r\n        this.setState({value:value});\r\n        let values={\r\n            record:{...this.props.record,answer:value},\r\n            dataSource:this.props.dataSource,\r\n            sequenceNumber:this.props.sequenceNumber,\r\n        };\r\n        if(this.props.getValues) {\r\n            this.props.getValues(values);\r\n        }\r\n    };\r\n    onInputChange=(value)=>{\r\n        this.setState({inputValue:value});\r\n        let values={\r\n            record:{...this.props.record,score:value},\r\n            dataSource:this.props.dataSource,\r\n            sequenceNumber:this.props.sequenceNumber,\r\n        };\r\n        this.props.getInputValue(values);\r\n    };\r\n    componentDidMount() {\r\n        let values={\r\n            record:this.props.record,\r\n            sequenceNumber:this.props.sequenceNumber,\r\n            dataSource:this.props.dataSource,\r\n        };\r\n        if(this.props.getValues) {\r\n            this.props.getValues(values);\r\n        }\r\n        if(this.props.getInputValue){\r\n            this.props.getInputValue(values);\r\n        }\r\n    }\r\n    render() {\r\n        const {sequenceNumber,dataSource}=this.props;\r\n        const radioStyle = {\r\n            lineHeight: '40px',\r\n            marginBottom:'10px',\r\n            width:\"100%\",\r\n            border:\"1px solid #eaeaea\",\r\n            borderRadius:4,\r\n            paddingLeft:10,\r\n            fontSize:16,\r\n            display:\"inline-block\",\r\n            verticalAlign:\"middle\",\r\n            wordBreak:\"break-all\",\r\n        };\r\n        return (\r\n            <div style={{paddingLeft:10,paddingRight:10}}>\r\n                <p style={{fontSize:17,marginBottom:5,wordBreak:\"break-all\"}}>\r\n                    <span style={{color:\"#36aafd\"}}>{sequenceNumber}.</span>\r\n                    <span style={{color:\"#36aafd\"}}>[判断题]</span>\r\n                    <span style={{color:\"#aeaeae\"}}>({dataSource.score}分)</span>\r\n                    <span style={{color:\"#333\"}}>{dataSource.question}</span>\r\n                </p>\r\n                <div style={{width:\"100%\"}}>\r\n                    <Radio.Group style={{width:\"100%\"}} onChange={this.onChange} value={this.state.value}>\r\n                        <Radio  style={radioStyle} value={'1'}>\r\n                            <span>对</span>\r\n                        </Radio>\r\n                        <Radio  style={radioStyle} value={'0'}>\r\n                            <span>错</span>\r\n                        </Radio>\r\n                    </Radio.Group>\r\n                </div>\r\n                <div style={{width:\"100%\",height:40}}>\r\n                    {this.props.answerVisible?<span style={{float:\"left\",color:\"black\",fontSize:15}}>正确答案:{this.props.dataSource.answer}</span>:null}\r\n                    {this.props.inputVisible?<span style={{float:\"right\",color:\"black\",fontSize:14}}>得分: <InputNumber onChange={this.onInputChange} value={this.state.inputValue}  min={0} max={this.props.dataSource.score}/></span>:null}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Input, InputNumber} from \"antd\";\r\n\r\nexport default class BlankSubject extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={\r\n            value:props.record.answer,\r\n            inputValue:props.record.score,\r\n        }\r\n    }\r\n    onChange=(e)=>{\r\n        let value=e.target.value;\r\n        this.setState({value:value});\r\n        let values={\r\n            record:{...this.props.record,answer:value},\r\n            dataSource:this.props.dataSource,\r\n            sequenceNumber:this.props.sequenceNumber,\r\n        };\r\n        if(this.props.getValues) {\r\n            this.props.getValues(values);\r\n        }\r\n    };\r\n    onInputChange=(value)=>{\r\n        this.setState({inputValue:value});\r\n        let values={\r\n            record:{...this.props.record,score:value},\r\n            dataSource:this.props.dataSource,\r\n            sequenceNumber:this.props.sequenceNumber,\r\n        };\r\n        this.props.getInputValue(values);\r\n    };\r\n    componentDidMount() {\r\n        let values={\r\n            record:this.props.record,\r\n            sequenceNumber:this.props.sequenceNumber,\r\n            dataSource:this.props.dataSource,\r\n        };\r\n        if(this.props.getValues) {\r\n            this.props.getValues(values);\r\n        }\r\n        if(this.props.getInputValue){\r\n            this.props.getInputValue(values);\r\n        }\r\n    }\r\n    render() {\r\n        const {sequenceNumber,dataSource}=this.props;\r\n        return (\r\n            <div style={{paddingLeft:10,paddingRight:10}}>\r\n                <p style={{fontSize:17,marginBottom:5,wordBreak:\"break-all\"}}>\r\n                    <span style={{color:\"#36aafd\"}}>{sequenceNumber}.</span>\r\n                    <span style={{color:\"#36aafd\"}}>[填空题]</span>\r\n                    <span style={{color:\"#aeaeae\"}}>({dataSource.score}分)</span>\r\n                    <span style={{color:\"#333\"}}>{dataSource.question}</span>\r\n                </p>\r\n                <div style={{width:\"100%\"}}>\r\n                    <Input.TextArea rows={2} value={this.state.value} onChange={this.onChange}/>\r\n                    <p>每个空的答案用英文逗号分隔</p>\r\n                </div>\r\n                <div style={{width:\"100%\",height:40}}>\r\n                    {this.props.answerVisible?<span style={{float:\"left\",color:\"black\",fontSize:15}}>正确答案:{this.props.dataSource.answer}</span>:null}\r\n                    {this.props.inputVisible?<span style={{float:\"right\",color:\"black\",fontSize:14}}>得分: <InputNumber onChange={this.onInputChange} value={this.state.inputValue}  min={0} max={this.props.dataSource.score}/></span>:null}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Input, InputNumber} from \"antd\";\r\nexport default class ShortSubject extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={\r\n            value:props.record.answer,\r\n            inputValue:props.record.score,\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        let values={\r\n            record:this.props.record,\r\n            sequenceNumber:this.props.sequenceNumber,\r\n            dataSource:this.props.dataSource,\r\n        };\r\n        if(this.props.getValues) {\r\n            this.props.getValues(values);\r\n        }\r\n        if(this.props.getInputValue){\r\n            this.props.getInputValue(values);\r\n        }\r\n    }\r\n    onChange=(e)=>{\r\n        let value=e.target.value;\r\n        this.setState({value:value});\r\n        let values={\r\n            record:{...this.props.record,answer:value},\r\n            dataSource:this.props.dataSource,\r\n            sequenceNumber:this.props.sequenceNumber,\r\n        };\r\n        if(this.props.getValues) {\r\n            this.props.getValues(values);\r\n        }\r\n    };\r\n    onInputChange=(value)=>{\r\n        this.setState({inputValue:value});\r\n        let values={\r\n            record:{...this.props.record,score:value},\r\n            dataSource:this.props.dataSource,\r\n            sequenceNumber:this.props.sequenceNumber,\r\n        };\r\n        this.props.getInputValue(values);\r\n    };\r\n    render() {\r\n        const {sequenceNumber,dataSource}=this.props;\r\n        return (\r\n            <div style={{paddingLeft:10,paddingRight:10}}>\r\n                <p style={{fontSize:17,marginBottom:5,wordBreak:\"break-all\"}}>\r\n                    <span style={{color:\"#36aafd\"}}>{sequenceNumber}.</span>\r\n                    <span style={{color:\"#36aafd\"}}>[简答题]</span>\r\n                    <span style={{color:\"#aeaeae\"}}>({dataSource.score}分)</span>\r\n                    <span style={{color:\"#333\"}}>{dataSource.question}</span>\r\n                </p>\r\n                <div style={{width:\"100%\",marginBottom:10}}>\r\n                    <Input.TextArea rows={8} value={this.state.value} onChange={this.onChange}/>\r\n                </div>\r\n                <div style={{width:\"100%\",height:40}}>\r\n                    {this.props.answerVisible?<span style={{float:\"left\",color:\"black\",fontSize:15}}>正确答案:{this.props.dataSource.answer}</span>:null}\r\n                    {this.props.inputVisible?<span style={{float:\"right\",color:\"black\",fontSize:14}}>得分: <InputNumber onChange={this.onInputChange} value={this.state.inputValue}  min={0} max={this.props.dataSource.score}/></span>:null}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Input, Button, Select, Space, message, InputNumber} from \"antd\";\r\nimport Request from \"../../api\"\r\nexport default class ProgramSubject extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.language=\"go\";\r\n        this.state={\r\n            value:props.record.answer,\r\n            inputValue:props.record.score,\r\n            output:\"\",\r\n            exampleVisible:false\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        let values={\r\n            record:this.props.record,\r\n            sequenceNumber:this.props.sequenceNumber,\r\n            dataSource:this.props.dataSource,\r\n        };\r\n        if(this.props.getValues) {\r\n            this.props.getValues(values);\r\n        }\r\n        if(this.props.getInputValue){\r\n            this.props.getInputValue(values);\r\n        }\r\n    }\r\n    onInputChange=(value)=>{\r\n        this.setState({inputValue:value});\r\n        let values={\r\n            record:{...this.props.record,score:value},\r\n            dataSource:this.props.dataSource,\r\n            sequenceNumber:this.props.sequenceNumber,\r\n        };\r\n        this.props.getInputValue(values);\r\n    };\r\n    showExample=()=>{\r\n        let visible = !this.state.exampleVisible;\r\n        this.setState({exampleVisible:visible})\r\n    };\r\n    onChange=(e)=>{\r\n        let value = e.target.value;\r\n        this.setState({value:value});\r\n        let values={\r\n            record:{...this.props.record,answer:value},\r\n            dataSource:this.props.dataSource,\r\n            sequenceNumber:this.props.sequenceNumber,\r\n        };\r\n        if(this.props.getValues) {\r\n            this.props.getValues(values);\r\n        }\r\n    };\r\n\r\n    onSelectChange=(value)=>{\r\n      this.language=value;\r\n    };\r\n    executeProgram=async ()=>{\r\n        try{\r\n            const result=await Request.executeProgram({\r\n                language:this.language,\r\n                input:this.state.value\r\n            });\r\n            this.setState({output:result});\r\n        }catch (e) {\r\n            message.error(\"服务器错误,运行失败\");\r\n        }\r\n    };\r\n    render() {\r\n        const {sequenceNumber,dataSource}=this.props;\r\n        return (\r\n            <div style={{paddingLeft:10,paddingRight:10}}>\r\n                <p style={{fontSize:17,marginBottom:5,wordBreak:\"break-all\"}}>\r\n                    <span style={{color:\"#36aafd\"}}>{sequenceNumber}.</span>\r\n                    <span style={{color:\"#36aafd\"}}>[编程题]</span>\r\n                    <span style={{color:\"#aeaeae\"}}>({dataSource.score}分)</span>\r\n                    <span style={{color:\"#333\"}}>{dataSource.question}</span>\r\n                </p>\r\n                <div style={{width:\"100%\"}}>\r\n                    <Input.TextArea rows={8} value={this.state.value} onChange={this.onChange}/>\r\n                </div>\r\n                <div style={{marginTop:10}}>\r\n                    <Space>\r\n                        <Select onChange={this.onSelectChange} style={{ width: 120 }} defaultValue=\"go\">\r\n                            <Select.Option value={\"go\"}>Go</Select.Option>\r\n                            <Select.Option value={\"javascript\"}>JavaScript</Select.Option>\r\n                        </Select>\r\n                        <Button onClick={this.executeProgram}>运行</Button>\r\n                        <Button onClick={this.showExample}>代码示例</Button>\r\n                    </Space>\r\n                    {this.state.exampleVisible?<div>\r\n                        <span>Go:</span><br/>\r\n                        <div dangerouslySetInnerHTML={{__html:\r\n                                `package main<br/>\r\n                                 import \"fmt\"<br/>\r\n                                 func main() {<br/>\r\n                                    &nbsp;&nbsp;fmt.Println(\"Hello, 世界\")<br/>\r\n                                 }`\r\n                        }}/>\r\n                        <span>JavaScript：console.log(\"hello world\");</span>\r\n                    </div>:null}\r\n                    <p style={{color:\"black\"}}>{this.state.output}</p>\r\n                </div>\r\n                <div style={{width:\"100%\",height:40}}>\r\n                    {this.props.answerVisible?<span style={{float:\"left\",color:\"black\",fontSize:15}}>正确答案:{this.props.dataSource.answer}</span>:null}\r\n                    {this.props.inputVisible?<span style={{float:\"right\",color:\"black\",fontSize:14}}>得分: <InputNumber onChange={this.onInputChange} value={this.state.inputValue}  min={0} max={this.props.dataSource.score}/></span>:null}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport SingleSubject from \"./single-subject\";\r\nimport MultipleSubject from \"./multiple-subject\";\r\nimport JudgementSubject from \"./judgement-subject\";\r\nimport BlankSubject from \"./blank-subject\";\r\nimport ShortSubject from \"./short-subject\";\r\nimport ProgramSubject from \"./program-subject\";\r\nexport default class Subject extends React.Component{\r\n    render() {\r\n        let {type,inputVisible,getInputValue,answerVisible,dataSource,getValues,sequenceNumber,record} = this.props;\r\n        let component;\r\n        switch(type){\r\n            case '单选题':\r\n                component=<SingleSubject getInputValue={getInputValue} inputVisible={inputVisible} answerVisible={answerVisible} record={record} sequenceNumber={sequenceNumber}  dataSource={dataSource} getValues={getValues}/>;\r\n                break;\r\n            case '多选题':\r\n                component=<MultipleSubject getInputValue={getInputValue} inputVisible={inputVisible} answerVisible={answerVisible}  record={record} sequenceNumber={sequenceNumber} dataSource={dataSource} getValues={getValues}/>;\r\n                break;\r\n            case '判断题':\r\n                component=<JudgementSubject getInputValue={getInputValue} inputVisible={inputVisible} answerVisible={answerVisible}   record={record} sequenceNumber={sequenceNumber} dataSource={dataSource} getValues={getValues}/>;\r\n                break;\r\n            case '填空题':\r\n                component=<BlankSubject getInputValue={getInputValue} inputVisible={inputVisible} answerVisible={answerVisible} record={record} sequenceNumber={sequenceNumber} dataSource={dataSource} getValues={getValues}/>;\r\n                break;\r\n            case '简答题':\r\n                component=<ShortSubject getInputValue={getInputValue} inputVisible={inputVisible} answerVisible={answerVisible}  record={record} sequenceNumber={sequenceNumber} dataSource={dataSource} getValues={getValues}/>;\r\n                break;\r\n            case '编程题':\r\n                component=<ProgramSubject getInputValue={getInputValue} inputVisible={inputVisible} answerVisible={answerVisible}  record={record} sequenceNumber={sequenceNumber} dataSource={dataSource} getValues={getValues}/>;\r\n                break;\r\n            default:\r\n                component=null;\r\n                break;\r\n        }\r\n        return component;\r\n    }\r\n}","import React from \"react\";\r\nimport queryString from \"querystring\";\r\nimport {Card, message,Button} from \"antd\";\r\nimport Request from \"../../api\";\r\nimport Subject from \"../../components/subject/subject\";\r\nexport default class DoHomework extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        let query=queryString.parse(props.location.search.slice(1));\r\n        this.homeworkPublishId = parseInt(query.homeworkPublishId.toString());\r\n        this.homeworkLibId=parseInt(query.homeworkLibId.toString());\r\n        this.submitData={//要提交的数据\r\n            homeworkPublishId:this.homeworkPublishId,\r\n            submitItems:[],\r\n        };\r\n        this.state={\r\n            homeworkLibData:{name:\"\",items:[]},\r\n            homeworkUserSubmit:{submitItems:[]},\r\n        }\r\n    }\r\n    loadHomeworkLib=async ()=>{\r\n        try {\r\n            await this.loadHomeworkUserSubmit();\r\n            const result=await Request.getHomeworkLibWithItemsById(this.homeworkLibId);\r\n            this.submitData.submitItems=new Array(result.items.length).fill({});\r\n            this.setState({homeworkLibData:result});\r\n        }catch (e) {\r\n            message.error(\"获取题目失败\");\r\n        }\r\n    };\r\n    getValues=(value)=>{\r\n        this.submitData.submitItems[value.sequenceNumber-1]={\r\n            id:value.record.ID,\r\n            homeworkLibItemId:value.dataSource.ID,\r\n            answer:value.record.answer,\r\n        };\r\n    };\r\n    loadHomeworkUserSubmit=async ()=>{\r\n      try{\r\n          const result=await Request.getHomeworkUserSubmitWithItems(this.homeworkPublishId);\r\n          this.submitData.id=result.ID;\r\n          this.setState({homeworkUserSubmit:result});\r\n      }catch (e) {\r\n          console.log(e);\r\n      }\r\n    };\r\n    submitHomework=async ()=>{\r\n      try{\r\n          await Request.submitHomeworkWithItems(this.submitData);\r\n          message.success(\"提交成功\");\r\n      }  catch (e) {\r\n          message.error(\"提交失败\");\r\n      }\r\n    };\r\n    componentDidMount() {\r\n        this.loadHomeworkLib();\r\n    }\r\n    render() {\r\n        return (\r\n            <Card title={this.state.homeworkLibData.name}  extra={<Button onClick={this.submitHomework}>提交</Button>}>\r\n                <div style={{width:\"70%\",marginLeft:\"auto\",marginRight:\"auto\"}}>\r\n                    {\r\n                        this.state.homeworkLibData.items.map((item,index)=>{\r\n                            let record={answer:\"\"};\r\n                            this.state.homeworkUserSubmit.submitItems.forEach((submitItem)=>{\r\n                               if(submitItem.homeworkLibItemId===item.ID){\r\n                                   record=submitItem;\r\n                               }\r\n                            });\r\n                          return (\r\n                              <Subject key={item.ID} record={record} sequenceNumber={index+1}\r\n                                       type={item.type} dataSource={item} getValues={this.getValues}/>\r\n                          )\r\n                        })\r\n                    }\r\n                </div>\r\n            </Card>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport queryString from \"querystring\";\r\nimport {Button, Card, message} from \"antd\";\r\nimport Request from \"../../api\";\r\nimport Subject from \"../../components/subject/subject\";\r\n\r\nexport default class MarkHomework extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        let query=queryString.parse(props.location.search.slice(1));\r\n        this.homeworkSubmitId=parseInt(query.homeworkSubmitId.toString());\r\n        this.homeworkPublish={};\r\n        this.submitData={//要提交的数据\r\n            id:this.homeworkSubmitId,\r\n            submitItems:[],\r\n        };\r\n        this.state={\r\n            homeworkLibData:{name:\"\",items:[]},\r\n            homeworkUserSubmit:{submitItems:[]},\r\n        }\r\n    }\r\n    loadHomeworkLib=async ()=>{\r\n        try {\r\n            await this.loadHomeworkUserSubmit();\r\n            const result=await Request.getHomeworkLibWithItemsById(this.homeworkPublish.homeworkLibId,\"true\");\r\n            this.submitData.submitItems=new Array(result.items.length).fill({});\r\n            this.setState({homeworkLibData:result});\r\n        }catch (e) {\r\n            message.error(\"获取题目失败\");\r\n        }\r\n    };\r\n    loadHomeworkUserSubmit=async ()=>{\r\n        try{\r\n            let homeworkSubmit=await Request.getHomeworkSubmitById(this.homeworkSubmitId);\r\n            this.homeworkPublish=await Request.getHomeworkPublishById(homeworkSubmit.homeworkPublishId);\r\n            const result=await Request.getHomeworkUserSubmitWithItems(homeworkSubmit.homeworkPublishId,homeworkSubmit.userId);\r\n            this.submitData.id=result.ID;\r\n            this.setState({homeworkUserSubmit:result});\r\n        }catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n    submitHomeworkMark=async ()=>{\r\n        try{\r\n            await Request.updateHomeworkSubmitItemsScore(this.submitData);\r\n            message.success(\"操作成功\");\r\n        }  catch (e) {\r\n            message.error(\"操作失败\");\r\n        }\r\n    };\r\n    getInputValue=(value)=>{\r\n        this.submitData.submitItems[value.sequenceNumber-1]={\r\n            id:value.record.ID,\r\n            homeworkLibItemId:value.dataSource.ID,\r\n            score:value.record.score,\r\n        };\r\n    };\r\n    componentDidMount() {\r\n        this.loadHomeworkLib();\r\n    }\r\n    render() {\r\n        return (\r\n            <Card title={this.state.homeworkLibData.name}  extra={<Button onClick={this.submitHomeworkMark}>提交</Button>}>\r\n                <div style={{width:\"70%\",marginLeft:\"auto\",marginRight:\"auto\"}}>\r\n                    {\r\n                        this.state.homeworkLibData.items.map((item,index)=>{\r\n                            let record={answer:\"\"};\r\n                            this.state.homeworkUserSubmit.submitItems.forEach((submitItem)=>{\r\n                                if(submitItem.homeworkLibItemId===item.ID){\r\n                                    record=submitItem;\r\n                                }\r\n                            });\r\n                            return (\r\n                                <Subject key={item.ID} record={record} sequenceNumber={index+1} inputVisible={true} answerVisible={true}\r\n                                         type={item.type} dataSource={item} getInputValue={this.getInputValue}/>\r\n                            )\r\n                        })\r\n                    }\r\n                </div>\r\n            </Card>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport queryString from \"querystring\";\r\nimport {Card, message} from \"antd\";\r\nimport Request from \"../../api\";\r\nimport Subject from \"../../components/subject/subject\";\r\nexport default class ViewHomework extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        let query=queryString.parse(props.location.search.slice(1));\r\n        this.homeworkPublishId = parseInt(query.homeworkPublishId.toString());\r\n        this.homeworkLibId=parseInt(query.homeworkLibId.toString());\r\n        this.state={\r\n            homeworkLibData:{name:\"\",items:[]},\r\n            homeworkUserSubmit:{submitItems:[]},\r\n        }\r\n    }\r\n    loadHomeworkLib=async ()=>{\r\n        try {\r\n            await this.loadHomeworkUserSubmit();\r\n            const result=await Request.getHomeworkLibWithItemsById(this.homeworkLibId,\"true\");\r\n            this.setState({homeworkLibData:result});\r\n        }catch (e) {\r\n            message.error(\"获取题目失败\");\r\n        }\r\n    };\r\n    loadHomeworkUserSubmit=async ()=>{\r\n        try{\r\n            const result=await Request.getHomeworkUserSubmitWithItems(this.homeworkPublishId);\r\n            this.setState({homeworkUserSubmit:result});\r\n        }catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n    componentDidMount() {\r\n        this.loadHomeworkLib();\r\n    }\r\n    render() {\r\n        return (\r\n            <Card title={this.state.homeworkLibData.name} >\r\n                <div style={{width:\"70%\",marginLeft:\"auto\",marginRight:\"auto\"}}>\r\n                    {\r\n                        this.state.homeworkLibData.items.map((item,index)=>{\r\n                            let record={answer:\"\"};\r\n                            this.state.homeworkUserSubmit.submitItems.forEach((submitItem)=>{\r\n                                if(submitItem.homeworkLibItemId===item.ID){\r\n                                    record=submitItem;\r\n                                }\r\n                            });\r\n                            return (\r\n                                <Subject key={item.ID} record={record} sequenceNumber={index+1}\r\n                                     answerVisible={true}  type={item.type} dataSource={item} getValues={this.getValues}/>\r\n                            )\r\n                        })\r\n                    }\r\n                </div>\r\n            </Card>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport queryString from \"querystring\";\r\nimport {Card, message, Button, Layout, Menu, Space, Popconfirm} from \"antd\";\r\nimport Request from \"../../api\";\r\nimport Subject from \"../../components/subject/subject\";\r\nimport moment from \"moment\";\r\nimport Timer from \"../../components/Timer\";\r\nconst {Sider,Content}= Layout;\r\nexport default class DoExam extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        let query=queryString.parse(props.location.search.slice(1));\r\n        this.examPublishId = parseInt(query.examPublishId.toString());\r\n        this.examLibId=parseInt(query.examLibId.toString());\r\n        this.submitData={//要提交的数据\r\n            examPublishId:this.examPublishId,\r\n            submitItems:[],\r\n        };\r\n        this.state={\r\n            selectedSequence:0,//选择的题号\r\n            examLibData:{name:\"\",items:[]},\r\n            examUserSubmit:{submitItems:[]},\r\n            allowExam:false,//是否允许考试\r\n            countDown:0,//倒计时多少秒，计时器\r\n        }\r\n    }\r\n    loadExamLib=async ()=>{\r\n        try {\r\n            await this.loadExamUserSubmit();\r\n            const result=await Request.getExamLibWithItemsById(this.examLibId);\r\n            this.submitData.submitItems=new Array(result.items.length).fill({});\r\n            this.setState({examLibData:result});\r\n        }catch (e) {\r\n            message.error(\"获取题目失败\");\r\n        }\r\n    };\r\n    getValues=(value)=>{\r\n        this.submitData.submitItems[value.sequenceNumber-1]={\r\n            id:value.record.ID,\r\n            examLibItemId:value.dataSource.ID,\r\n            answer:value.record.answer,\r\n        };\r\n    };\r\n    loadExamUserSubmit=async ()=>{\r\n        try{\r\n            const result=await Request.getExamUserSubmitWithItems(this.examPublishId);\r\n            this.submitData.id=result.ID;\r\n            this.setState({examUserSubmit:result});\r\n        }catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n    submitExam=async ()=>{//提交所有题\r\n        try{\r\n            await Request.submitExamItem(this.submitData);\r\n            await Request.finishExam({id:this.userSubmitRecord.ID});//修改考试结束时间\r\n            message.success(\"提交成功\");\r\n        }  catch (e) {\r\n            message.error(\"提交失败,考试结束\");\r\n        }\r\n    };\r\n    startExam=async ()=>{\r\n      try{\r\n          this.examPublish= await Request.getExamPublishById(this.examPublishId);\r\n          let now =moment();\r\n          let beginTime=moment(this.examPublish.beginTime);\r\n          let endTime=moment(this.examPublish.endTime);\r\n          if(now.isBefore(beginTime)||now.isAfter(endTime)){\r\n              message.error(\"未在考试时间范围内\");\r\n              return\r\n          }\r\n          this.userSubmitRecord = await Request.startExam({examPublishId:this.examPublishId});\r\n          let startTime=moment(this.userSubmitRecord.startTime);\r\n          let stopTime=startTime.add(this.examPublish.duration,'minutes');\r\n          if(this.userSubmitRecord.finishTime||\r\n              stopTime.isBefore(now)){\r\n              message.error(\"考试已结束\");\r\n              return\r\n          }\r\n          if(stopTime.isAfter(endTime)){\r\n              stopTime=endTime\r\n          }\r\n          let countDown=stopTime.diff(now,'seconds');\r\n\r\n          this.setState({allowExam:true,countDown:countDown});\r\n      }catch (e) {\r\n          console.log(e)\r\n      }\r\n    };\r\n    submitExamItem=async (sequence)=>{//仅提交一道题\r\n        try{\r\n            let values={\r\n                id:this.submitData.id,\r\n                examPublishId:this.examPublishId,\r\n                submitItems:[this.submitData.submitItems[sequence-1]],\r\n            };\r\n            await Request.submitExamItem(values);\r\n            this.loadExamUserSubmit();\r\n            message.success(\"已保存\");\r\n        }  catch (e) {\r\n            message.error(\"保存失败\");\r\n        }\r\n    };\r\n    onMenuItemClick=({item})=>{\r\n        this.setState({selectedSequence:item.props.sequence});\r\n    };\r\n    componentDidMount() {\r\n        this.startExam();\r\n        this.loadExamLib();\r\n    }\r\n    render() {\r\n        if (!this.state.allowExam) return null;\r\n        const cardExtra=(\r\n            <Space size=\"large\">\r\n                <Timer style={{fontSize:30}} seconds={this.state.countDown}/>\r\n                <Popconfirm placement=\"bottomRight\" title=\"确定提交?提交后不可再进入\" onConfirm={()=>this.submitExam()}>\r\n                    <Button type=\"primary\">提交</Button>\r\n                </Popconfirm>\r\n            </Space>\r\n        );\r\n        return (\r\n            <Card bodyStyle={{padding:0,height:\"100%\"}} style={{height:\"100%\"}} title={this.state.examLibData.name}  extra={cardExtra}>\r\n                <Layout style={{backgroundColor:\"white\",height:\"100%\"}}>\r\n                    <Sider  className=\"sider\" theme=\"light\" breakpoint=\"lg\" collapsedWidth=\"0\" width=\"250\">\r\n                        <Menu style={{height:\"100%\",}} theme=\"light\"  onClick={this.onMenuItemClick}>\r\n                            {this.state.examLibData.items.map((item,index)=>{\r\n                                let isSave=false;\r\n                                this.state.examUserSubmit.submitItems.forEach((submitItem)=>{\r\n                                    if(submitItem.examLibItemId===item.ID){\r\n                                        isSave=true;\r\n                                    }\r\n                                });\r\n                                return (\r\n                                <Menu.Item key={item.ID} record={item} sequence={index+1}>\r\n                                    <span>{index+1}.</span>\r\n                                    <span>{item.type}</span>\r\n                                    <span>({item.score}分)</span>\r\n                                    <span style={{color:\"green\"}}>{isSave?\"[已保存]\":null}</span>\r\n                                </Menu.Item>\r\n                            )})}\r\n                        </Menu>\r\n                    </Sider>\r\n                    <Content style={{height:\"100%\",padding:30}}>\r\n                        <div style={{marginLeft:\"auto\",marginRight:\"auto\"}}>\r\n                            {(()=> {\r\n                                let sequence =this.state.selectedSequence;\r\n                                if (sequence===0) return null;\r\n                                let item = this.state.examLibData.items[sequence-1];\r\n                                let record={answer:\"\"};\r\n                                this.state.examUserSubmit.submitItems.forEach((submitItem)=>{\r\n                                    if(submitItem.examLibItemId===item.ID){\r\n                                        record=submitItem;\r\n                                    }\r\n                                });\r\n                                return (\r\n                                    <React.Fragment>\r\n                                        <Subject key={item.ID} record={record} sequenceNumber={sequence}\r\n                                                 type={item.type} dataSource={item} getValues={this.getValues}/>\r\n                                        <div style={{padding:10}}>\r\n                                            <Button type=\"primary\" onClick={()=>{this.submitExamItem(sequence)}}>保存</Button>\r\n                                        </div>\r\n                                    </React.Fragment>\r\n                                )\r\n                            })()}\r\n                        </div>\r\n                    </Content>\r\n                </Layout>\r\n            </Card>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport queryString from \"querystring\";\r\nimport {Button, Card, message} from \"antd\";\r\nimport Request from \"../../api\";\r\nimport Subject from \"../../components/subject/subject\";\r\n\r\nexport default class MarkExam extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        let query=queryString.parse(props.location.search.slice(1));\r\n        this.examSubmitId=parseInt(query.examSubmitId.toString());\r\n        this.examPublish={};\r\n        this.submitData={//要提交的数据\r\n            id:this.examSubmitId,\r\n            submitItems:[],\r\n        };\r\n        this.state={\r\n            examLibData:{name:\"\",items:[]},\r\n            examUserSubmit:{submitItems:[]},\r\n        }\r\n    }\r\n    loadExamLib=async ()=>{\r\n        try {\r\n            await this.loadExamUserSubmit();\r\n            const result=await Request.getExamLibWithItemsById(this.examPublish.examLibId,\"true\");\r\n            this.submitData.submitItems=new Array(result.items.length).fill({});\r\n            this.setState({examLibData:result});\r\n        }catch (e) {\r\n            message.error(\"获取题目失败\");\r\n        }\r\n    };\r\n    loadExamUserSubmit=async ()=>{\r\n        try{\r\n            let examSubmit=await Request.getExamSubmitById(this.examSubmitId);\r\n            this.examPublish=await Request.getExamPublishById(examSubmit.examPublishId);\r\n            const result=await Request.getExamUserSubmitWithItems(examSubmit.examPublishId,examSubmit.userId);\r\n            this.submitData.id=result.ID;\r\n            this.setState({examUserSubmit:result});\r\n        }catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n    submitExamMark=async ()=>{//提交批阅结果\r\n        try{\r\n            await Request.updateExamSubmitItemsScore(this.submitData);\r\n            message.success(\"操作成功\");\r\n        }  catch (e) {\r\n            message.error(\"操作失败\");\r\n        }\r\n    };\r\n    getInputValue=(value)=>{\r\n        this.submitData.submitItems[value.sequenceNumber-1]={\r\n            id:value.record.ID,\r\n            examLibItemId:value.dataSource.ID,\r\n            score:value.record.score,\r\n        };\r\n    };\r\n    componentDidMount() {\r\n        this.loadExamLib();\r\n    }\r\n    render() {\r\n        return (\r\n            <Card title={this.state.examLibData.name}  extra={<Button onClick={this.submitExamMark}>提交</Button>}>\r\n                <div style={{width:\"70%\",marginLeft:\"auto\",marginRight:\"auto\"}}>\r\n                    {\r\n                        this.state.examLibData.items.map((item,index)=>{\r\n                            let record={answer:\"\"};\r\n                            this.state.examUserSubmit.submitItems.forEach((submitItem)=>{\r\n                                if(submitItem.examLibItemId===item.ID){\r\n                                    record=submitItem;\r\n                                }\r\n                            });\r\n                            return (\r\n                                <Subject key={item.ID} record={record} sequenceNumber={index+1} inputVisible={true} answerVisible={true}\r\n                                         type={item.type} dataSource={item} getInputValue={this.getInputValue}/>\r\n                            )\r\n                        })\r\n                    }\r\n                </div>\r\n            </Card>\r\n        )\r\n    }\r\n}","import React from 'react';\nimport {HashRouter} from \"react-router-dom\";\nimport {Route,Switch,Redirect} from \"react-router\"\nimport Login from './pages/login-register/login';\nimport Register from \"./pages/login-register/register\";\nimport User from \"./pages/user/user\";\nimport StudentCourse from \"./pages/student-course/student-course\";\nimport TeacherCourse from \"./pages/teacher-course/teacher-course\";\nimport {connect} from 'react-redux';\nimport {getUser} from \"./store/actions\";\nimport Editor from \"./pages/editor/editor\";\nimport DoHomework from \"./pages/homework/doHomework\";\nimport MarkHomework from \"./pages/homework/markHomework\";\nimport ViewHomework from \"./pages/homework/viewHomework\";\nimport DoExam from \"./pages/exam/doExam\";\nimport MarkExam from \"./pages/exam/markExam\";\n\n\nclass App extends React.Component{\n    componentDidMount(){\n        let token = window.localStorage.getItem(\"token\");\n        if(token){\n            this.props.getUser();\n        }\n    }\n    render() {\n        return (\n            <div className=\"App\" style={{width:\"100%\",height:\"100%\"}}>\n                <HashRouter>\n                    <Switch>\n                        <Redirect from='/' exact to='/login'/>\n                        <Route path='/login' component={Login}/>\n                        <Route path='/register' component={Register}/>\n                        <Route path='/user' component={User}/>\n                        <Route path='/student-course' component={StudentCourse}/>\n                        <Route path='/teacher-course/:id' component={TeacherCourse}/>\n                        <Route path=\"/editor\" component={Editor}/>\n                        <Route path=\"/doHomework\" component={DoHomework}/>\n                        <Route path=\"/markHomework\" component={MarkHomework}/>\n                        <Route path=\"/viewHomework\" component={ViewHomework}/>\n                        <Route path=\"/doExam\" component={DoExam}/>\n                        <Route path=\"/markExam\" component={MarkExam}/>\n                        {/*<Route path='/account'  render={(props)=>{*/}\n                        {/*  return <Account user={this.state.user} {...props}/>*/}\n                        {/*}}/>*/}\n                    </Switch>\n                </HashRouter>\n            </div>\n        );\n    }\n}\nexport default connect(()=>({}),{getUser})(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport store from \"./store\";\nimport App from './App'\nimport { Provider } from 'react-redux'\n\n\nReactDOM.render(<Provider store={store}>\n        <App/>\n</Provider>,document.getElementById(\"root\"));"],"sourceRoot":""}