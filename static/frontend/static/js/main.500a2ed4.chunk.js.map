{"version":3,"sources":["assets/folder.png","assets/github.svg","assets/home.png","store/reducer.js","store/action-types.js","store/index.js","pages/login-register/loginRegister.jsx","utils/constant.js","api/ajax.js","api/index.js","pages/login-register/login.jsx","components/Timer.jsx","pages/login-register/register.jsx","pages/user/study-course.jsx","components/PictureUpload.jsx","pages/user/personal-info.jsx","pages/user/teach-course.jsx","store/actions.js","pages/user/user.jsx","pages/student-course/home.jsx","pages/student-course/resource.jsx","pages/student-course/notify.jsx","pages/student-course/homework.jsx","pages/student-course/exam.jsx","pages/student-course/discuss/course-comment.jsx","pages/student-course/discuss/my-comment.jsx","pages/student-course/discuss/replyToMe.jsx","pages/student-course/discuss/discuss.jsx","pages/student-course/student-course.jsx","pages/teacher-course/home.jsx","pages/teacher-course/class.jsx","pages/teacher-course/resource.jsx","pages/teacher-course/notify.jsx","pages/teacher-course/homework/publish-homework-form.jsx","pages/teacher-course/homework/homeworkLibComponent.jsx","pages/teacher-course/homework/homeworkComponent.jsx","pages/teacher-course/homework/homework.jsx","pages/teacher-course/discuss/course-comment.jsx","pages/teacher-course/discuss/my-comment.jsx","pages/teacher-course/discuss/replyToMe.jsx","pages/teacher-course/discuss/discuss.jsx","pages/teacher-course/exam/examComponent.jsx","pages/teacher-course/exam/publish-exam-form.jsx","pages/teacher-course/exam/examLibComponent.jsx","pages/teacher-course/exam/exam.jsx","pages/teacher-course/teacher-course.jsx","pages/editor/single-subject-editor.jsx","pages/editor/multiple-subject-editor.jsx","pages/editor/judgement-subject-editor.jsx","pages/editor/blank-subject-editor.jsx","pages/editor/short-subject-editor.jsx","pages/editor/program-subject-editor.jsx","pages/editor/subject-editor.jsx","pages/editor/editor.jsx","components/subject/single-subject.jsx","components/subject/multiple-subject.jsx","components/subject/judgement-subject.jsx","components/subject/blank-subject.jsx","components/subject/short-subject.jsx","components/subject/program-subject.jsx","components/subject/subject.jsx","pages/homework/do-homework.jsx","pages/homework/mark-homework.jsx","pages/homework/view-homework.jsx","pages/exam/do-exam.jsx","pages/exam/mark-exam.jsx","pages/login-register/forget-password.jsx","App.js","index.js"],"names":["module","exports","combineReducers","user","state","realName","avatar","action","type","data","createStore","reducer","composeWithDevTools","applyMiddleware","thunk","LoginRegister","this","props","layout","md","span","offset","xs","className","style","height","width","backgroundSize","backgroundImage","bgImg","backgroundRepeat","paddingTop","fontSize","textAlign","marginTop","children","React","Component","Constant","ajax","url","Promise","resolve","reject","promise","axios","get","params","post","put","delete","then","response","catch","error","download","method","responseType","res","message","blob","Blob","link","document","createElement","createEvent","initEvent","href","URL","createObjectURL","filename","headers","split","pop","toString","decodeURI","display","body","appendChild","click","window","revokeObjectURL","BaseUrl","BaseAvatar","BaseCover","BaseVideo","ProgramUrl","Github","interceptors","request","use","config","baseURL","token","localStorage","getItem","status","removeItem","location","email","program","id","course","clazz","courseId","file","excel","libId","chapter","notify","comment","code","classId","classMember","answer","lib","item","homeworkLibId","publish","publishId","homeworkPublishId","userId","submit","examLibId","examPublishId","Login","userLogin","a","result","success","setItem","history","push","err","onFinish","values","initialValues","password","name","Item","rules","required","prefix","UserOutlined","hasFeedback","min","Password","LockOutlined","htmlType","to","float","Timer","tick","setState","seconds","clearInterval","timerID","setInterval","onlySecond","hour","Math","floor","minute","second","Register","userRegister","Request","onTimerFinish","getCaptchaVisible","getCaptcha","formRef","current","getFieldValue","createRef","ref","labelCol","sm","wrapperCol","scrollToFirstError","label","dependencies","validator","rule","value","whitespace","gutter","onClick","disabled","StudyCourse","showJoinClassModal","joinClassModal","cancelJoinClassModal","joinClass","getStudyCourse","classes","title","extra","onCancel","visible","footer","map","index","key","pathname","search","ID","hoverable","bodyStyle","padding","cover","alt","src","Meta","description","teacher","PictureUpload","getFileList","fileList","handleCancelPreview","previewVisible","handlePreview","preview","getBase64","originFileObj","previewImage","beforeUpload","isJpgOrPng","isLt2M","size","list","onRemove","indexOf","newFileList","slice","splice","reader","FileReader","readAsDataURL","onload","onerror","listType","onPreview","length","PlusOutlined","PersonalInfo","initPersonalInfoForm","setFieldsValue","sex","number","onTabChange","handleUpdateInfo","i","formData","FormData","append","handleUpdatePassword","hasInitForm","prevProps","prevState","snapshot","formItemLayout","tailFormItemLayout","contentList","info","callback","Group","tabList","tab","activeTabKey","connect","TeachCourse","showModal","handleCancel","handleCreateCourse","getTeachCourse","courses","createCourseForm","getUser","dispatch","Header","Content","Sider","User","logout","onUserMenuClick","onSiderMenuClick","menuData","path","text","icon","ReadOutlined","getSelectedKey","selectedKey","forEach","theme","mode","SubMenu","marginLeft","breakpoint","collapsedWidth","defaultSelectedKeys","selectedKeys","from","exact","component","Home","loadChapterData","chapters","selectedChapterId","selectedVideoName","videoName","console","log","onMenuItemClick","record","queryString","parse","Fragment","chapterName","controls","ResizeableTitle","onResize","restProps","handle","resizeHandle","e","stopPropagation","draggableOpts","enableUserSelectHack","Resource","getQuery","query","obj","fileColumns","dataIndex","render","localFilename","folder","align","moment","format","parseInt","marginRight","handleDownloadFile","handleResize","columns","nextColumns","loadFileData","parentId","sortFileData","fileData","components","header","cell","concat","col","onHeaderCell","column","bordered","dataSource","pagination","rowKey","onRow","onDoubleClick","Notify","loadNotifyData","notifyData","itemLayout","renderItem","borderBottom","CreatedAt","content","Homework","loadHomeworkPublishes","homeworkData","goToFinishHomeworkPage","goToViewHomeworkPage","getSubmitStatus","now","beginTime","endTime","isBefore","submitRecord","isAfter","mark","resubmit","homeworkLib","actions","justifyContent","paddingLeft","paddingRight","color","totalScore","Exam","loadExamPublishes","examData","finishTime","startTime","add","duration","goToDoExamPage","examLib","CourseComment","loadCommentData","commentData","showCommentModal","commentModal","cancelCommentModal","handleCommentChange","event","target","handleSubmitComment","replyId","replyUserId","replyUserRealName","createComment","replyParentComment","replyChildComment","onOk","TextArea","onChange","rows","image","PRESENTED_IMAGE_SIMPLE","author","datetime","subItem","withRouter","MyComment","deleteComment","onConfirm","ReplyToMe","Discuss","onMenuClick","StudentCourse","loadCourseData","courseName","goToUserPage","parentPath","marginBottom","github","addChapter","addChapterModal","updateChapterName","updateChapterModal","updateChapterVideo","uploading","uploadVideoModal","deleteChapterVideo","deleteChapter","cancelAddChapterModal","showAddChapterModal","cancelUpdateChapterModal","showUpdateChapterModal","cancelUploadVideoModal","showUploadVideoModal","handleChange","match","margin","multiple","UploadOutlined","loading","placement","Classes","deleteClassMember","selectedClass","loadClassMemberData","users","loadClassData","showCreateClassModal","createClassModal","cancelCreateClassModal","createClass","classCode","cardTitle","cardExtra","handleDeleteFile","showNewFolderModal","newFolderVisible","showNewFileModal","newFileVisible","handleNewFolderCancel","handleNewFileCancel","handleCreateFolder","folderName","handleCreateNewFile","alignItems","updateNotify","updatedNotify","cancelUpdateNotifyModal","deleteNotify","addNotify","cancelAddNotifyModal","showAddNotifyModal","addNotifyModal","showUpdateNotifyModal","updateNotifyModal","destroyOnClose","PublishHomeworkForm","loadClassesInfo","form","range","valuePropName","placeholder","Option","RangePicker","showTime","HomeworkLibComponent","showRenameModal","goToEditHomeworkLib","showImportLibModal","exportLibToExcel","subjectCount","showPublishLibModal","renameModal","updatedLib","cancelRenameModal","renameHomeworkLib","loadHomeworkLibData","publishedhomeworkLibId","publishLibModal","cancelPublishLibModal","publishHomework","homeworkLibData","handleUploadChange","importLibModal","cancelImportLibModal","importLibFormExcel","downloadExcelExample","createLibModal","HomeworkComponent","goToMarkHomework","cancelMarkHomework","loadHomeworkSubmitData","setHomeworkPublishId","onRepublishFormFinish","updatedHomeworkPublish","cancelRepublishHomeworkModal","loadHomeworkPublishData","selectedValue","showRepublishHomeworkModal","Array","republishHomeworkModal","classData","homeworkPublishData","homeworkSubmitData","showHomeworkSubmitRecord","homeworkPublish","cancelHomeworkSubmitRecord","downloadHomeworkExcel","setSubmitRecordVisible","submitRecordVisible","onSelectChange","getSummary","pageData","scoreArr","max","average","homeworkPublishList","unMarkCount","submitCount","homeworkSubmitRecord","ArrowLeftOutlined","DownloadOutlined","summary","showCreateLibModal","cancelCreateLibModal","createHomeworkLib","tabKey","homework","tabBarExtraContent","ExamComponent","goToMarkExam","setExamPublishId","updatedExamPublish","cancelRepublishExamModal","loadExamPublishData","showRepublishExamModal","republishExamModal","examPublishData","loadExamSubmitData","examSubmitData","showExamSubmitRecord","examPublish","cancelExamSubmitRecord","downloadExamExcel","examPublishList","examSubmitRecord","PublishExamForm","diff","ExamLibComponent","goToEditExamLib","renameExamLib","loadExamLibData","publishedExamLibId","publishExam","examLibData","createExamLib","exam","TeacherCourse","SingleSubjectEditor","setFormOptionsInitialValues","options","sequence","addOption","optionLength","allOptions","deleteOption","MultipleSubjectEditor","undefined","JudgementSubjectEditor","BlankSubjectEditor","ShortSubjectEditor","ProgramSubjectEditor","SubjectEditor","Editor","createSubjectEditor","editingSujectId","editingSubject","editingStatus","loadSubjectData","subjects","createSubject","modifySubject","deleteSubject","Id","DeleteOutlined","score","question","SingleSubject","onInputChange","inputValue","sequenceNumber","getInputValue","getValues","radioStyle","lineHeight","border","borderRadius","verticalAlign","wordBreak","answerVisible","inputVisible","MultipleSubject","checkBoxStyle","JudgementSubject","BlankSubject","ShortSubject","ProgramSubject","showExample","exampleVisible","language","executeProgram","input","output","defaultValue","dangerouslySetInnerHTML","__html","Subject","DoHomework","loadHomeworkLib","loadHomeworkUserSubmit","submitData","submitItems","items","fill","homeworkLibItemId","homeworkUserSubmit","submitHomework","submitItem","MarkHomework","homeworkSubmitId","homeworkSubmit","submitHomeworkMark","ViewHomework","DoExam","loadExamLib","loadExamUserSubmit","examLibItemId","examUserSubmit","submitExam","userSubmitRecord","startExam","stopTime","countDown","allowExam","submitExamItem","selectedSequence","backgroundColor","isSave","MarkExam","examSubmitId","examSubmit","submitExamMark","ForgetPassword","App","ReactDOM","store","getElementById"],"mappings":"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","file":"static/js/main.500a2ed4.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABAEAYAAAD6+a2dAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAASAAAAEgARslrPgAAAw1JREFUeNrt3E9Ik3Ecx/HP99nc3HQi/oE85GEiGBYEKwMrRBhSsSgJrdMIxIthYAcROggd61jgSfBYQSKVkCAUOwUuUigPHUoKgorchrZwf55fBw910efR0N/m7/O67LDfA98fz3v7sR0egIiIiIiIiIiIiA4+cbtQ2Y8fHU80NkL87wqTHR1QiMibYFD3Bv7uxL6kpvJ5APBEFhdFemVJVlZ0j1XqHANQ9kz62NFoFIIXqnt6GkAlXoZCugffRp26UywC6jVODA+L9I6+b56Y0D1UqXIOQM2k238kkwBeSXckonvgHYihfn0dKvfEvtHUJFb/1eX+9XXdQ5Uay8WaBaiWFt2D7sJz/KyuhvjPS7CnR/cwpcpNAGVOPURVLKZ7ilLldV4iffJZBFBTuofdnYozwUPxuLK/FZ7d6+oCAGnTPdOeGMC5XA4inzCXSAC+p8DYmEhtbSyWSm11kYsArLDvejAIFJHTvcVdyX/43efxQNZ8X4bCYSAUanb926es3MUcACgAbW3ARgojgcDmW/H4Vhe5OAKkQzq9LkIpdanU8rLuGfaRghenOjudlrm6sWIBgM+n1L+v5SabXVgAgEzG79c9y14QsSwA8PvDYQBSefHwR4/H6SoXAQTq8lkACDUUi7o3+X8yGQBIp2dndU+yt0QAoOHrtdWqKqe1Lo6AQCyflIN5ah5Qm9/Qa6MJqalxWusiAMuybd1bop2zx3/B+Qgw4H8A2g4DMBwDMJyb/wHE+SShcuUiAM/bipPl+cufnPEIMBwDMBwDMBwDMBwDMBwDMBwDMBwDMBwDMBwDMBwDMBwDMBwDMBwDMBwDMBwDMBwDMBwDMBwDMBwDMBwDMBwDMBwDMBwDMBwDMJyrAISZlCGVlwrnVc63VlWcrV/MZnVvh3bKO1S3tPlMlO24+GxXtrZfGRkBPJM1t/moiNLnPV2XKxSAquQRGRx0Wu3+YdEqmRxXwSBQvfjdH41Cyc3iqvMjSGifiK1wK5WC8g74L8/Pi9X64P6FjQ3dYxERERERERFR6fgDa0Sz24K2luwAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjAtMDQtMDRUMjE6MDI6MzQrMDg6MDC2vOGdAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIwLTA0LTA0VDIxOjAyOjM0KzA4OjAwx+FZIQAAAEx0RVh0c3ZnOmJhc2UtdXJpAGZpbGU6Ly8vaG9tZS9hZG1pbi9pY29uLWZvbnQvdG1wL2ljb25fbWdwb3liaGo4Ny93ZW5qaWFuamlhLnN2Z/O1Gl4AAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/github.2bfc5023.svg\";","module.exports = __webpack_public_path__ + \"static/media/home.aebb6b54.png\";","import { combineReducers } from 'redux'\r\nimport { GET_USER} from \"./action-types\";\r\n\r\nfunction user(state={realName:\"\",avatar:\"\"},action) {\r\n   switch (action.type) {\r\n      case GET_USER:\r\n         return action.data;\r\n      default:\r\n         return state;\r\n   }\r\n}\r\nexport default combineReducers({user})\r\n","export const GET_USER = 'getUser';","import {createStore,applyMiddleware} from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport reducer from \"./reducer\";\r\nimport {composeWithDevTools} from \"redux-devtools-extension\";\r\nexport default  createStore(reducer,composeWithDevTools(applyMiddleware(thunk)));\r\n","import React from \"react\";\r\nimport bgImg from '../../assets/home.png';\r\nimport {Row,Col} from \"antd\";\r\n\r\nexport default class LoginRegister extends React.Component{\r\n    render() {\r\n        if(this.props.type==='login'){\r\n            this.layout={md:{span:6,offset:9},xs:{span:16,offset:4}}\r\n        }else {\r\n            this.layout={md:{span:9,offset:6},xs:{span:14,offset:5}}\r\n        }\r\n        return (\r\n                <div className=\"home\" style={{height:'100%',width:'100%',backgroundSize:\"1200px 600px\",\r\n                        backgroundImage:`url(${bgImg})`,backgroundRepeat:\"no-repeat\",paddingTop:50}} >\r\n                    <Row >\r\n                        <Col md={{span:12,offset:6}} xs={{span:16,offset:4}}\r\n                            style={{fontSize:30,textAlign:\"center\"}} >\r\n                            辅助学习平台\r\n                        </Col>\r\n                    </Row>\r\n                    <Row style={{marginTop:100}}>\r\n                        <Col {...this.layout}>\r\n                            {this.props.children}\r\n                        </Col>\r\n                    </Row>\r\n                </div>\r\n        )\r\n    }\r\n}","export default function Constant() {}\r\nConstant.BaseUrl = \"/\";//http://localhost:8080\r\nConstant.BaseAvatar = '/avatar/';\r\nConstant.BaseCover = '/cover/';\r\nConstant.BaseVideo = '/video/';\r\nConstant.ProgramUrl='/compile';\r\nConstant.Github='https://github.com/heypin/learning';","import axios from 'axios'\r\nimport {message} from 'antd'\r\nimport Constant from '../utils/constant'\r\n\r\naxios.interceptors.request.use(function (config) {\r\n    config.baseURL=Constant.BaseUrl;\r\n    // config.withCredentials = true;\r\n    let token = window.localStorage.getItem('token');\r\n    if (token) {\r\n        config.headers['Authorization'] = token\r\n    }\r\n    return config;\r\n}, function (error) {\r\n    return Promise.reject(error)\r\n});\r\naxios.interceptors.response.use(function (response) {\r\n    return response;\r\n}, function (error) {\r\n    if (error.response.status===401) {\r\n        message.error(\"请重新登录后操作!\");\r\n        window.localStorage.removeItem(\"token\");\r\n        window.location.href=\"/#login\";\r\n    }\r\n    return Promise.reject(error);\r\n});\r\n\r\n\r\nexport  function ajax(url, data = {}, type = 'GET') {\r\n    return new Promise((resolve, reject) => {\r\n        let promise;\r\n        if (type === 'GET') {\r\n            promise = axios.get(url, {params: data});\r\n        } else if (type === 'POST') {\r\n            promise = axios.post(url, data);\r\n        } else if (type === 'PUT') {\r\n            promise = axios.put(url, data);\r\n        } else if (type === 'DELETE') {\r\n            promise = axios.delete(url,{params:data});\r\n        }\r\n        promise.then(response => {\r\n            resolve(response.data);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    })\r\n}\r\nexport function download(url) {\r\n    return axios({\r\n        url: url,\r\n        method: 'get',\r\n        responseType: 'blob'\r\n    }).then((res)=>{\r\n        if (res.data.type === \"application/json\") {\r\n            message.error(\"下载失败\")\r\n        } else {\r\n            let blob = new Blob([res.data]);\r\n            let link = document.createElement(\"a\");\r\n            let evt = document.createEvent(\"HTMLEvents\");\r\n            evt.initEvent(\"click\", false, false);\r\n            link.href = URL.createObjectURL(blob);\r\n            //用split简单的获取文件名\r\n            let filename=res.headers[\"content-disposition\"].split(\"filename=\").pop().toString();\r\n            link.download = decodeURI(filename);//后端对文件名进行了url编码防止乱码，这里解码\r\n            link.style.display = \"none\";\r\n            document.body.appendChild(link);\r\n            link.click();\r\n            window.URL.revokeObjectURL(link.href);\r\n        }\r\n    })\r\n}","import {ajax} from \"./ajax\";\r\nimport {download} from './ajax'\r\nexport default {\r\n    userLogin:(user)=> ajax(`/login`,user,'POST'),\r\n    userRegister:(user)=>ajax(`/register`,user,'POST'),\r\n    userForgetPassword:(user)=>ajax(`/forget-password`,user,'PUT'),\r\n    getCaptcha:(email)=>ajax(`/captcha`,{email:email}),\r\n    executeProgram:(program)=>ajax(`/compile`,program,'POST'),\r\n\r\n    getUserByToken:()=>ajax(`/user`),//axios拦截器添加了token不用传入\r\n    updateUserPassword:(user)=>ajax(`/user/password`,user,'PUT'),\r\n    updateUserById:(user)=>ajax(`/user`,user,'PUT'),\r\n\r\n    getCourseById:(id)=>ajax(`/course`,{id:id}),\r\n    createCourse:(course)=>ajax(`/course`,course,'POST'),\r\n    getTeachCourse:()=>ajax(`/course/teach`),\r\n\r\n    createClass:(clazz)=>ajax(`/class`,clazz,'POST'),\r\n    getClassesByCourseId:(courseId)=>ajax(`/class`,{courseId:courseId}),\r\n\r\n    getChildFile:(file)=>ajax(`/file/children`,file,'GET'),\r\n    createFile:(file)=>ajax(`/file`,file,'POST'),\r\n    createFolder:(file)=>ajax(`/file/folder`,file,'POST'),\r\n    downloadFile:(id)=>download(`/file/download?id=${id}`),\r\n\r\n    downloadExcelExample:()=>download(`/excel/example`),\r\n    exportExamToExcel:(id)=>download(`/excel/exportExamSubmit?examPublishId=${id}`),\r\n    exportHomeworkToExcel:(id)=>download(`/excel/exportHomeworkSubmit?homeworkPublishId=${id}`),\r\n    importExcelSubjectToLib:(excel)=>ajax(`/excel/importLib`,excel,'POST'),\r\n    exportLibSubjectToExcel:(libId,type)=>download(`/excel/exportLib?libId=${libId}&type=${type}`),\r\n\r\n    deleteFile:(id)=>ajax(`/file`,{id:id},'DELETE'),\r\n    getChapterByCourseId:(courseId)=>ajax(`/chapter`,{courseId:courseId}),\r\n    createChapter:(chapter)=>ajax(`/chapter`,chapter,'POST'),\r\n    updateChapterName:(chapter)=>ajax(`/chapter`,chapter,'PUT'),\r\n    deleteChapterById:(id)=>ajax(`/chapter`,{id:id},'DELETE'),\r\n    deleteChapterVideoById:(id)=>ajax(`/chapter/video`,{id:id},'DELETE'),\r\n    updateChapterVideo:(chapter)=>ajax(`/chapter/video`,chapter,'PUT'),\r\n    getNotifyByCourseId:(courseId)=>ajax(`/notify`,{courseId:courseId}),\r\n    createNotify:(notify)=>ajax(`/notify`,notify,'POST'),\r\n    updateNotifyById:(notify)=>ajax(`/notify`,notify,'PUT'),\r\n    deleteNotifyById:(id)=>ajax(`/notify`,{id:id},'DELETE'),\r\n    getCommentByCourseId:(courseId)=>ajax(`/comment`,{courseId:courseId}),\r\n    getCommentByUserId:(courseId)=>ajax(`/comment/user`,{courseId:courseId}),\r\n    getCommentReplyToUser:(courseId)=>ajax(`/comment/reply`,{courseId:courseId}),\r\n    createComment:(comment)=>ajax(`/comment`,comment,'POST'),\r\n    deleteCommentById:(id)=>ajax(`/comment`,{id:id},'DELETE'),\r\n    joinClass:(code)=>ajax(`/classMember/join`,code,'POST'),\r\n    getClassesByUserId:()=>ajax(`/classMember/class`),\r\n    getUsersByClassId:(classId)=>ajax(`/classMember/user`,{classId:classId}),\r\n    deleteClassMember:(classMember)=>ajax(`/classMember`,classMember,'DELETE'),\r\n    getHomeworkLibsByCourseId:(courseId)=>ajax(`/homeworkLib`,{courseId:courseId}),\r\n    getHomeworkLibWithItemsById:(id,answer)=>ajax(`/homeworkLib/items`,{id:id,answer:answer}),\r\n    updateHomeworkLibNameById:(lib)=>ajax(`/homeworkLib/name`,lib,'PUT'),\r\n    createHomeworkLib:(lib)=>ajax(`/homeworkLib`,lib,'POST'),\r\n    createHomeworkLibItem:(item)=>ajax(`/homeworkLibItem`,item,'POST'),\r\n    updateHomeworkLibItemAndOptions:(item)=>ajax(`/homeworkLibItem`,item,'PUT'),\r\n    getHomeworkLibItemsByLibId:(libId)=>ajax(`/homeworkLibItem`,{homeworkLibId:libId}),\r\n    deleteHomeworkLibItemById:(id)=>ajax(`/homeworkLibItem`,{id:id},'DELETE'),\r\n    getHomeworkPublishById:(id)=>ajax(`/homeworkPublish`,{id:id}),\r\n    getHomeworkPublishesByClassId:(classId)=>ajax(`/homeworkPublish/class`,{classId:classId}),\r\n    getHomeworkPublishesWithSubmitByClassId:(classId)=>ajax(`/homeworkPublish/submit`,{classId:classId}),\r\n    publishHomework:(publish)=>ajax(`/homeworkPublish`,publish,'POST'),\r\n    updateHomeworkPublishById:(publish)=>ajax(`/homeworkPublish`,publish,'PUT'),\r\n    getHomeworkSubmitById:(id)=>ajax(`/homeworkSubmit`,{id:id}),\r\n    getHomeworkSubmitsByPublishId:(publishId)=>ajax(`/homeworkSubmit/publish`,{homeworkPublishId:publishId}),\r\n    getHomeworkUserSubmitWithItems:(publishId,userId)=>ajax(`/homeworkSubmit/user`,{homeworkPublishId:publishId,userId:userId}),\r\n    submitHomeworkWithItems:(submit)=>ajax(`/homeworkSubmit`,submit,'POST'),\r\n    updateHomeworkSubmitMarkById:(submit)=>ajax(`/homeworkSubmit/mark`,submit,'PUT'),\r\n    updateHomeworkSubmitItemsScore:(submit)=>ajax(`/homeworkSubmit/score`,submit,'PUT'),\r\n    getExamLibsByCourseId:(courseId)=>ajax(`/examLib`,{courseId:courseId}),\r\n    getExamLibWithItemsById:(id,answer)=>ajax(`/examLib/items`,{id:id,answer:answer}),\r\n    updateExamLibNameById:(lib)=>ajax(`/examLib/name`,lib,'PUT'),\r\n    createExamLib:(lib)=>ajax(`/examLib`,lib,'POST'),\r\n    getExamLibItemsByLibId:(examLibId)=>ajax(`/examLibItem`,{examLibId:examLibId}),\r\n    updateExamLibItemAndOptions:(item)=>ajax(`/examLibItem`,item,'PUT'),\r\n    createExamLibItemAndOptions:(item)=>ajax(`/examLibItem`,item,'POST'),\r\n    deleteExamLibItemById:(id)=>ajax(`/examLibItem`,{id:id},'DELETE'),\r\n    getExamPublishById:(id)=>ajax(`/examPublish`,{id:id}),\r\n    getExamPublishesByClassId:(classId)=>ajax(`/examPublish/class`,{classId:classId}),\r\n    getExamPublishesWithSubmitByClassId:(classId)=>ajax(`/examPublish/submit`,{classId:classId}),\r\n    publishExam:(publish)=>ajax(`/examPublish`,publish,'POST'),\r\n    updateExamPublishById:(publish)=>ajax(`/examPublish`,publish,'PUT'),\r\n    getExamSubmitById:(id)=>ajax(`/examSubmit`,{id:id}),\r\n    getExamSubmitsByPublishId:(examPublishId)=>ajax(`/examSubmit/publish`,{examPublishId:examPublishId}),\r\n    getExamUserSubmitWithItems:(examPublishId,userId)=>ajax(`/examSubmit/user`,{examPublishId:examPublishId,userId:userId}),\r\n    submitExamItem:(item)=>ajax(`/examSubmit/item`,item,'POST'),\r\n    startExam:(submit)=>ajax(`/examSubmit/start`,submit,'POST'),\r\n    finishExam:(submit)=>ajax(`/examSubmit/finish`,submit,'PUT'),\r\n    updateExamSubmitItemsScore:(submit)=>ajax(`/examSubmit/score`,submit,'PUT'),\r\n\r\n\r\n}","\r\nimport React from \"react\";\r\nimport LoginRegister from \"./loginRegister\";\r\nimport { Form, Input, Button, message } from 'antd';\r\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\r\nimport {Link} from \"react-router-dom\";\r\nimport request from '../../api';\r\nclass Login extends React.Component{\r\n    userLogin=async (user)=>{\r\n        try{\r\n            const result=await request.userLogin(user);\r\n            message.success(\"登录成功!\");\r\n            window.localStorage.setItem(\"token\",result.token);\r\n            this.props.history.push(\"/user\");\r\n        }catch (e) {\r\n            let err=\"\";\r\n            if(e.response.data.err){\r\n                err=e.response.data.err;\r\n            }\r\n            message.error(\"登录失败！\"+err);\r\n        }\r\n\r\n    };\r\n    onFinish=(values)=>{\r\n        this.userLogin(values);\r\n    };\r\n    render() {\r\n        return (\r\n            <LoginRegister type='login'>\r\n                <Form initialValues={{email:\"2244306600@qq.com\",password:\"12345678\"}} name=\"login\" className=\"login-form\" onFinish={this.onFinish}>\r\n                    <Form.Item name=\"email\"  rules={[\r\n                            {required: true,message: '请输入邮箱!'},\r\n                            {type:'email',message: '格式不正确！'}\r\n                        ]}\r\n                    >\r\n                        <Input prefix={<UserOutlined className=\"site-form-item-icon\" />}  />\r\n                    </Form.Item>\r\n                    <Form.Item name=\"password\" hasFeedback rules={[\r\n                            {required: true, message: '请输入密码!'},\r\n                            {min:8,message: '密码最短8位！'}\r\n                        ]}\r\n                    >\r\n                        <Input.Password prefix={<LockOutlined className=\"site-form-item-icon\" />}/>\r\n                    </Form.Item>\r\n\r\n                    <Form.Item>\r\n                        <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\" style={{width:\"100%\"}}>\r\n                            登录\r\n                        </Button>\r\n                        <div style={{fontSize:20,marginTop:20}}>\r\n                            或 <Link to=\"/register\" >注册</Link>\r\n                            <Link style={{float:\"right\"}} to=\"/forget-password\">找回密码</Link>\r\n                        </div>\r\n                    </Form.Item>\r\n                </Form>\r\n            </LoginRegister>\r\n        )\r\n    }\r\n}\r\nexport default Login;","import React from \"react\";\r\nexport default class Timer extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={\r\n            seconds:props.seconds,\r\n        }\r\n    }\r\n    tick=()=> {\r\n        this.setState((state, props) =>{\r\n            if(state.seconds>0){\r\n                return {seconds:state.seconds-1}\r\n            }else{\r\n                if(this.props.onFinish){//倒计时结束,通知父组件\r\n                    this.props.onFinish()\r\n                }\r\n            }\r\n        });\r\n    };\r\n    componentWillUnmount() {\r\n        clearInterval(this.timerID);\r\n    }\r\n    componentDidMount() {\r\n        this.timerID = setInterval(\r\n            () => this.tick(),\r\n            1000\r\n        );\r\n    }\r\n    render() {\r\n        const seconds=this.state.seconds;\r\n        if(this.props.onlySecond){//仅显示秒\r\n            return <span>{seconds}s</span>\r\n        }\r\n        let hour=Math.floor(seconds/60/60);\r\n        let minute=Math.floor(seconds/60%60);\r\n        let second= Math.floor(seconds%60);\r\n        return (\r\n            <span style={this.props.style}>{hour}:{minute}:{second}</span>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Form, Input, Row, Col, Button, message,} from 'antd';\r\nimport LoginRegister from \"./loginRegister\";\r\nimport Request from \"../../api\";\r\nimport Timer from \"../../components/Timer\";\r\n\r\nexport default class Register extends React.Component{\r\n    userRegister = async (user)=>{\r\n        try{\r\n            await Request.userRegister(user);\r\n            message.success(\"注册成功!\");\r\n            this.props.history.push(\"/login\");\r\n        }catch (e) {\r\n            let err=\"\";\r\n            if(e.response.data.err){\r\n                err=e.response.data.err;\r\n            }\r\n            message.error(\"注册失败!\"+err)\r\n        }\r\n    };\r\n    onFinish=(values)=>{\r\n        this.userRegister(values);\r\n    };\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={\r\n            getCaptchaVisible:true,\r\n        };\r\n        this.formRef=React.createRef();\r\n    }\r\n    onTimerFinish=()=>{\r\n      this.setState({getCaptchaVisible:true});\r\n    };\r\n\r\n    getCaptcha=async ()=>{\r\n        try{\r\n            let email=this.formRef.current.getFieldValue(\"email\");\r\n            if(email){\r\n                await Request.getCaptcha(email);\r\n                message.success(\"获取验证码成功\");\r\n                this.setState({getCaptchaVisible:false});\r\n            }else{\r\n                message.error(\"请先填邮箱\");\r\n            }\r\n        }catch (e) {\r\n            message.error(\"获取验证码失败\");\r\n        }\r\n    };\r\n    render() {\r\n        const formItemLayout = {\r\n            labelCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 8 },\r\n            },\r\n            wrapperCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 16 },\r\n            },\r\n        };\r\n        const tailFormItemLayout = {\r\n            wrapperCol: {\r\n                xs: {\r\n                    span: 24,\r\n                    offset: 0,\r\n                },\r\n                sm: {\r\n                    span: 16,\r\n                    offset: 8,\r\n                },\r\n            },\r\n        };\r\n        return (\r\n            <LoginRegister type='register'>\r\n                <Form ref={this.formRef} {...formItemLayout} name=\"register\"\r\n                      onFinish={this.onFinish} scrollToFirstError\r\n                >\r\n                    <Form.Item name=\"email\" label=\"邮箱\"\r\n                        rules={[\r\n                            {type: 'email', message: '邮箱格式不正确!',},\r\n                            {required: true, message: '请输入邮箱!',},\r\n                        ]}\r\n                    >\r\n                        <Input />\r\n                    </Form.Item>\r\n\r\n                    <Form.Item name=\"password\" label=\"密码\"\r\n                        rules={\r\n                            [{required: true,  message: '请输入密码!'},\r\n                            {min:8,message: '密码最短8位！'}]\r\n                        }\r\n                        hasFeedback\r\n                    >\r\n                        <Input.Password />\r\n                    </Form.Item>\r\n\r\n                    <Form.Item name=\"confirm\" label=\"确认密码\" dependencies={['password']} hasFeedback\r\n                        rules={[{required: true,message: '请确认密码!'},\r\n                            ({ getFieldValue }) => ({\r\n                                validator(rule, value) {\r\n                                    if (!value || getFieldValue('password') === value) {\r\n                                        return Promise.resolve();\r\n                                    }\r\n                                    return Promise.reject('两次密码不一致!');\r\n                                },\r\n                            }),\r\n                        ]}\r\n                    >\r\n                        <Input.Password />\r\n                    </Form.Item>\r\n\r\n                    <Form.Item name=\"realName\" label=\"姓名\"\r\n                        rules={[{ required: true, message: '请输入姓名!', whitespace: true }]}\r\n                    >\r\n                        <Input />\r\n                    </Form.Item>\r\n                    <Form.Item label=\"验证码\">\r\n                        <Row gutter={8}>\r\n                            <Col span={12}>\r\n                                <Form.Item name=\"captcha\"\r\n                                    rules={[{ required: true, message: '请输入获得的验证码!' }]}\r\n                                >\r\n                                    <Input />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={12}>\r\n                                {this.state.getCaptchaVisible?\r\n                                    <Button style={{float:\"right\"}} onClick={this.getCaptcha}>获取邮箱验证码</Button>:\r\n                                    <Button style={{float:\"right\"}} disabled={true}><Timer onlySecond={true} onFinish={this.onTimerFinish} seconds={60}/>后获取</Button>\r\n                                }\r\n\r\n                            </Col>\r\n                        </Row>\r\n                    </Form.Item>\r\n                    <Form.Item {...tailFormItemLayout}>\r\n                        <Button type=\"primary\" htmlType=\"submit\" style={{width:\"100%\"}}>注册</Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </LoginRegister>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Button, Card, Col, Form, Input, message, Modal, Row} from \"antd\";\r\nimport {Link} from \"react-router-dom\";\r\nimport Constant from \"../../utils/constant\";\r\nimport Request from \"../../api\"\r\nexport default class StudyCourse extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={\r\n            joinClassModal:false,\r\n            classes:[],\r\n        };\r\n    }\r\n    showJoinClassModal=()=>{\r\n      this.setState({joinClassModal:true});\r\n    };\r\n    cancelJoinClassModal=()=>{\r\n        this.setState({joinClassModal:false});\r\n    };\r\n    joinClass=async (values)=>{\r\n        try{\r\n            await Request.joinClass(values);\r\n            message.success(\"已加入\");\r\n            this.cancelJoinClassModal();\r\n            this.getStudyCourse();\r\n        }catch (e) {\r\n            message.error(\"加入失败\");\r\n        }\r\n    };\r\n    getStudyCourse = async ()=>{\r\n        try{\r\n            const result = await Request.getClassesByUserId();\r\n            this.setState({classes:result});\r\n        }catch (e) {\r\n\r\n            message.error(\"获取课程信息失败\");\r\n        }\r\n    };\r\n    componentDidMount() {\r\n        this.getStudyCourse();\r\n    }\r\n\r\n    render() {\r\n        const formItemLayout = {labelCol: {span:4}, wrapperCol: {span:16}};\r\n        const tailFormItemLayout = {wrapperCol: {span:16,offset:4}};\r\n        return (\r\n            <Card style={{height:\"100%\"}} title=\"我学的课\" extra={<Button\r\n                type=\"primary\" onClick={this.showJoinClassModal}>加入班级</Button>}\r\n            >\r\n                <Modal title=\"加入班级\" onCancel={this.cancelJoinClassModal}\r\n                       visible={this.state.joinClassModal} footer={null}>\r\n                    <Form name=\"join-class\" onFinish={this.joinClass} {...formItemLayout}>\r\n                        <Form.Item name=\"classCode\" label=\"班级代码\"  rules={[{required: true,message: '请输入班级代码!'},]}>\r\n                            <Input  />\r\n                        </Form.Item>\r\n                        <Form.Item {...tailFormItemLayout}>\r\n                            <Button type=\"primary\" htmlType=\"submit\" style={{width:\"100%\"}}>确认</Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Modal>\r\n                <Row gutter={16}>\r\n                    {\r\n                        this.state.classes.map((item,index)=>{\r\n                            return (\r\n                                <Col span={8} key={index+1} style={{marginTop:20}}>\r\n                                    <Link to={{pathname:\"/student-course/home\",search:`?courseId=${item.course.ID}&classId=${item.ID}`}} >\r\n                                        <Card hoverable style={{ width: 270 }} bodyStyle={{padding:10}}\r\n                                              cover={<img alt=\"cover\" style={{width:270,height:180}}\r\n                                                          src={Constant.BaseCover+item.course.cover}/>}\r\n                                        >\r\n                                            <Card.Meta title={item.course.name} description={\r\n                                                <div>\r\n                                                    <div>{item.course.teacher}</div>\r\n                                                    <div>班级:{item.className}</div>\r\n                                                    <div>{item.course.description}</div>\r\n                                                </div>\r\n                                            } />\r\n                                        </Card>\r\n                                    </Link>\r\n                                </Col>\r\n                            )\r\n                        })\r\n                    }\r\n                </Row>\r\n            </Card>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Modal,Upload, message} from \"antd\";\r\nimport {PlusOutlined} from \"@ant-design/icons\";\r\nexport default class PictureUpload extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={\r\n            fileList:[],\r\n            previewVisible: false,\r\n            previewImage: '',\r\n        };\r\n        this.props.fileList(this.getFileList)\r\n    };\r\n    getFileList=()=>{\r\n      return this.state.fileList;\r\n    };\r\n    getBase64(file) {\r\n        return new Promise((resolve, reject) => {\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(file);\r\n            reader.onload = () => resolve(reader.result);\r\n            reader.onerror = error => reject(error);\r\n        });\r\n    };\r\n    handleCancelPreview = () => this.setState({ previewVisible: false });\r\n    handlePreview = async file => {\r\n        if (!file.url && !file.preview) {\r\n            file.preview = await this.getBase64(file.originFileObj);\r\n        }\r\n\r\n        this.setState({\r\n            previewImage: file.url || file.preview,\r\n            previewVisible: true,\r\n        });\r\n    };\r\n    beforeUpload=(file)=>{\r\n        const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png';\r\n        if (!isJpgOrPng) {\r\n            message.error('只能上传JPG/PNG文件!');\r\n        }\r\n        const isLt2M = file.size / 1024 / 1024 < 2;\r\n        if (!isLt2M) {\r\n            message.error('图片必须小于2MB!');\r\n        }\r\n        if(isJpgOrPng && isLt2M){\r\n            let list = [{...file,originFileObj:file}];\r\n            this.setState({fileList:list});\r\n        }else {\r\n            this.setState({fileList:[]});\r\n        }\r\n        return false;\r\n    };\r\n    onRemove=(file) => {\r\n        this.setState(state => {\r\n            const index = state.fileList.indexOf(file);\r\n            const newFileList = state.fileList.slice();\r\n            newFileList.splice(index, 1);\r\n            return {fileList: newFileList,};\r\n        });\r\n    };\r\n    render() {\r\n        const { previewVisible, previewImage, fileList } = this.state;\r\n        return (\r\n            <div>\r\n                <Upload listType=\"picture-card\"\r\n                        fileList={fileList}\r\n                        beforeUpload={this.beforeUpload}\r\n                        onPreview={this.handlePreview}\r\n                        onRemove={this.onRemove}\r\n                >\r\n                    {fileList.length >= 1 ? null : <div>\r\n                        <PlusOutlined />\r\n                        <div className=\"ant-upload-text\">Upload</div>\r\n                    </div>}\r\n                </Upload>\r\n                <Modal visible={previewVisible} footer={null} onCancel={this.handleCancelPreview}>\r\n                    <img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\r\n                </Modal>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Button, Form, Input, Radio, Row, Col, Card, message} from \"antd\";\r\nimport {connect} from 'react-redux';\r\nimport request from \"../../api\";\r\nimport PictureUpload from \"../../components/PictureUpload\";\r\nclass PersonalInfo extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            key: 'info',\r\n        };\r\n        this.formRef = React.createRef();\r\n        this.hasInitForm =false;\r\n        this.getFileList=()=>{};\r\n    }\r\n\r\n    initPersonalInfoForm=()=>{\r\n        const user = this.props.user;\r\n        this.formRef.current.setFieldsValue({\r\n            email:user.email,\r\n            sex:user.sex,\r\n            number:user.number,\r\n            realName:user.realName\r\n        });\r\n    };\r\n    onTabChange = (key) => {\r\n        this.setState({ key: key });\r\n    };\r\n    handleUpdateInfo = async (values)=>{\r\n        const fileList = this.getFileList();\r\n        const formData = new FormData();\r\n        if(fileList.length!==0){\r\n            formData.append('avatar', fileList[0].originFileObj);\r\n        }\r\n        for(let i in values){\r\n            formData.append(i,values[i]);\r\n        }\r\n        try{\r\n            await request.updateUserById(formData);\r\n            message.success(\"修改成功\");\r\n\r\n        }catch (e) {\r\n            message.error(\"修改失败\");\r\n        }\r\n\r\n    };\r\n    handleUpdatePassword = async (values)=>{\r\n        try{\r\n            await request.updateUserPassword(values);\r\n            message.success(\"修改成功!\");\r\n        }catch (e) {\r\n            if(e.response.status===400){\r\n                message.error(\"参数错误！\")\r\n            }else {\r\n                message.error(\"修改失败！\");\r\n            }\r\n        }\r\n    };\r\n    componentDidMount() {\r\n        this.initPersonalInfoForm();\r\n    }\r\n    componentDidUpdate(prevProps,prevState, snapshot) {\r\n        if(this.state.key==='info'){\r\n            this.initPersonalInfoForm();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const tabList = [\r\n            {key: 'info', tab: '我的信息',},\r\n            {key: 'password', tab: '修改密码',},\r\n        ];\r\n        const formItemLayout = {labelCol: {span:4}, wrapperCol: {span:16}};\r\n        const tailFormItemLayout = {wrapperCol: {span:16,offset:4}};\r\n        const contentList = {\r\n            info: (\r\n                <Form name=\"info\" onFinish={this.handleUpdateInfo}\r\n                      {...formItemLayout} ref={this.formRef}\r\n                >\r\n                        <Form.Item label=\"头像\" name=\"avatar\">\r\n                            <PictureUpload fileList={(callback)=>{\r\n                                this.getFileList=callback;\r\n                            }} />\r\n                        </Form.Item>\r\n                        <Form.Item name=\"email\" label=\"邮箱\"  rules={[\r\n                            {required: true,message: '请输入邮箱!'},\r\n                            {type:'email',message: '格式不正确！'}\r\n                        ]}\r\n                        >\r\n                            <Input  />\r\n                        </Form.Item>\r\n                        <Form.Item name=\"realName\" label=\"姓名\"\r\n                                   rules={[{ required: true, message: '请输入姓名!' }]}\r\n                        >\r\n                            <Input />\r\n                        </Form.Item>\r\n                        <Form.Item name=\"number\" label=\"学号\">\r\n                            <Input />\r\n                        </Form.Item>\r\n                        <Form.Item name=\"sex\" label=\"性别\">\r\n                            <Radio.Group>\r\n                                <Radio value={1}>男</Radio>\r\n                                <Radio value={2}>女</Radio>\r\n                            </Radio.Group>\r\n                        </Form.Item>\r\n                        <Form.Item {...tailFormItemLayout}>\r\n                            <Button type=\"primary\" htmlType=\"submit\"\r\n                                    className=\"login-form-button\" style={{width:\"100%\"}}>\r\n                                确认修改\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n            ),\r\n            password:(\r\n                <Form name=\"update-password\" {...formItemLayout} onFinish={this.handleUpdatePassword}>\r\n                    <Form.Item name=\"oldPassword\" label=\"旧密码\"\r\n                               rules={[{required: true,  message: '请输入旧密码!'}]}\r\n                               hasFeedback\r\n                    >\r\n                        <Input.Password />\r\n                    </Form.Item>\r\n                    <Form.Item name=\"password\" label=\"新密码\"\r\n                               rules={[{required: true,  message: '请输入新密码!'}]}\r\n                               hasFeedback\r\n                    >\r\n                        <Input.Password />\r\n                    </Form.Item>\r\n                    <Form.Item name=\"confirm\" label=\"确认密码\" dependencies={['password']} hasFeedback\r\n                               rules={[{required: true,message: '请确认密码!'},\r\n                                   ({ getFieldValue }) => ({\r\n                                       validator(rule, value) {\r\n                                           if (!value || getFieldValue('password') === value) {\r\n                                               return Promise.resolve();\r\n                                           }\r\n                                           return Promise.reject('两次密码不一致!');\r\n                                       },\r\n                                   }),\r\n                               ]}\r\n                    >\r\n                        <Input.Password />\r\n                    </Form.Item>\r\n                    <Form.Item {...tailFormItemLayout}>\r\n                        <Button type=\"primary\" htmlType=\"submit\"\r\n                                className=\"login-form-button\" style={{width:\"100%\"}}>\r\n                            确认修改\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            ),\r\n        };\r\n        return (\r\n            <Card\r\n                style={{ width: '100%',height:\"100%\"}}\r\n                tabList={tabList}\r\n                activeTabKey={this.state.key}\r\n                onTabChange={this.onTabChange}\r\n            >\r\n                <Row>\r\n                    <Col span={12}>\r\n                        {contentList[this.state.key]}\r\n                    </Col>\r\n                </Row>\r\n            </Card>\r\n\r\n        )\r\n    }\r\n}\r\nexport default connect(state=>({user:state.user}))(PersonalInfo)","import React from \"react\";\r\nimport {Button, Card, Col, Row, Modal, Form, Input,  message} from \"antd\";\r\nimport PictureUpload from \"../../components/PictureUpload\";\r\nimport Request from \"../../api\";\r\nimport {Link} from \"react-router-dom\";\r\nimport Constant from \"../../utils/constant\";\r\n\r\nexport default class TeachCourse extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            visible: false,\r\n            courses:[],\r\n        };\r\n        this.formRef= React.createRef();\r\n        this.getFileList=()=>{};\r\n    }\r\n    showModal = () => {\r\n        this.setState({\r\n            visible: true,\r\n        });\r\n    };\r\n    handleCancel = () => {\r\n        this.setState({\r\n            visible: false,\r\n        });\r\n    };\r\n    handleCreateCourse = async (values)=>{\r\n        const fileList = this.getFileList();\r\n        const formData = new FormData();\r\n        if(fileList.length!==0){\r\n            formData.append('cover', fileList[0].originFileObj);\r\n        }\r\n        for(let i in values){\r\n            formData.append(i,values[i]);\r\n        }\r\n        try{\r\n            await Request.createCourse(formData);\r\n            this.handleCancel();\r\n            message.success(\"创建成功\");\r\n            this.getTeachCourse();\r\n        }catch (e) {\r\n            message.error(\"创建失败\");\r\n        }\r\n    };\r\n\r\n    getTeachCourse = async ()=>{\r\n        try{\r\n            const result = await Request.getTeachCourse();\r\n            this.setState({courses:result});\r\n        }catch (e) {\r\n            message.error(\"获取课程信息失败\");\r\n        }\r\n    };\r\n    componentDidMount() {\r\n        this.getTeachCourse();\r\n    }\r\n\r\n    render() {\r\n        const formItemLayout = {\r\n            labelCol: {span:4},\r\n            wrapperCol: {span:16},\r\n        };\r\n        const tailFormItemLayout = {\r\n            wrapperCol: {span:16,offset:4},\r\n        };\r\n\r\n        const createCourseForm=(\r\n            <div>\r\n                <Button type=\"primary\" onClick={this.showModal}>\r\n                    创建课程\r\n                </Button>\r\n                <Modal title=\"创建课程\" onCancel={this.handleCancel}\r\n                    visible={this.state.visible} footer={null}\r\n                >\r\n                    <Form name=\"create-course\" onFinish={this.handleCreateCourse}\r\n                          {...formItemLayout} ref={this.formRef}\r\n                    >\r\n                        <Form.Item name=\"cover\" label=\"封面\" >\r\n                            <PictureUpload fileList={(callback)=>{\r\n                                this.getFileList=callback;\r\n                            }}/>\r\n                        </Form.Item>\r\n                        <Form.Item name=\"name\" label=\"课程名\"  rules={[\r\n                            {required: true,message: '请输入课程名!'},\r\n                        ]}\r\n                        >\r\n                            <Input  />\r\n                        </Form.Item>\r\n                        <Form.Item name=\"teacher\" label=\"教师\"\r\n                                   rules={[{ required: true, message: '请输入课程教师!' }]}\r\n                        >\r\n                            <Input />\r\n                        </Form.Item>\r\n                        <Form.Item name=\"description\" label=\"说明\">\r\n                            <Input />\r\n                        </Form.Item>\r\n                        <Form.Item {...tailFormItemLayout}>\r\n                            <Button type=\"primary\" htmlType=\"submit\"\r\n                                    className=\"login-form-button\" style={{width:\"100%\"}}>\r\n                                创建课程\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Modal>\r\n            </div>\r\n        );\r\n        return (\r\n            <Card style={{height:\"100%\"}} title=\"我教的课\" extra={createCourseForm}>\r\n                <Row gutter={16}>\r\n                    {\r\n                        this.state.courses.map((item)=>{\r\n                            return (\r\n                                <Col span={8} key={item.ID} style={{marginTop:20}}>\r\n                                    <Link to={{pathname:\"/teacher-course/\"+item.ID}} >\r\n                                        <Card hoverable style={{ width: 270 }} bodyStyle={{padding:10}}\r\n                                            cover={<img alt=\"cover\" style={{width:270,height:180}}\r\n                                                        src={Constant.BaseCover+item.cover}/>}\r\n                                        >\r\n                                            <Card.Meta title={item.name} description={\r\n                                                <div>\r\n                                                    <div>{item.teacher}</div>\r\n                                                    <div>{item.description}</div>\r\n                                                </div>\r\n                                            } />\r\n                                        </Card>\r\n                                    </Link>\r\n                                </Col>\r\n                            )\r\n                        })\r\n                    }\r\n                </Row>\r\n            </Card>\r\n        )\r\n    }\r\n}","import {GET_USER} from './action-types'\r\nimport request from  '../api';\r\nexport const getUser = ()=>{\r\n  return async (dispatch)=>{\r\n      const result = await request.getUserByToken();\r\n      dispatch({type:GET_USER,data:result});\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { Layout, Menu,Avatar } from 'antd';\r\nimport {ReadOutlined, UserOutlined} from '@ant-design/icons';\r\nimport \"./user.less\"\r\nimport {connect} from 'react-redux';\r\nimport Constant from \"../../utils/constant\";\r\nimport {Switch,Route,Redirect} from 'react-router-dom';\r\nimport StudyCourse from \"./study-course\";\r\nimport PersonalInfo from \"./personal-info\";\r\nimport TeachCourse from \"./teach-course\";\r\nimport {getUser} from \"../../store/actions\";\r\nconst { Header, Content, Sider } = Layout;\r\nclass User extends React.Component{\r\n    logout=()=>{\r\n        window.localStorage.removeItem(\"token\");\r\n        this.props.history.push(\"/login\");\r\n    };\r\n    componentDidMount(){\r\n        let token = window.localStorage.getItem(\"token\");\r\n        if(token){\r\n            this.props.getUser();\r\n        }\r\n    }\r\n    onUserMenuClick=({key})=>{\r\n        if(key===\"logout\"){\r\n            this.logout();\r\n        }\r\n    };\r\n    onSiderMenuClick=(config)=>{\r\n        let {key} = config;\r\n        for(let i=0;i<this.menuData.length;i++){\r\n            if(this.menuData[i].key===key){\r\n                this.props.history.push(this.menuData[i].path);\r\n                break;\r\n            }\r\n        }\r\n    };\r\n    menuData=[\r\n        {key:\"1\", path:\"/user/study-course\", text:\"我学的课\", icon:<ReadOutlined/>},\r\n        {key:\"2\",path:\"/user/teach-course\", text:\"我教的课\",icon:<ReadOutlined />},\r\n        {key:\"3\",path:\"/user/personal-info\", text:\"我的信息\",icon:<UserOutlined />},\r\n    ];\r\n    //输入路径名或点击返回时能正确显示菜单选中状态\r\n    getSelectedKey=()=> {\r\n        const path = this.props.location.pathname;\r\n        let selectedKey=[];\r\n        this.menuData.forEach((item)=>{\r\n            if(item.path===path){\r\n                selectedKey=[item.key];\r\n            }\r\n        });\r\n        return selectedKey;\r\n    };\r\n    render() {\r\n        let selectedKey = this.getSelectedKey();\r\n        if(selectedKey.length===0){\r\n            selectedKey=['1'];\r\n        }\r\n        const user = this.props.user;\r\n        return (\r\n            <Layout className=\"user\">\r\n                <Header className=\"header\" >\r\n                    <div className=\"logo\">辅助学习平台</div>\r\n                    <Menu theme=\"light\" mode=\"horizontal\" className=\"menu\" onClick={this.onUserMenuClick}>\r\n                        <Menu.SubMenu  className=\"subMenu\" title={<span>\r\n                            <Avatar size={32} src={Constant.BaseAvatar+user.avatar}/>\r\n                            <span style={{marginLeft:10}}>{user.realName}</span>\r\n                        </span>}>\r\n                            <Menu.Item key=\"logout\">退出登录</Menu.Item>\r\n                        </Menu.SubMenu>\r\n                    </Menu>\r\n                </Header>\r\n                <Layout className=\"body\">\r\n                    <Sider className=\"sider\" theme=\"light\" breakpoint=\"lg\" collapsedWidth=\"0\" width=\"250\">\r\n                        <Menu theme=\"light\" mode=\"inline\" defaultSelectedKeys={['1']}\r\n                              selectedKeys={selectedKey} className=\"menu\" onClick={this.onSiderMenuClick}\r\n                        >\r\n                            {\r\n                                this.menuData.map((item)=>{\r\n                                    return (\r\n                                        <Menu.Item key={item.key}>\r\n                                            {item.icon}\r\n                                            <span className=\"nav-text\">{item.text}</span>\r\n                                        </Menu.Item>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </Menu>\r\n                    </Sider>\r\n                    <Content className=\"content\">\r\n                        <Switch>\r\n                            <Redirect from=\"/user\" exact to=\"/user/study-course\"/>\r\n                            <Route path=\"/user/study-course\" component={StudyCourse}/>\r\n                            <Route path=\"/user/teach-course\" component={TeachCourse}/>\r\n                            <Route path=\"/user/personal-info\" component={PersonalInfo}/>\r\n                        </Switch>\r\n                    </Content>\r\n                </Layout>\r\n            </Layout>\r\n        )\r\n    }\r\n}\r\nexport default connect(state=>({user:state.user}),{getUser})(User)","import React from \"react\";\r\nimport {Menu, Layout, message} from \"antd\";\r\nimport Request from \"../../api\"\r\nimport Constant from \"../../utils/constant\";\r\nimport queryString from 'querystring'\r\nconst {Sider,Content}= Layout;\r\nexport default class Home extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.courseId = queryString.parse(props.location.search.slice(1)).courseId;\r\n        this.state= {\r\n            chapters: [],\r\n            selectedChapterId:0,\r\n            selectedVideoName:\"\",\r\n        };\r\n    };\r\n    componentDidMount() {\r\n        this.loadChapterData();\r\n    }\r\n    loadChapterData=async ()=>{\r\n        try{\r\n            const result = await Request.getChapterByCourseId(this.courseId);\r\n            this.setState({chapters:result});\r\n            if(result.length!==0){\r\n                let chapter=result[0];\r\n                this.setState({selectedChapterId:chapter.ID,selectedVideoName:chapter.videoName});\r\n            }else{\r\n                this.setState({selectedVideoName:\"\"})\r\n            }\r\n        }catch (e) {\r\n            console.log(e);\r\n            message.error(\"获取目录失败\");\r\n        }\r\n\r\n    };\r\n    onMenuItemClick=({item})=>{\r\n        let chapter = item.props.record;\r\n        this.setState({selectedChapterId:chapter.ID,selectedVideoName:chapter.videoName});\r\n    };\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <Sider className=\"sider\" theme=\"light\" breakpoint=\"lg\" collapsedWidth=\"0\" width=\"250\">\r\n                    <Menu theme=\"light\" mode=\"inline\" onClick={this.onMenuItemClick}\r\n                          selectedKeys={[this.state.selectedChapterId.toString()]}>\r\n                        {this.state.chapters.map((item)=>{return (\r\n                                    <Menu.Item key={item.ID} record={item}>\r\n                                        <span className=\"nav-text\">{item.chapterName}</span>\r\n                                    </Menu.Item>\r\n                        )})}\r\n                    </Menu>\r\n                </Sider>\r\n                <Content>\r\n                    <div style={{width:\"100%\",height:\"100%\"}}>\r\n                        {\r\n                            this.state.selectedVideoName===\"\"||this.state.selectedVideoName==null?\r\n                                null:(\r\n                                    <video width=\"75%\"  controls style={{marginTop:10,marginLeft:10}}\r\n                                           src={Constant.BaseVideo+this.state.selectedVideoName}/>\r\n                                )\r\n                        }\r\n                    </div>\r\n                </Content>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Table,Button,message} from 'antd';\r\nimport { Resizable } from 'react-resizable';\r\nimport Request from \"../../api\";\r\nimport moment from \"moment\";\r\nimport folder from \"../../assets/folder.png\";\r\nimport queryString from \"querystring\";\r\nconst ResizeableTitle = props => {\r\n    const { onResize, width, ...restProps } = props;\r\n    if (!width) {return <th {...restProps} />;}\r\n    return (\r\n        <Resizable width={width} height={0} onResize={onResize}\r\n                   handle={resizeHandle => (\r\n                <span className={`react-resizable-handle react-resizable-handle-${resizeHandle}`}\r\n                    onClick={e => {e.stopPropagation();}}/>\r\n            )}\r\n            draggableOpts={{ enableUserSelectHack: false }}\r\n        >\r\n            <th {...restProps} />\r\n        </Resizable>\r\n    );\r\n};\r\n\r\nexport default class Resource extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.courseId = queryString.parse(props.location.search.slice(1)).courseId;\r\n        this.parentId = 0;\r\n        this.query=this.getQuery();\r\n        this.state={\r\n            columns:this.fileColumns,\r\n            fileData:[],\r\n        };\r\n    };\r\n    getQuery=()=>{\r\n        const search=this.props.location.search;\r\n        let courseId,classId=0;\r\n        let query=\"\";\r\n        if(search!==\"\"){\r\n            let obj=queryString.parse(search.slice(1));\r\n            courseId=obj.courseId;\r\n            classId=obj.classId;\r\n            query=`courseId=${courseId}&classId=${classId}`;\r\n        }\r\n        return query\r\n    };\r\n    componentDidMount() {\r\n        this.loadFileData();\r\n    }\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if(this.props.location !== prevProps.location){//路由变化重新载入文件数据\r\n            this.loadFileData();\r\n        }\r\n    }\r\n\r\n    fileColumns=[\r\n        {width: 600, title: '文件名', dataIndex: 'filename',\r\n            render:(text,record)=>{\r\n                if(record.localFilename===''){\r\n                    return (\r\n                        <React.Fragment>\r\n                            <img style={{width:32,height:32}} alt='folder' src={folder}/>\r\n                            <span style={{marginLeft:5}}>{text}</span>\r\n                        </React.Fragment>\r\n                    )\r\n                }else{\r\n                    return text;\r\n                }\r\n            }\r\n        },\r\n        {width: 300, title: '创建日期', dataIndex: 'CreatedAt', align: 'center',\r\n            render: (text) => {return moment(text).format('YYYY-MM-DD HH:mm:ss');},\r\n        },\r\n        {width:200,title:'大小',dataIndex:'size',align:'center',\r\n            render:(text)=>{\r\n                let size=parseInt(text);\r\n                if(size===0){return \"\"}\r\n                else if(size<1000){return size+\"B\"}\r\n                else if(size<1000*1000) {size=size/1000;return size+\"KB\";}\r\n                else if(size<1000*1000*1000){size=size/1000/1000;return size+\"MB\";}\r\n                else{size=size/1000/1000/1000;return size+\"GB\";}\r\n            }\r\n        },\r\n        {\r\n            title: '操作', key: 'action',\r\n            render: (text,record) => {\r\n                if(record.localFilename!==\"\"){\r\n                    return (\r\n                        <Button type=\"link\" style={{marginRight:10}}\r\n                                onClick={()=>{this.handleDownloadFile(record.ID)}}>\r\n                            下载\r\n                        </Button>\r\n                    )\r\n                }\r\n            },\r\n        },\r\n    ];\r\n\r\n    handleDownloadFile=async (id)=>{\r\n        try{\r\n            await Request.downloadFile(id);\r\n        }catch (e) {\r\n            message.error(\"下载出错\");\r\n        }\r\n    };\r\n    handleResize = index => (e, { size }) => {\r\n        this.setState(({ columns }) => {\r\n            const nextColumns = [...columns];\r\n            nextColumns[index] = {\r\n                ...nextColumns[index],\r\n                width: size.width,\r\n            };\r\n            return { columns: nextColumns };\r\n        });\r\n    };\r\n\r\n    loadFileData=async ()=>{\r\n      try{\r\n          let search = this.props.location.search;\r\n          if(search!==\"\"){\r\n              this.parentId=queryString.parse(search.slice(1)).parentId;\r\n          }else {\r\n              this.parentId = 0;\r\n          }\r\n          let result = await Request.getChildFile({courseId:this.courseId,parentId:this.parentId});\r\n          result = this.sortFileData(result);\r\n          this.setState({fileData:result});\r\n\r\n      }catch (e) {\r\n          message.error(\"获取文件数据失败\");\r\n      }\r\n    };\r\n    sortFileData(fileData){//使文件夹靠前\r\n        let folder=[];\r\n        let file =[];\r\n        fileData.forEach((item)=>{\r\n            if(item.localFilename===\"\"){\r\n                folder.push(item);\r\n            }else {\r\n                file.push(item);\r\n            }\r\n        });\r\n        fileData=folder.concat(file);\r\n        return fileData;\r\n    };\r\n    components = {\r\n        header: {\r\n            cell: ResizeableTitle,\r\n        },\r\n    };\r\n    render() {\r\n        const columns = this.state.columns.map((col, index) => ({\r\n            ...col,\r\n            onHeaderCell: column => ({\r\n                width: column.width,\r\n                onResize: this.handleResize(index),\r\n            }),\r\n        }));\r\n        return (\r\n            <div>\r\n                <Table bordered  columns={columns} dataSource={this.state.fileData}\r\n                       components={this.components} pagination={false}\r\n                       rowKey={record=>record.ID}\r\n                       onRow={(record)=> {\r\n                           return {\r\n                               onDoubleClick: () => {\r\n                                   if(record.localFilename===\"\"){//代表是文件夹\r\n                                       this.props.history.push({\r\n                                           pathname:`/student-course/resource`,\r\n                                           search:`${this.query}&parentId=${record.ID}`,\r\n                                       });\r\n                                   }\r\n                               },\r\n                           };\r\n                       }}\r\n                />\r\n            </div>\r\n        )\r\n    };\r\n\r\n};","import React from \"react\";\r\nimport {List, message, Card} from 'antd';\r\nimport Request from '../../api';\r\nimport moment from \"moment\";\r\nimport queryString from \"querystring\";\r\nexport default class Notify extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.courseId = queryString.parse(props.location.search.slice(1)).courseId;\r\n        this.state = {\r\n            notifyData:[],\r\n        };\r\n    };\r\n    loadNotifyData=async ()=>{\r\n        try{\r\n            const result = await Request.getNotifyByCourseId(this.courseId);\r\n            this.setState({notifyData:result});\r\n        }catch (e) {\r\n            message.error(\"获取通知失败\");\r\n        }\r\n    };\r\n    componentDidMount() {\r\n        this.loadNotifyData();\r\n    };\r\n    render() {\r\n        return (\r\n            <Card title=\"通知\" bodyStyle={{padding:20}}\r\n                  style={{width:\"80%\",marginLeft:\"auto\",marginRight:\"auto\",height:\"100%\"}}>\r\n                <List itemLayout=\"horizontal\" dataSource={this.state.notifyData}\r\n                    renderItem={item => (\r\n                        <List.Item style={{borderBottom:\"1px solid lightgray\"}} extra={moment(item.CreatedAt).format('YYYY-MM-DD HH:mm:ss')}>\r\n                            <List.Item.Meta title={item.title} description={item.content}/>\r\n                        </List.Item>\r\n                    )}\r\n                />\r\n            </Card>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Button, Card,Row,Col,} from \"antd\";\r\nimport Request from \"../../api\"\r\nimport queryString from \"querystring\";\r\nimport moment from \"moment\";\r\nexport default class Homework extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.classId = queryString.parse(props.location.search.slice(1)).classId;\r\n        this.state={\r\n            homeworkData:[],\r\n        };\r\n    }\r\n    loadHomeworkPublishes=async ()=>{\r\n        try{\r\n            const result = await Request.getHomeworkPublishesWithSubmitByClassId(this.classId);\r\n            this.setState({homeworkData:result})\r\n        }catch (e) {\r\n            console.log(e)\r\n        }\r\n    };\r\n    componentDidMount() {\r\n        this.loadHomeworkPublishes();\r\n    };\r\n    goToFinishHomeworkPage=(item)=>{\r\n        let query=`homeworkPublishId=${item.ID}&homeworkLibId=${item.homeworkLibId}`;\r\n        this.props.history.push({pathname:\"/doHomework\",search:query});\r\n    };\r\n    goToViewHomeworkPage=(item)=>{\r\n        let query=`homeworkPublishId=${item.ID}&homeworkLibId=${item.homeworkLibId}`;\r\n        this.props.history.push({pathname:\"/viewHomework\",search:query});\r\n    };\r\n    getSubmitStatus=(item)=>{\r\n        let now =moment();\r\n        let beginTime=moment(item.beginTime);\r\n        let endTime=moment(item.endTime);\r\n        if(now.isBefore(beginTime)){\r\n            return '未开始';\r\n        }\r\n        if(item.submitRecord.ID===0){//已开始但没有提交记录\r\n            if(now.isAfter(endTime)) {\r\n                return '已过期';\r\n            } else {\r\n                return '待完成';\r\n            }\r\n        }else{\r\n            if(item.submitRecord.mark===1){//已开始已做且被批改\r\n                return '已完成';\r\n            }else{//已开始已做未被批改\r\n                if(now.isBefore(endTime) && item.resubmit===1) {//未到截止日期且允许重复提交\r\n                    return '可重新编辑';\r\n                }else{\r\n                    return \"待批阅\"\r\n                }\r\n            }\r\n        }\r\n    };\r\n    render() {\r\n        return (\r\n            <Card title=\"作业列表\" bodyStyle={{padding:20}} style={{width:\"80%\",height:\"100%\",\r\n                marginLeft:\"auto\",marginRight:\"auto\"}}>\r\n                <div>\r\n                    <Row gutter={16}>\r\n                    {\r\n                        this.state.homeworkData.map((item)=>{\r\n                            let status=this.getSubmitStatus(item);\r\n                            return (<Col span={8} key={item.ID}>\r\n                                    <Card title={item.homeworkLib.name} actions={[\r\n                                        <div style={{display:\"flex\",justifyContent:\"space-between\",paddingLeft:20,paddingRight:20}}>\r\n                                            {status===\"已完成\"?<span><span style={{color:\"red\",fontSize:20}}>{item.submitRecord.totalScore}</span> 分</span>:<div/>}\r\n                                            {( ()=>{\r\n                                                if(status===\"未开始\"||status===\"待批阅\"){\r\n                                                    return <Button disabled={true}>{status}</Button>\r\n                                                }else if(status===\"已完成\"||status===\"已过期\"){\r\n                                                    return <Button onClick={()=>this.goToViewHomeworkPage(item)}>查看</Button>\r\n                                                }else if(status===\"可重新编辑\"){\r\n                                                    return <Button onClick={()=>this.goToFinishHomeworkPage(item)}>重新编辑</Button>\r\n                                                }else if(status===\"待完成\"){\r\n                                                    return <Button onClick={()=>this.goToFinishHomeworkPage(item)}>编辑</Button>\r\n                                                }\r\n                                            })()\r\n                                            }\r\n                                        </div>]\r\n                                    }>\r\n                                        <div>开始时间:{moment(item.beginTime).format(\"YYYY-MM-DD HH:mm:ss\")}</div>\r\n                                        <div>结束时间:{moment(item.endTime).format(\"YYYY-MM-DD HH:mm:ss\")}</div>\r\n                                        <div>总分:{item.homeworkLib.totalScore}分</div>\r\n                                        <div>状态:{status}</div>\r\n                                    </Card>\r\n                            </Col>)\r\n                        })\r\n                    }\r\n                    </Row>\r\n                </div>\r\n            </Card>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Button, Card, Row, Col,} from \"antd\";\r\nimport Request from \"../../api\"\r\nimport queryString from \"querystring\";\r\nimport moment from \"moment\";\r\nexport default class Exam extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.classId = queryString.parse(props.location.search.slice(1)).classId;\r\n        this.state={\r\n            examData:[],\r\n        };\r\n    }\r\n    loadExamPublishes=async ()=>{\r\n        try{\r\n            const result = await Request.getExamPublishesWithSubmitByClassId(this.classId);\r\n            this.setState({examData:result})\r\n        }catch (e) {\r\n            console.log(e)\r\n        }\r\n    };\r\n    componentDidMount() {\r\n        this.loadExamPublishes();\r\n    };\r\n    getSubmitStatus=(item)=>{\r\n        let now =moment();\r\n        let beginTime=moment(item.beginTime);\r\n        let endTime=moment(item.endTime);\r\n        if(now.isBefore(beginTime)){\r\n            return '未开始';\r\n        }\r\n        if(item.submitRecord.ID===0){//未点击开始考试\r\n            if(now.isAfter(endTime)) {\r\n                return '已过期';\r\n            } else {\r\n                return '待完成';\r\n            }\r\n        }else{\r\n            if(item.submitRecord.mark===1){//已点击开始考试且被批改\r\n                return '已完成';\r\n            }\r\n            if(!item.submitRecord.finishTime){//未手动提交\r\n                let startTime=moment(item.submitRecord.startTime);\r\n                let stopTime=startTime.add(item.duration,'minutes');\r\n                if(stopTime.isAfter(now)){\r\n                    return '待完成';\r\n                }else{\r\n                    return '待批阅';\r\n                }\r\n            }\r\n        }\r\n    };\r\n    goToDoExamPage=async (item)=>{\r\n        let query=`examPublishId=${item.ID}&examLibId=${item.examLibId}`;\r\n        this.props.history.push({pathname:\"/doExam\",search:query});\r\n    };\r\n    render() {\r\n        return (\r\n            <Card title=\"考试列表\" bodyStyle={{padding:20}} style={{width:\"80%\",height:\"100%\",\r\n                marginLeft:\"auto\",marginRight:\"auto\"}}>\r\n                <div>\r\n                    <Row gutter={16}>\r\n                        {\r\n                            this.state.examData.map((item)=>{\r\n                                let status=this.getSubmitStatus(item);\r\n                                return (<Col span={8} key={item.ID}>\r\n                                    <Card title={item.examLib.name} actions={[\r\n                                        <div style={{display:\"flex\",justifyContent:\"space-between\",paddingLeft:20,paddingRight:20}}>\r\n                                            {status===\"已完成\"?<span><span style={{color:\"red\",fontSize:20}}>{item.submitRecord.totalScore}</span> 分</span>:<div/>}\r\n                                            {( ()=>{\r\n                                                if(status===\"待完成\"){\r\n                                                    return <Button onClick={()=>this.goToDoExamPage(item)}>开始考试</Button>\r\n                                                }else{\r\n                                                    return <Button disabled={true}>{status}</Button>\r\n                                                }\r\n                                            })()\r\n                                            }\r\n                                        </div>]\r\n                                    }>\r\n                                        <div>开始时间:{moment(item.beginTime).format(\"YYYY-MM-DD HH:mm:ss\")}</div>\r\n                                        <div>结束时间:{moment(item.endTime).format(\"YYYY-MM-DD HH:mm:ss\")}</div>\r\n                                        <div>考试时间:{item.duration}分钟</div>\r\n                                        <div>总分:{item.examLib.totalScore}分</div>\r\n                                    </Card>\r\n                                </Col>)\r\n                            })\r\n                        }\r\n                    </Row>\r\n                </div>\r\n            </Card>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Comment, Avatar, List, Empty, Button, message, Modal, Input, Card} from 'antd';\r\nimport moment from \"moment\";\r\nimport Constant from \"../../../utils/constant\";\r\nimport Request from \"../../../api\"\r\nimport queryString from \"querystring\";\r\nimport {withRouter} from \"react-router\";\r\n\r\nclass CourseComment extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.courseId = parseInt(queryString.parse(props.location.search.slice(1)).courseId.toString());\r\n        this.replyId = 0;\r\n        this.parentId = 0;\r\n        this.replyUserId = 0;\r\n        this.replyUserRealName=\"\";//回复子评论的用户的名字\r\n        this.state = {\r\n            comment: \"\",\r\n            commentData: [],\r\n            commentModal: false,\r\n        };\r\n    }\r\n\r\n    loadCommentData = async () => {\r\n        try {\r\n            const result = await Request.getCommentByCourseId(this.courseId);\r\n            this.setState({commentData: result});\r\n        } catch (e) {\r\n            message.error(\"获取评论失败\");\r\n        }\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.loadCommentData();\r\n\r\n    }\r\n\r\n    showCommentModal = () => {\r\n        this.setState({commentModal: true});\r\n    };\r\n    cancelCommentModal = () => {\r\n        this.setState({commentModal: false,comment:\"\"});\r\n    };\r\n    handleCommentChange = (event) => {\r\n        this.setState({comment: event.target.value});\r\n    };\r\n    handleSubmitComment = async (e) => {\r\n        try {\r\n            let comment = {\r\n                courseId: this.courseId,\r\n                content: this.state.comment,\r\n                parentId: this.parentId,\r\n                replyId: this.replyId,\r\n                replyUserId: this.replyUserId,\r\n            };\r\n            if(this.parentId!==this.replyId){//回复的是子评论\r\n                comment.content=`回复${this.replyUserRealName}:`+this.state.comment;\r\n            }\r\n            await Request.createComment(comment);\r\n            this.cancelCommentModal();\r\n            this.loadCommentData();\r\n        } catch (e) {\r\n            message.error(\"发布失败\");\r\n        }\r\n    };\r\n    createComment=async ()=>{\r\n        this.replyId = 0;\r\n        this.parentId = 0;\r\n        this.replyUserId = 0;\r\n        this.showCommentModal();\r\n    };\r\n    replyParentComment=async (item)=>{\r\n        this.replyId = item.ID;\r\n        this.parentId = item.ID;\r\n        this.replyUserId = item.user.ID;\r\n        this.showCommentModal();\r\n    };\r\n    replyChildComment=async (item)=>{\r\n        this.replyId = item.ID;\r\n        this.parentId = item.parentId;\r\n        this.replyUserId = item.user.ID;\r\n        this.replyUserRealName=item.user.realName;\r\n        this.showCommentModal();\r\n    };\r\n    render() {\r\n        return (\r\n            <Card title={`${this.state.commentData.length}条讨论`} bodyStyle={{padding:20}}\r\n                  extra={<Button type=\"primary\" onClick={this.createComment}>\r\n                            添加评论\r\n                        </Button>}\r\n            >\r\n                <Modal title=\"发布评论\" onCancel={this.cancelCommentModal}\r\n                           visible={this.state.commentModal} onOk={this.handleSubmitComment}>\r\n                    <Input.TextArea value={this.state.comment} onChange={this.handleCommentChange} rows={5}/>\r\n                </Modal>\r\n                <div>\r\n                    <List itemLayout=\"horizontal\" dataSource={this.state.commentData}\r\n                          renderItem={item => this.state.commentData.length === 0 ?\r\n                              (<Empty image={Empty.PRESENTED_IMAGE_SIMPLE}/>) : (\r\n                                  <li>\r\n                                      <Comment\r\n                                          actions={[<Button style={{padding:0}} type=\"link\" onClick={()=>{this.replyParentComment(item)}}>回复</Button>]}\r\n                                          author={<span style={{color:\"black\"}}>{item.user.realName}</span>}\r\n                                               avatar={<Avatar src={item.user.avatar === \"\" ? \"\" : Constant.BaseAvatar + item.user.avatar}/>}\r\n                                               content={item.content}\r\n                                          datetime={<span style={{color:\"black\"}}>{moment(item.CreatedAt).format('YYYY-MM-DD HH:mm:ss')}</span>}\r\n                                      >\r\n                                          {(() => {\r\n                                              if (item.children.length === 0) return null;\r\n                                              else {\r\n                                                  return item.children.map((subItem) => {\r\n                                                      return (\r\n                                                          <Comment key={subItem.ID}\r\n                                                                   actions={[\r\n                                                                       <Button style={{padding:0}} onClick={()=>{this.replyChildComment(subItem)}} type=\"link\">\r\n                                                                            回复\r\n                                                                        </Button>]}\r\n                                                                   author={<span style={{color:\"black\"}}>{subItem.user.realName}</span>}\r\n                                                                   avatar={<Avatar src={subItem.user.avatar === \"\" ? \"\" : Constant.BaseAvatar + subItem.user.avatar}/>}\r\n                                                                   content={subItem.content}\r\n                                                                   datetime={<span style={{color:\"black\"}}>{moment(subItem.CreatedAt).format('YYYY-MM-DD HH:mm:ss')}</span>}\r\n                                                          />\r\n                                                      )\r\n                                                  })\r\n                                              }\r\n                                          })()}\r\n                                      </Comment>\r\n                                  </li>\r\n                              )}\r\n                    />\r\n                </div>\r\n\r\n            </Card>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(CourseComment);","import React from \"react\";\r\nimport {Avatar, Button, Card, Comment, Empty, List, message, Popconfirm} from \"antd\";\r\nimport Constant from \"../../../utils/constant\";\r\nimport moment from \"moment\";\r\nimport Request from \"../../../api\";\r\nimport queryString from \"querystring\";\r\nimport {withRouter} from \"react-router\";\r\n\r\nclass MyComment extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.courseId = parseInt(queryString.parse(props.location.search.slice(1)).courseId.toString());\r\n        this.state = {\r\n            commentData: [],\r\n        };\r\n    }\r\n    loadCommentData=async ()=>{\r\n        try {\r\n            const result = await Request.getCommentByUserId(this.courseId);\r\n            this.setState({commentData: result});\r\n        } catch (e) {\r\n            message.error(\"获取评论失败\");\r\n        }\r\n    };\r\n    deleteComment=async (item)=>{\r\n      try {\r\n          await Request.deleteCommentById(item.ID);\r\n          this.loadCommentData();\r\n          message.success(\"已删除\");\r\n      }catch (e) {\r\n          message.error(\"删除失败\");\r\n      }\r\n    };\r\n    componentDidMount() {\r\n        this.loadCommentData();\r\n    }\r\n    render() {\r\n        return(\r\n            <Card>\r\n                <List itemLayout=\"horizontal\" dataSource={this.state.commentData}\r\n                      renderItem={item => this.state.commentData.length === 0 ?\r\n                          (<Empty image={Empty.PRESENTED_IMAGE_SIMPLE}/>) :\r\n                          (<li>\r\n                              <Comment actions={[<Popconfirm title=\"确定删除\" onConfirm={()=>{this.deleteComment(item)}}>\r\n                                      <Button style={{padding:0}} type=\"link\">删除</Button>\r\n                                  </Popconfirm>]}\r\n                                  author={<span style={{color:\"black\"}}>{item.user.realName}</span>}\r\n                                  avatar={<Avatar src={item.user.avatar === \"\" ? \"\" : Constant.BaseAvatar + item.user.avatar}/>}\r\n                                  content={item.content}\r\n                                  datetime={<span style={{color:\"black\"}}>{moment(item.CreatedAt).format('YYYY-MM-DD HH:mm:ss')}</span>}\r\n                              >\r\n                              </Comment>\r\n                          </li>)\r\n                      }\r\n                />\r\n            </Card>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(MyComment);","import React from \"react\";\r\nimport {Avatar, Card, Comment, Empty, List, message, } from \"antd\";\r\nimport Constant from \"../../../utils/constant\";\r\nimport moment from \"moment\";\r\nimport Request from \"../../../api\";\r\nimport queryString from \"querystring\";\r\nimport {withRouter} from \"react-router\";\r\n\r\nclass ReplyToMe extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.courseId = queryString.parse(props.location.search.slice(1)).courseId;\r\n        this.state = {\r\n            commentData: [],\r\n        };\r\n    }\r\n    loadCommentData=async ()=>{\r\n        try {\r\n            const result = await Request.getCommentReplyToUser(this.courseId);\r\n            this.setState({commentData: result});\r\n        } catch (e) {\r\n            message.error(\"获取评论失败\");\r\n        }\r\n    };\r\n    componentDidMount() {\r\n        this.loadCommentData();\r\n    }\r\n    render() {\r\n        return(\r\n            <Card>\r\n                <List itemLayout=\"horizontal\" dataSource={this.state.commentData}\r\n                      renderItem={item => this.state.commentData.length === 0 ?\r\n                          (<Empty image={Empty.PRESENTED_IMAGE_SIMPLE}/>) :\r\n                          (<li>\r\n                              <Comment\r\n                                  author={<span style={{color:\"black\"}}>{item.user.realName}</span>}\r\n                                  avatar={<Avatar src={item.user.avatar === \"\" ? \"\" : Constant.BaseAvatar + item.user.avatar}/>}\r\n                                  content={item.content}\r\n                                  datetime={<span style={{color:\"black\"}}>{moment(item.CreatedAt).format('YYYY-MM-DD HH:mm:ss')}</span>}\r\n                              >\r\n                              </Comment>\r\n                          </li>)\r\n                      }\r\n                />\r\n            </Card>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(ReplyToMe);","import React from \"react\";\r\nimport {Layout, Menu} from \"antd\";\r\nimport CourseComment from \"./course-comment\";\r\nimport MyComment from \"./my-comment\";\r\nimport ReplyToMe from \"./replyToMe\";\r\nconst {Content,Sider } = Layout;\r\nexport default class Discuss extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.menuData=[\r\n            {key:\"1\", text:\"课程讨论\"},\r\n            {key:\"2\", text:\"我发表的\"},\r\n            {key:\"3\",text:\"回复我的\"},\r\n        ];\r\n        this.state={\r\n            key:\"1\",\r\n        }\r\n\r\n    }\r\n    onMenuClick=({key})=> {\r\n        this.setState({key:key})\r\n    };\r\n    render() {\r\n        return(\r\n            <React.Fragment>\r\n                <Sider className=\"sider\" theme=\"light\" breakpoint=\"lg\" collapsedWidth=\"0\" width=\"250\">\r\n                    <Menu theme=\"light\" mode=\"inline\" onClick={this.onMenuClick}\r\n                          selectedKeys={[this.state.key]} >\r\n                        {this.menuData.map((item)=>{return (\r\n                            <Menu.Item key={item.key}>\r\n                                <span>{item.text}</span>\r\n                            </Menu.Item>\r\n                        )})}\r\n                    </Menu>\r\n                </Sider>\r\n                <Content>\r\n                    {this.state.key==='1'?<CourseComment/>:null}\r\n                    {this.state.key==='2'?<MyComment/>:null}\r\n                    {this.state.key==='3'?<ReplyToMe/>:null}\r\n                </Content>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Layout, Menu} from \"antd\";\r\nimport {Link,Route, Switch} from \"react-router-dom\";\r\nimport \"./student-course.less\";\r\nimport Home from \"./home\";\r\nimport Resource from \"./resource\";\r\nimport Notify from \"./notify\";\r\nimport Homework from \"./homework\";\r\nimport Exam from \"./exam\";\r\nimport Discuss from \"./discuss/discuss\";\r\nimport queryString from 'querystring'\r\nimport Request from \"../../api\";\r\nimport github from \"../../assets/github.svg\"\r\nimport Constant from \"../../utils/constant\";\r\nconst { Header } = Layout;\r\nexport default class StudentCourse extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.parentPath=\"/student-course\";\r\n        this.query=queryString.parse(props.location.search.slice(1));\r\n        this.state={\r\n          courseName:\"\",\r\n        };\r\n    }\r\n    menuData=[\r\n        {key:\"home\", path:\"/home\", text:\"首页\"},\r\n        {key:\"resource\",path:\"/resource\", text:\"资料\"},\r\n        {key:\"notify\",path:\"/notify\", text:\"通知\"},\r\n        {key:\"homework\",path:\"/homework\", text:\"作业\"},\r\n        {key:\"exam\",path:\"/exam\", text:\"考试\"},\r\n        {key:\"discuss\",path:\"/discuss\", text:\"讨论\"},\r\n    ];\r\n    componentDidMount() {\r\n        this.loadCourseData();\r\n    }\r\n    loadCourseData=async ()=>{\r\n        try{\r\n            const result= await Request.getCourseById(parseInt(this.query.courseId.toString()));\r\n            this.setState({courseName:result.name});\r\n        }catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n    goToUserPage=()=>{\r\n      this.props.history.push(\"/user\");\r\n    };\r\n    render() {\r\n\r\n        return (\r\n            <Layout className=\"student-course\" >\r\n                <Header className=\"header\" style={{marginBottom:1}}>\r\n                    <div onClick={this.goToUserPage} className=\"course-name\">{this.state.courseName}</div>\r\n                    <a style={{marginLeft:20}} href={Constant.Github}><img alt=\"github\" src={github}/></a>\r\n                    <Menu theme=\"light\" mode=\"horizontal\"\r\n                          className=\"menu\">\r\n                        {\r\n                            this.menuData.map((item)=>{\r\n                                return (\r\n                                    <Menu.Item key={item.key}>\r\n                                        <Link to={{pathname:this.parentPath+item.path,search:`courseId=${this.query.courseId}&classId=${this.query.classId}`}}>\r\n                                            <span className=\"nav-text\">{item.text}</span>\r\n                                        </Link>\r\n                                    </Menu.Item>\r\n                                )\r\n                            })\r\n                        }\r\n                    </Menu>\r\n                </Header>\r\n                <Layout>\r\n                    <Switch>\r\n                        <Route path=\"/student-course/home\" component={Home}/>\r\n                        <Route path=\"/student-course/resource\" component={Resource}/>\r\n                        <Route path=\"/student-course/notify\" component={Notify}/>\r\n                        <Route path=\"/student-course/homework\" component={Homework}/>\r\n                        <Route path=\"/student-course/exam\" component={Exam}/>\r\n                        <Route path=\"/student-course/discuss\" component={Discuss}/>\r\n                    </Switch>\r\n                </Layout>\r\n            </Layout>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Menu, Layout, message, Button, Form, Input, Modal, Popconfirm, Upload} from \"antd\";\r\nimport Request from \"../../api\"\r\nimport {UploadOutlined} from \"@ant-design/icons\";\r\nimport Constant from \"../../utils/constant\";\r\nconst {Sider,Content}= Layout;\r\nexport default class Home extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.courseId = parseInt(props.match.params.id);\r\n        this.state= {\r\n            chapters: [],\r\n            addChapterModal: false,\r\n            updateChapterModal: false,\r\n            uploadVideoModal: false,\r\n            uploading: false,\r\n            fileList:[],\r\n            selectedChapterId:0,\r\n            selectedVideoName:\"\",\r\n        };\r\n    };\r\n    componentDidMount() {\r\n        this.loadChapterData();\r\n    }\r\n    loadChapterData=async ()=>{\r\n        try{\r\n            const result = await Request.getChapterByCourseId(this.courseId);\r\n            this.setState({chapters:result});\r\n            if(result.length!==0){\r\n                if(this.state.selectedChapterId===0){\r\n                    let chapter=result[0];\r\n                    this.setState({\r\n                        selectedChapterId:chapter.ID,\r\n                        selectedVideoName:chapter.videoName,\r\n                    });\r\n                }else{\r\n                    result.forEach((item)=>{\r\n                        if(item.ID===this.state.selectedChapterId){\r\n                            this.setState({selectedVideoName:item.videoName})\r\n                        }\r\n                    })\r\n                }\r\n            }else {\r\n                this.setState({selectedChapterId:0,selectedVideoName:\"\"})\r\n            }\r\n\r\n        }catch (e) {\r\n            message.error(\"获取目录失败\");\r\n        }\r\n    };\r\n    addChapter= async (values)=>{\r\n        try{\r\n            await Request.createChapter({\r\n                courseId:this.courseId,\r\n                chapterName:values.chapterName\r\n            });\r\n            this.setState({addChapterModal:false});\r\n            this.loadChapterData();\r\n        }catch (e) {\r\n            message.error(\"创建失败\");\r\n        }\r\n\r\n    };\r\n    updateChapterName=async (values)=>{\r\n        try{\r\n            await Request.updateChapterName({\r\n                id:this.state.selectedChapterId,\r\n                chapterName:values.chapterName\r\n            });\r\n            this.setState({updateChapterModal:false});\r\n            this.loadChapterData();\r\n        }catch (e) {\r\n            message.error(\"修改目录失败\");\r\n        }\r\n    };\r\n    updateChapterVideo=async ()=>{\r\n        const { fileList } = this.state;\r\n        const formData = new FormData();\r\n        if(fileList.length!==0){\r\n            formData.append('video', fileList[0].originFileObj);\r\n        }\r\n        formData.append('id',this.state.selectedChapterId);\r\n        this.setState({uploading: true,});\r\n        try {\r\n            await Request.updateChapterVideo(formData);\r\n            this.setState({\r\n                uploading: false,\r\n                fileList: [],\r\n                uploadVideoModal:false,\r\n            });\r\n            message.success(\"上传视频成功\");\r\n            this.loadChapterData();\r\n        }catch (e) {\r\n            message.error(\"上传视频失败\");\r\n            this.setState({uploading:false});\r\n        }\r\n    };\r\n    onMenuItemClick=({item})=>{\r\n        let chapter = item.props.record;\r\n        this.setState({\r\n            selectedChapterId:chapter.ID,\r\n            selectedVideoName:chapter.videoName,\r\n        });\r\n    };\r\n\r\n    deleteChapterVideo=async ()=>{\r\n        try{\r\n            await Request.deleteChapterVideoById(this.state.selectedChapterId);\r\n            message.success(\"删除视频成功\");\r\n            this.loadChapterData();\r\n        }catch (e) {\r\n            message.error(\"删除视频失败\");\r\n        }\r\n    };\r\n    deleteChapter=async ()=>{\r\n        try{\r\n            await Request.deleteChapterById(this.state.selectedChapterId);\r\n            this.setState({selectedChapterId:0});\r\n            message.success(\"删除目录成功\");\r\n            this.loadChapterData();\r\n        }catch (e) {\r\n            message.error(\"删除目录失败\");\r\n        }\r\n    };\r\n    cancelAddChapterModal=()=>{this.setState({addChapterModal:false})};\r\n    showAddChapterModal=()=>{this.setState({addChapterModal:true})};\r\n    cancelUpdateChapterModal=()=>{this.setState({updateChapterModal:false})};\r\n    showUpdateChapterModal=()=>{this.setState({updateChapterModal:true})};\r\n    cancelUploadVideoModal=()=>{this.setState({uploadVideoModal:false})};\r\n    showUploadVideoModal=()=>{this.setState({uploadVideoModal:true})};\r\n\r\n    beforeUpload = () => {\r\n        return false;\r\n    };\r\n    onRemove = () => {\r\n        this.setState({fileList:[]});\r\n    };\r\n    handleChange=(info)=>{\r\n        let fileList = [...info.fileList];\r\n        fileList = fileList.slice(-1);\r\n        this.setState({fileList:fileList});\r\n    };\r\n\r\n    render() {\r\n        const formItemLayout = {\r\n            labelCol: {span:4},\r\n            wrapperCol: {span:16},\r\n        };\r\n        const tailFormItemLayout = {\r\n            wrapperCol: {span:16,offset:4},\r\n        };\r\n        return (\r\n            <React.Fragment>\r\n                <Sider className=\"sider\" theme=\"light\" breakpoint=\"lg\" collapsedWidth=\"0\" width=\"250\">\r\n                    <Menu theme=\"light\" mode=\"inline\" onClick={this.onMenuItemClick}\r\n                          selectedKeys={[this.state.selectedChapterId.toString()]}>\r\n                        {this.state.chapters.map((item)=>{return (\r\n                                    <Menu.Item key={item.ID} record={item}>\r\n                                        <span className=\"nav-text\">{item.chapterName}</span>\r\n                                    </Menu.Item>\r\n                        )})}\r\n                    </Menu>\r\n                </Sider>\r\n                <Content className=\"content\">\r\n                    <div>\r\n                        <div style={{display:\"flex\",justifyContent:\"flex-end\"}}>\r\n                            <div>\r\n                                <Button type=\"primary\" style={{margin:5}}  onClick={this.showAddChapterModal}>添加目录</Button>\r\n                                <Modal title=\"添加目录\" onCancel={this.cancelAddChapterModal}\r\n                                       visible={this.state.addChapterModal} footer={null}>\r\n                                    <Form name=\"create-chapter\" onFinish={this.addChapter} {...formItemLayout}>\r\n                                        <Form.Item name=\"chapterName\" label=\"名称\"  rules={[{required: true,message: '请输入名称!'},]}>\r\n                                            <Input  />\r\n                                        </Form.Item>\r\n                                        <Form.Item {...tailFormItemLayout}>\r\n                                            <Button type=\"primary\" htmlType=\"submit\" style={{width:\"100%\"}}>确认</Button>\r\n                                        </Form.Item>\r\n                                    </Form>\r\n                                </Modal>\r\n                            </div>\r\n                            <div>\r\n                                <Button type=\"primary\" style={{margin:5}} disabled={this.state.chapters.length===0} onClick={this.showUpdateChapterModal}>修改名称</Button>\r\n                                <Modal title=\"修改目录名\" onCancel={this.cancelUpdateChapterModal}\r\n                                       visible={this.state.updateChapterModal} footer={null}>\r\n                                    <Form name=\"update-chapter\" onFinish={this.updateChapterName}{...formItemLayout}>\r\n                                        <Form.Item name=\"chapterName\" label=\"名称\"  rules={[{required: true,message: '请输入目录名!'},]}>\r\n                                            <Input  />\r\n                                        </Form.Item>\r\n                                        <Form.Item {...tailFormItemLayout}>\r\n                                            <Button type=\"primary\" htmlType=\"submit\" style={{width:\"100%\"}}>\r\n                                                确认修改\r\n                                            </Button>\r\n                                        </Form.Item>\r\n                                    </Form>\r\n                                </Modal>\r\n                            </div>\r\n                            <div>\r\n                                <Button type=\"primary\" style={{margin:5}} onClick={this.showUploadVideoModal}\r\n                                        disabled={this.state.chapters.length===0||\r\n                                        (this.state.selectedVideoName!=null&&\r\n                                        this.state.selectedVideoName!==\"\")}>\r\n                                    上传视频\r\n                                </Button>\r\n                                <Modal title=\"上传视频\" onCancel={this.cancelUploadVideoModal}\r\n                                       visible={this.state.uploadVideoModal} footer={null}>\r\n                                    <Upload  listType=\"picture\" multiple={false} onChange={this.handleChange}\r\n                                             onRemove={this.onRemove}\r\n                                            beforeUpload={this.beforeUpload} fileList={this.state.fileList}>\r\n                                        <Button>\r\n                                            <UploadOutlined /> 选择视频\r\n                                        </Button>\r\n                                    </Upload>\r\n                                    <Button type=\"primary\" onClick={this.updateChapterVideo}\r\n                                            disabled={this.state.fileList.length===0} loading={this.state.uploading}\r\n                                            style={{ marginTop: 16 }}\r\n                                    >\r\n                                        {this.state.uploading ? '上传中' : '开始上传'}\r\n                                    </Button>\r\n                                </Modal>\r\n                            </div>\r\n                            <Popconfirm title=\"确定删除视频\" placement={\"bottom\"} onConfirm={() => {this.deleteChapterVideo()}}>\r\n                                <Button type=\"primary\" style={{margin:5}}\r\n                                        disabled={this.state.chapters.length===0||\r\n                                        this.state.selectedVideoName===\"\"||\r\n                                        this.state.selectedVideoName==null} >\r\n                                    删除视频\r\n                                </Button>\r\n                            </Popconfirm>\r\n                            <Popconfirm title=\"确定删除目录\" placement={\"bottom\"} onConfirm={() => {this.deleteChapter()}}>\r\n                                <Button type=\"primary\" disabled={this.state.chapters.length===0} style={{margin:5}}>删除目录</Button>\r\n                            </Popconfirm>\r\n                        </div>\r\n                        <div style={{width:\"100%\",height:\"100%\"}}>\r\n                                {\r\n                                    this.state.selectedVideoName===\"\"||this.state.selectedVideoName==null?\r\n                                        null:(\r\n                                        <video width=\"75%\"  controls style={{marginTop:10,marginLeft:10}}\r\n                                               src={Constant.BaseVideo+this.state.selectedVideoName}/>\r\n                                    )\r\n                                }\r\n                        </div>\r\n                    </div>\r\n                </Content>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Card, Layout, Menu, Button, Table, message, Space, Popconfirm, Form, Input, Modal} from \"antd\";\r\nimport {PlusOutlined} from \"@ant-design/icons\";\r\nimport Request from \"../../api\";\r\nconst {Sider,Content}= Layout;\r\nexport default class Classes extends React.Component{\r\n    columns=[\r\n        {title: '帐号', dataIndex:'email',width:\"20%\",align:'center'},\r\n        {title: '姓名', dataIndex:'realName',width:\"10%\",align:'center'},\r\n        {title:'学号',dataIndex:'number',width:\"10%\",align:'center'},\r\n        {title:'性别',dataIndex:'sex',width:\"10%\",align:'center',\r\n            render:(text)=>{\r\n                if(text===1) return '男';\r\n                else if(text===2) return '女';\r\n            }\r\n        },\r\n        {title:'操作',key:'action',width:\"20%\",align:'center',\r\n            render: (text,record) => {\r\n                return (\r\n                    <Popconfirm title=\"确定删除\" onConfirm={() => {this.deleteClassMember(record)}}>\r\n                        <Button style={{padding:0}} type=\"link\">\r\n                            移除\r\n                        </Button>\r\n                    </Popconfirm>\r\n                )\r\n            },\r\n        }\r\n    ];\r\n    constructor(props) {\r\n        super(props);\r\n        this.courseId = parseInt(props.match.params.id);\r\n        this.state={\r\n            selectedClass:{ID:0,className:\"\",classCode:\"\"},\r\n            classes:[],\r\n            users:[],\r\n            createClassModal:false,\r\n        }\r\n    }\r\n    deleteClassMember=async (record)=>{\r\n        try{\r\n            let classId=this.state.selectedClass.ID;\r\n            await Request.deleteClassMember({\r\n                userId:record.ID,\r\n                classId:classId\r\n            });\r\n            message.success(\"已删除\");\r\n            this.loadClassMemberData(classId);\r\n        } catch (e) {\r\n            message.error(\"删除失败\");\r\n        }\r\n    };\r\n    loadClassMemberData=async (classId)=>{\r\n        try{\r\n            const result=await Request.getUsersByClassId(classId);\r\n            this.setState({users:result});\r\n        }catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n    loadClassData=async ()=>{\r\n        try{\r\n            const result=await Request.getClassesByCourseId(this.courseId);\r\n            if(result.length!==0){\r\n                this.setState({selectedClass:result[0]});\r\n                this.loadClassMemberData(result[0].ID);\r\n            }\r\n            this.setState({classes:result});\r\n        }catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n    onMenuItemClick=({item})=>{\r\n        this.setState({selectedClass:item.props.record});\r\n        this.loadClassMemberData(item.props.record.ID);\r\n    };\r\n    showCreateClassModal=()=>{\r\n      this.setState({createClassModal:true});\r\n    };\r\n    cancelCreateClassModal=()=>{\r\n        this.setState({createClassModal:false});\r\n    };\r\n    createClass=async (values)=>{\r\n        try{\r\n            await Request.createClass({courseId:this.courseId,className:values.className});\r\n            this.cancelCreateClassModal();\r\n            message.success(\"创建成功\");\r\n            this.loadClassData();\r\n        }catch (e) {\r\n            message.error(\"创建失败\");\r\n        }\r\n    };\r\n    componentDidMount() {\r\n        this.loadClassData();\r\n    }\r\n\r\n    render() {\r\n        const formItemLayout = {labelCol: {span:4}, wrapperCol: {span:16}};\r\n        const tailFormItemLayout = {wrapperCol: {span:16,offset:4}};\r\n        const cardTitle=(\r\n            <span>\r\n                {this.state.selectedClass.ID===0?null:\r\n                    <Space size={\"large\"}>\r\n                        <span>\r\n                            班级名称:{this.state.selectedClass.className}\r\n                        </span>\r\n                        <span>\r\n                            班级代码:{this.state.selectedClass.classCode}\r\n                        </span>\r\n                    </Space>\r\n                }\r\n            </span>\r\n        );\r\n        const cardExtra=(\r\n            <Button icon={<PlusOutlined />}  onClick={this.showCreateClassModal}>\r\n                创建班级\r\n            </Button>\r\n        );\r\n        return (\r\n            <React.Fragment>\r\n                <Modal title=\"创建班级\" onCancel={this.cancelCreateClassModal}\r\n                       visible={this.state.createClassModal} footer={null}>\r\n                    <Form name=\"update-chapter\" onFinish={this.createClass}{...formItemLayout}>\r\n                        <Form.Item name=\"className\" label=\"名称\"  rules={[{required: true,message: '请输入班级名'},]}>\r\n                            <Input  />\r\n                        </Form.Item>\r\n                        <Form.Item {...tailFormItemLayout}>\r\n                            <Button type=\"primary\" htmlType=\"submit\" style={{width:\"100%\"}}>\r\n                                确认创建\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Modal>\r\n                <Sider className=\"sider\" theme=\"light\" breakpoint=\"lg\" collapsedWidth=\"0\" width=\"250\">\r\n                    <Menu theme=\"light\" mode=\"inline\" onClick={this.onMenuItemClick}\r\n                          selectedKeys={[this.state.selectedClass.ID.toString()]}>\r\n                        {this.state.classes.map((item)=>{return (\r\n                            <Menu.Item key={item.ID} record={item}>\r\n                                <span className=\"nav-text\">{item.className}</span>\r\n                            </Menu.Item>\r\n                        )})}\r\n                    </Menu>\r\n                </Sider>\r\n                <Content className=\"content\">\r\n                    <Card title={cardTitle} style={{height:\"100%\"}} extra={cardExtra}>\r\n                        <Table bordered  columns={this.columns} dataSource={this.state.users}\r\n                               pagination={false} rowKey={record=>record.ID}\r\n                        />\r\n                    </Card>\r\n                </Content>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Table, Popconfirm, Button, Modal, Form, Input,Upload,message} from 'antd';\r\nimport { UploadOutlined } from '@ant-design/icons';\r\nimport './teacher-course.less'\r\nimport Request from \"../../api\";\r\nimport moment from \"moment\";\r\nimport folder from \"../../assets/folder.png\";\r\nimport queryString from \"querystring\";\r\nexport default class Resource extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.courseId = parseInt(props.match.params.id);\r\n        this.parentId = 0;\r\n        this.state={\r\n            columns:this.fileColumns,\r\n            newFolderVisible:false,\r\n            newFileVisible:false,\r\n            fileList: [],\r\n            uploading: false,\r\n            fileData:[],\r\n        };\r\n    };\r\n    componentDidMount() {\r\n        this.loadFileData();\r\n    }\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if(this.props.location !== prevProps.location){//路由变化重新载入文件数据\r\n            this.loadFileData();\r\n        }\r\n    }\r\n    fileColumns=[\r\n        {width: 600, title: '文件名', dataIndex: 'filename',\r\n            render:(text,record)=>{\r\n                if(record.localFilename===''){\r\n                    return (\r\n                        <React.Fragment>\r\n                            <img style={{width:32,height:32}} alt='folder' src={folder}/>\r\n                            <span style={{marginLeft:5}}>{text}</span>\r\n                        </React.Fragment>\r\n                    )\r\n                }else{\r\n                    return text;\r\n                }\r\n            }\r\n        },\r\n        {width: 300, title: '创建日期', dataIndex: 'CreatedAt', align: 'center',\r\n            render: (text) => {return moment(text).format('YYYY-MM-DD HH:mm:ss');},\r\n        },\r\n        {width:200,title:'大小',dataIndex:'size',align:'center',\r\n            render:(text)=>{\r\n                let size=parseInt(text);\r\n                if(size===0){return \"\"}\r\n                else if(size<1000){return size+\"B\"}\r\n                else if(size<1000*1000) {size=size/1000;return size+\"KB\";}\r\n                else if(size<1000*1000*1000){size=size/1000/1000;return size+\"MB\";}\r\n                else{size=size/1000/1000/1000;return size+\"GB\";}\r\n            }\r\n        },\r\n        {\r\n            title: '操作', key: 'action',\r\n            render: (text,record) => {\r\n                if(record.localFilename!==\"\"){\r\n                    return (\r\n                        <React.Fragment>\r\n                            <Button type=\"link\" style={{marginRight:10}} onClick={()=>{this.handleDownloadFile(record.ID)}}>下载</Button>\r\n                            <Popconfirm title=\"确定删除\" onConfirm={() => {this.handleDeleteFile(record.ID)}}>\r\n                                <Button type=\"link\">删除</Button>\r\n                            </Popconfirm>\r\n                        </React.Fragment>\r\n                    )\r\n                }else{\r\n                    return (\r\n                        <Popconfirm title=\"确定删除\" onConfirm={() => {this.handleDeleteFile(record.ID)}}>\r\n                            <Button type=\"link\">删除</Button>\r\n                        </Popconfirm>\r\n                    )\r\n                }\r\n\r\n            },\r\n        },\r\n    ];\r\n\r\n    handleDownloadFile=async (id)=>{\r\n        try{\r\n            await Request.downloadFile(id);\r\n        }catch (e) {\r\n            message.error(\"下载出错\");\r\n        }\r\n    };\r\n    handleDeleteFile=async (id)=>{\r\n        try{\r\n            await Request.deleteFile(id);\r\n            message.success(\"删除成功\");\r\n            this.loadFileData();\r\n        }catch (e) {\r\n            message.error(\"删除失败\")\r\n        }\r\n\r\n    };\r\n    showNewFolderModal=()=>{this.setState({newFolderVisible:true});};\r\n    showNewFileModal=()=>{this.setState({newFileVisible:true,});};\r\n    handleNewFolderCancel=()=>{this.setState({newFolderVisible:false});};\r\n    handleNewFileCancel=()=>{this.setState({newFileVisible:false});};\r\n    handleCreateFolder=async (values)=>{\r\n        try{\r\n            let file = {folderName:values.folderName,courseId:this.courseId,parentId:this.parentId};\r\n            await Request.createFolder(file);\r\n            this.handleNewFolderCancel();\r\n            this.loadFileData();\r\n            message.success(\"创建成功\");\r\n        }catch (e) {\r\n            message.error(\"创建失败\");\r\n        }\r\n    };\r\n    handleCreateNewFile=async ()=>{\r\n        const { fileList } = this.state;\r\n        const formData = new FormData();\r\n        fileList.forEach(file => {\r\n            formData.append('file[]', file);\r\n        });\r\n        formData.append(\"courseId\",this.courseId.toString());\r\n        formData.append(\"parentId\",this.parentId);\r\n        this.setState({uploading: true,});\r\n        try{\r\n            await Request.createFile(formData);\r\n            this.setState({uploading:false,fileList:[]});\r\n            this.handleNewFileCancel();\r\n            this.loadFileData();\r\n            message.success(\"上传成功\");\r\n        }catch (e) {\r\n            message.error(\"上传失败\");\r\n        }\r\n    };\r\n    loadFileData=async ()=>{\r\n      try{\r\n          let search = this.props.location.search;\r\n          if(search!==\"\"){\r\n              this.parentId=queryString.parse(search.slice(1)).parentId;\r\n          }else {\r\n              this.parentId = 0;\r\n          }\r\n          let result = await Request.getChildFile({courseId:this.courseId,parentId:this.parentId});\r\n          result = this.sortFileData(result);\r\n          this.setState({fileData:result});\r\n\r\n      }catch (e) {\r\n          console.log(e);\r\n          message.error(\"获取文件数据失败\");\r\n      }\r\n    };\r\n    onRemove = (file) => {\r\n        this.setState(state => {\r\n            const index = state.fileList.indexOf(file);\r\n            const newFileList = state.fileList.slice();\r\n            newFileList.splice(index, 1);\r\n            return {\r\n                fileList: newFileList,\r\n            };\r\n        });\r\n    };\r\n    beforeUpload = file => {\r\n        this.setState(state => ({\r\n            fileList: [...state.fileList, file],\r\n        }));\r\n        return false;\r\n    };\r\n    sortFileData(fileData){//使文件夹靠前\r\n        let folder=[];\r\n        let file =[];\r\n        fileData.forEach((item)=>{\r\n            if(item.localFilename===\"\"){\r\n                folder.push(item);\r\n            }else {\r\n                file.push(item);\r\n            }\r\n        });\r\n        fileData=folder.concat(file);\r\n        return fileData;\r\n    };\r\n    render() {\r\n        const formItemLayout = {labelCol: {span:4}, wrapperCol: {span:16},};\r\n        const tailFormItemLayout = {wrapperCol: {span:16,offset:4},};\r\n        const {fileList,uploading} = this.state;\r\n        return (\r\n            <div>\r\n                <div style={{height:50,display:\"flex\",alignItems:\"center\",justifyContent:\"flex-end\"}}>\r\n                    <div style={{marginRight:10}}>\r\n                        <Button type=\"primary\" onClick={this.showNewFolderModal}>\r\n                            创建文件夹\r\n                        </Button>\r\n                        <Modal title=\"创建文件夹\" onCancel={this.handleNewFolderCancel}\r\n                               visible={this.state.newFolderVisible} footer={null}>\r\n                            <Form name=\"create-folder\" onFinish={this.handleCreateFolder}{...formItemLayout}>\r\n                                <Form.Item name=\"folderName\" label=\"名称\"  rules={[{required: true,message: '请输入文件夹名!'},]}>\r\n                                    <Input  />\r\n                                </Form.Item>\r\n                                <Form.Item {...tailFormItemLayout}>\r\n                                    <Button type=\"primary\" htmlType=\"submit\" style={{width:\"100%\"}}>\r\n                                        确认创建\r\n                                    </Button>\r\n                                </Form.Item>\r\n                            </Form>\r\n                        </Modal>\r\n                    </div>\r\n                    <div style={{marginRight:10}}>\r\n                        <Button type=\"primary\" onClick={this.showNewFileModal}>\r\n                            添加文件\r\n                        </Button>\r\n                        <Modal title=\"上传文件\" onCancel={this.handleNewFileCancel}\r\n                               visible={this.state.newFileVisible} footer={null}>\r\n                            <Upload onRemove={this.onRemove} listType=\"picture\"\r\n                                    beforeUpload={this.beforeUpload} fileList={this.state.fileList}>\r\n                                <Button>\r\n                                    <UploadOutlined /> 选择文件\r\n                                </Button>\r\n                            </Upload>\r\n                            <Button type=\"primary\" onClick={this.handleCreateNewFile}\r\n                                disabled={fileList.length === 0} loading={uploading}\r\n                                style={{ marginTop: 16 }}\r\n                            >\r\n                                {uploading ? '上传中' : '开始上传'}\r\n                            </Button>\r\n                        </Modal>\r\n                    </div>\r\n                </div>\r\n                <Table bordered columns={this.fileColumns} dataSource={this.state.fileData} pagination={false} rowKey={record=>record.ID}\r\n                       onRow={(record)=> {\r\n                           return {\r\n                               onDoubleClick: () => {\r\n                                   if(record.localFilename===\"\"){//代表是文件夹\r\n                                       this.props.history.push({\r\n                                           pathname:`/teacher-course/${this.courseId}/resource`,\r\n                                           search:`?parentId=${record.ID}`,\r\n                                       });\r\n                                   }\r\n                               },\r\n                           };\r\n                       }}\r\n                />\r\n            </div>\r\n        )\r\n    };\r\n\r\n};","import React from \"react\";\r\nimport {List, Button, message, Modal, Form, Input, Card, Popconfirm} from 'antd';\r\nimport Request from '../../api';\r\nimport moment from \"moment\";\r\n\r\nconst formItemLayout = {\r\n    labelCol: {span:4},\r\n    wrapperCol: {span:16},\r\n};\r\nconst tailFormItemLayout = {\r\n    wrapperCol: {span:16,offset:4},\r\n};\r\n\r\nexport default class Notify extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.courseId = parseInt(props.match.params.id);\r\n        this.updatedNotify={title:\"\",content:\"\",ID:0};//要更新的通知,设置表单初始值\r\n        this.state = {\r\n            notifyData:[],\r\n            addNotifyModal:false,\r\n            updateNotifyModal:false,\r\n        };\r\n\r\n    };\r\n    updateNotify=async (values)=>{\r\n        try{\r\n            let notify={\r\n                id:this.updatedNotify.ID,\r\n                title:values.title,\r\n                content:values.content,\r\n            };\r\n            await Request.updateNotifyById(notify);\r\n            this.cancelUpdateNotifyModal();\r\n            message.success(\"已更新\");\r\n            this.loadNotifyData();\r\n        }catch (e) {\r\n            message.error(\"更新失败\");\r\n        }\r\n    };\r\n    deleteNotify=async (id)=>{\r\n      try{\r\n          await Request.deleteNotifyById(id);\r\n          this.loadNotifyData();\r\n      }catch (e) {\r\n          message.error(\"删除失败\");\r\n      }\r\n    };\r\n    addNotify=async (values)=>{\r\n        try{\r\n            let notify = {\r\n              courseId:this.courseId,\r\n              title:values.title,\r\n              content:values.content,\r\n            };\r\n            await Request.createNotify(notify);\r\n            this.cancelAddNotifyModal();\r\n            this.loadNotifyData();\r\n        }catch (e) {\r\n            message.error(\"创建失败\");\r\n        }\r\n    };\r\n    showAddNotifyModal=()=>{this.setState({addNotifyModal:true})};\r\n    cancelAddNotifyModal=()=>{this.setState({addNotifyModal:false})};\r\n    showUpdateNotifyModal=(item)=>{\r\n        this.setState({updateNotifyModal:true,});\r\n        this.updatedNotify=item;\r\n    };\r\n    cancelUpdateNotifyModal=()=>{this.setState({updateNotifyModal:false})};\r\n\r\n    loadNotifyData=async ()=>{\r\n        try{\r\n            const result = await Request.getNotifyByCourseId(this.courseId);\r\n            this.setState({notifyData:result});\r\n        }catch (e) {\r\n            message.error(\"获取通知失败\");\r\n        }\r\n    };\r\n    componentDidMount() {\r\n        this.loadNotifyData();\r\n    };\r\n    render() {\r\n        const addNotify=(\r\n            <div>\r\n                <Button type=\"primary\" onClick={this.showAddNotifyModal}>\r\n                    添加通知\r\n                </Button>\r\n                <Modal title=\"添加通知\" onCancel={this.cancelAddNotifyModal} destroyOnClose={true}\r\n                       visible={this.state.addNotifyModal} footer={null}>\r\n                    <Form name=\"add-notify\" onFinish={this.addNotify}{...formItemLayout}>\r\n                        <Form.Item name=\"title\" label=\"标题\"  rules={[{required: true,message: '请输入标题!'},]}>\r\n                            <Input />\r\n                        </Form.Item>\r\n                        <Form.Item name=\"content\" label=\"内容\" rules={[{required: true,message: '请输入内容!'}]}>\r\n                            <Input.TextArea rows={8}/>\r\n                        </Form.Item>\r\n                        <Form.Item {...tailFormItemLayout}>\r\n                            <Button type=\"primary\" htmlType=\"submit\" style={{width:\"100%\"}}>\r\n                                确认创建\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Modal>\r\n            </div>\r\n        );\r\n        return (\r\n            <Card title=\"通知\" extra={addNotify} bodyStyle={{padding:20}}\r\n                  style={{width:\"80%\",marginLeft:\"auto\",marginRight:\"auto\",height:\"100%\"}}>\r\n                <Modal title=\"修改通知\"  destroyOnClose={true}//加上才会每次打开时初始化表单值\r\n                       visible={this.state.updateNotifyModal} footer={null}\r\n                       onCancel={this.cancelUpdateNotifyModal}>\r\n                    <Form onFinish={this.updateNotify} initialValues={{\r\n                        title:this.updatedNotify.title,\r\n                        content:this.updatedNotify.content,\r\n                    }} name=\"update-notify\" {...formItemLayout}\r\n                    >\r\n                        <Form.Item name=\"title\" label=\"标题\"  rules={[{required: true,message: '请输入标题!'},]}>\r\n                            <Input />\r\n                        </Form.Item>\r\n                        <Form.Item name=\"content\" label=\"内容\" rules={[{required: true,message: '请输入内容!'}]}>\r\n                            <Input.TextArea rows={8}/>\r\n                        </Form.Item>\r\n                        <Form.Item {...tailFormItemLayout}>\r\n                            <Button type=\"primary\" htmlType=\"submit\" style={{width:\"100%\"}}>\r\n                                确认修改\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Modal>\r\n                <List itemLayout=\"horizontal\" dataSource={this.state.notifyData}\r\n                    renderItem={item => (\r\n                        <List.Item style={{borderBottom:\"1px solid lightgray\"}} actions={[(\r\n                            <Button type=\"link\"  style={{padding:0}} onClick={()=>{this.showUpdateNotifyModal(item)}}>\r\n                                编辑\r\n                            </Button>\r\n                        ),(\r\n                            <Popconfirm title=\"确定删除通知\" onConfirm={() => {this.deleteNotify(item.ID)}}>\r\n                                <Button type=\"link\" style={{padding:0}}>删除</Button>\r\n                            </Popconfirm>\r\n                        )]} extra={moment(item.CreatedAt).format('YYYY-MM-DD HH:mm:ss')}>\r\n                            <List.Item.Meta title={item.title} description={item.content}/>\r\n                        </List.Item>\r\n                    )}\r\n                />\r\n            </Card>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport Request from \"../../../api\";\r\nimport {Button, DatePicker, Form, Select, Switch} from \"antd\";\r\nconst formItemLayout = {labelCol: {span:4}, wrapperCol: {span:20}};\r\nconst tailFormItemLayout = {wrapperCol: {span:16,offset:4}};\r\nexport default class PublishHomeworkForm extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.formRef=React.createRef();\r\n        this.state={\r\n            classes:[],\r\n        }\r\n    }\r\n    loadClassesInfo=async ()=>{\r\n        try{\r\n            const result = await Request.getClassesByCourseId(this.props.courseId);\r\n            let classes = [];\r\n            result.forEach((item)=>{\r\n                classes.push({value:item.ID,name:item.className});\r\n            });\r\n            this.setState({classes:classes});\r\n        }catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n    componentDidMount() {\r\n        this.loadClassesInfo();\r\n    }\r\n\r\n    onFinish = (values) => {\r\n        let resubmit = values.resubmit === true ? 1 : 0;\r\n        const form = {\r\n            ...values,\r\n            resubmit: resubmit,\r\n            beginTime: values.range[0].format(),\r\n            endTime: values.range[1].format(),\r\n        };\r\n        this.props.onFinish(form);\r\n    };\r\n    render() {\r\n        return (\r\n            <Form ref={this.formRef} name=\"publish-homeworkLib\" onFinish={this.onFinish} {...formItemLayout}>\r\n                <Form.Item name=\"resubmit\" label=\"重复提交\" valuePropName=\"checked\">\r\n                    <Switch/>\r\n                </Form.Item>\r\n                <Form.Item label=\"班级\" name=\"classId\" hasFeedback rules={[{required: true,message: '请选择班级!'},]}>\r\n                    <Select placeholder=\"请选择班级\">\r\n                        {\r\n                            this.state.classes.map((item)=>{\r\n                                return (\r\n                                    <Select.Option key={item.value} value={item.value}>{item.name}</Select.Option>\r\n                                )\r\n                            })\r\n                        }\r\n                    </Select>\r\n                </Form.Item>\r\n                <Form.Item label=\"起止时间\" name=\"range\" rules={[{ type: 'array', required: true, message: '请选择时间'}]}>\r\n                    <DatePicker.RangePicker showTime format=\"YYYY-MM-DD HH:mm:ss\" />\r\n                </Form.Item>\r\n                <Form.Item {...tailFormItemLayout}>\r\n                    <Button type=\"primary\" htmlType=\"submit\" style={{width:\"100%\"}}>确认</Button>\r\n                </Form.Item>\r\n            </Form>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport moment from \"moment\";\r\nimport {Button, Divider, Form, Input, message, Modal, Space, Table, Upload} from \"antd\";\r\nimport Request from \"../../../api\";\r\nimport {withRouter} from \"react-router\";\r\nimport PublishHomeworkForm from \"./publish-homework-form\";\r\nimport {UploadOutlined} from \"@ant-design/icons\";\r\nconst formItemLayout = {labelCol: {span:4}, wrapperCol: {span:20}};\r\nconst tailFormItemLayout = {wrapperCol: {span:16,offset:4}};\r\nclass HomeworkLibComponent extends React.Component{\r\n    columns=[\r\n        {title: '作业标题', dataIndex: 'name',width:\"30%\"},\r\n        {title: '创建时间', dataIndex: 'CreatedAt',width:\"20%\",align:'center',\r\n            render:(text)=>{\r\n                return moment(text).format('YYYY-MM-DD HH:mm:ss');\r\n            }\r\n        },\r\n        {title:'题目数量',dataIndex:'subjectCount',width:\"10%\",align:'center'},\r\n        {title:'总分',dataIndex:'totalScore',width:\"10%\",align:'center'},\r\n        {title:'操作',key:'action',width:\"30%\",align:'center',\r\n            render: (text,record) => {\r\n                return (\r\n                    <Space size={2}>\r\n                        <Button style={{padding:0}} type=\"link\"\r\n                                onClick={()=>this.showRenameModal(record)}>\r\n                            重命名\r\n                        </Button>\r\n                        <Divider type=\"vertical\" />\r\n                        <Button style={{padding:0}} type='link'\r\n                                onClick={()=>this.goToEditHomeworkLib(record)}>\r\n                            编辑\r\n                        </Button>\r\n                        <Divider type=\"vertical\" />\r\n                        <Button style={{padding:0}} type='link'\r\n                                onClick={()=>this.showImportLibModal(record)}>\r\n                            从Excel中导入\r\n                        </Button>\r\n                        <Divider type=\"vertical\" />\r\n                        <Button style={{padding:0}} type='link'\r\n                                onClick={()=>this.exportLibToExcel(record)}>\r\n                            导出到Excel\r\n                        </Button>\r\n                        <Divider type=\"vertical\" />\r\n                        <Button style={{padding:0}} disabled={record.subjectCount===0} type='link'\r\n                                onClick={()=>this.showPublishLibModal(record)}>\r\n                            发布作业\r\n                        </Button>\r\n                    </Space>\r\n                )\r\n            },\r\n        }\r\n    ];\r\n    constructor(props) {\r\n        super(props);\r\n        this.courseId = parseInt(props.match.params.id);\r\n        this.updatedLib={name:\"\"};//要更新的库\r\n        this.state={\r\n            homeworkLibData:[],\r\n            renameModal:false,\r\n            createLibModal:false,\r\n            publishLibModal:false,\r\n\r\n            importLibModal:false,\r\n            uploading:false,\r\n            fileList:[],\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.loadHomeworkLibData();\r\n    }\r\n    goToEditHomeworkLib=(record)=>{\r\n        let query = `courseId=${this.courseId}&homeworkLibId=${record.ID}`;\r\n        this.props.history.push({pathname:\"/editor\",search:query});\r\n    };\r\n    showRenameModal=(record)=>{\r\n        this.setState({renameModal:true});\r\n        this.updatedLib=record;\r\n    };\r\n    cancelRenameModal=()=>{\r\n        this.setState({renameModal:false});\r\n    };\r\n    renameHomeworkLib=async (values)=>{\r\n        try{\r\n            await Request.updateHomeworkLibNameById({id:this.updatedLib.ID,name:values.name});\r\n            message.success(\"已更新\");\r\n            this.cancelRenameModal();\r\n            this.loadHomeworkLibData();\r\n        }catch (e) {\r\n            message.error(\"操作失败\");\r\n        }\r\n    };\r\n\r\n    showPublishLibModal=(record)=>{\r\n        this.publishedhomeworkLibId=record.ID;\r\n        this.setState({publishLibModal:true})\r\n    };\r\n    cancelPublishLibModal=()=>{\r\n        this.setState({publishLibModal:false})\r\n    };\r\n    publishHomework=async (values)=>{\r\n        values={...values,homeworkLibId:this.publishedhomeworkLibId};\r\n        try{\r\n            const result = await Request.publishHomework(values);\r\n            if(result.code===202){\r\n                message.info(\"该班级已发布过,不能重复发布\")\r\n            }else{\r\n                message.success(\"发布成功\");\r\n                this.cancelPublishLibModal();\r\n            }\r\n        }catch (e) {\r\n            message.error(\"发布失败\");\r\n        }\r\n    };\r\n    loadHomeworkLibData=async ()=>{\r\n        try{\r\n            const result = await Request.getHomeworkLibsByCourseId(this.courseId);\r\n            this.setState({homeworkLibData:result})\r\n        }catch (e) {\r\n            message.error(\"获取数据失败\");\r\n        }\r\n    };\r\n\r\n    beforeUpload = () => {\r\n        return false;\r\n    };\r\n    onRemove = () => {\r\n        this.setState({fileList:[]});\r\n    };\r\n    handleUploadChange=(info)=>{\r\n        let fileList = [...info.fileList];\r\n        fileList = fileList.slice(-1);\r\n        this.setState({fileList:fileList});\r\n    };\r\n    showImportLibModal=(record)=>{\r\n        this.setState({importLibModal:true});\r\n        this.updatedLib=record;\r\n    };\r\n    cancelImportLibModal=()=>{\r\n        this.setState({importLibModal:false});\r\n    };\r\n    exportLibToExcel=async (record)=>{\r\n        try{\r\n            await Request.exportLibSubjectToExcel(record.ID,\"homework\");\r\n        }catch (e) {\r\n            message.error(\"下载出错\");\r\n        }\r\n    };\r\n    importLibFormExcel=async ()=>{\r\n        const { fileList } = this.state;\r\n        const formData = new FormData();\r\n        if(fileList.length!==0){\r\n            formData.append('excel', fileList[0].originFileObj);\r\n        }\r\n        formData.append('libId',this.updatedLib.ID);\r\n        formData.append('type',\"homework\");\r\n        this.setState({uploading: true,});\r\n        try {\r\n            await Request.importExcelSubjectToLib(formData);\r\n            this.setState({\r\n                uploading: false,\r\n                fileList: [],\r\n                importLibModal:false,\r\n            });\r\n            message.success(\"导入题库成功\");\r\n            this.loadHomeworkLibData();\r\n        }catch (e) {\r\n            let err=\"\";\r\n            if(e.response.data.err){\r\n                err=e.response.data.err;\r\n            }\r\n            message.error(\"导入失败!\"+err);\r\n            this.setState({uploading:false});\r\n        }\r\n    };\r\n    downloadExcelExample=async ()=>{\r\n        try{\r\n            await Request.downloadExcelExample();\r\n        }catch (e) {\r\n            message.error(\"下载出错\");\r\n        }\r\n    };\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Modal title=\"重命名\" destroyOnClose={true} onCancel={this.cancelRenameModal}\r\n                       visible={this.state.renameModal} footer={null}>\r\n                    <Form name=\"rename-lib\" onFinish={this.renameHomeworkLib} {...formItemLayout}>\r\n                        <Form.Item name=\"name\" label=\"名称\"  rules={[{required: true,message: '请输入名称!'},]}>\r\n                            <Input  />\r\n                        </Form.Item>\r\n                        <Form.Item {...tailFormItemLayout}>\r\n                            <Button type=\"primary\" htmlType=\"submit\" style={{width:\"100%\"}}>确认</Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Modal>\r\n                <Modal title=\"导入试题\" destroyOnClose={true} onCancel={this.cancelImportLibModal}\r\n                       visible={this.state.importLibModal} footer={null}>\r\n                        <Upload  listType=\"picture\" multiple={false} onChange={this.handleUploadChange}\r\n                                 onRemove={this.onRemove}\r\n                                 beforeUpload={this.beforeUpload} fileList={this.state.fileList}>\r\n                            <Button>\r\n                                <UploadOutlined /> 选择Excel文件\r\n                            </Button>\r\n                        </Upload>\r\n                        <Button type=\"primary\" onClick={this.importLibFormExcel}\r\n                                disabled={this.state.fileList.length===0} loading={this.state.uploading}\r\n                                style={{ marginTop: 16 }}\r\n                        >\r\n                            {this.state.uploading ? '上传中' : '开始上传'}\r\n                        </Button>\r\n                </Modal>\r\n                <Modal title=\"发布作业\" onCancel={this.cancelPublishLibModal}\r\n                       visible={this.state.publishLibModal} footer={null}>\r\n                    <PublishHomeworkForm courseId={this.courseId} onFinish={this.publishHomework}/>\r\n                </Modal>\r\n                <Button style={{marginBottom:10}} onClick={this.downloadExcelExample} type=\"primary\">下载导入题库的Excel模板</Button>\r\n                <Table bordered  columns={this.columns} dataSource={this.state.homeworkLibData}\r\n                       pagination={false} rowKey={record=>record.ID}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(HomeworkLibComponent)","import React from \"react\";\r\nimport {withRouter} from \"react-router\";\r\nimport {Button, Card, Col, DatePicker, Form, message, Modal, Row, Select, Space, Switch, Table} from \"antd\";\r\nimport moment from \"moment\";\r\nimport Request from \"../../../api\";\r\nimport {ArrowLeftOutlined, DownloadOutlined} from \"@ant-design/icons\";\r\nimport queryString from \"querystring\";\r\n\r\nconst formItemLayout = {labelCol: {span:4}, wrapperCol: {span:20}};\r\nconst tailFormItemLayout = {wrapperCol: {span:16,offset:4}};\r\nclass HomeworkComponent extends React.Component{\r\n    columns=[\r\n        {title: '帐号', dataIndex: ['user','email'],width:\"15%\",align:'center'},\r\n        {title: '姓名', dataIndex: ['user','realName'],width:\"10%\",align:'center'},\r\n        {title:'学号',dataIndex:['user','number'],width:\"15%\",align:'center'},\r\n        {title:'总分',dataIndex:'totalScore',width:\"10%\",align:'center'},\r\n        {title:'首次提交时间',dataIndex:'CreatedAt',width:\"15%\",align:'center',\r\n            render:(text)=>{\r\n                return moment(text).format('YYYY-MM-DD HH:mm:ss');\r\n            }\r\n        },\r\n        {title:'更新时间',dataIndex:'UpdatedAt',width:\"15%\",align:'center',\r\n            render:(text)=>{\r\n                return moment(text).format('YYYY-MM-DD HH:mm:ss');\r\n            }\r\n        },\r\n        {title:'状态',dataIndex:'mark',width:\"10%\",align:'center',\r\n            render:(text)=>{\r\n                if(text===0) return <span style={{color:\"red\"}}>未批阅</span>;\r\n                else if(text===1) return <span>已批阅</span>\r\n            }\r\n        },\r\n        {title:'操作',key:'action',width:\"20%\",align:'center',\r\n            render: (text,record) => {\r\n                if (record.mark===0){\r\n                    return (\r\n                        <Button style={{padding:0}} type=\"link\"\r\n                                onClick={()=>this.goToMarkHomework(record)}>\r\n                            批阅\r\n                        </Button>\r\n                    )\r\n                }else{\r\n                    return (\r\n                        <Space size={2}>\r\n                            <Button style={{padding:0}} type=\"link\"\r\n                                    onClick={()=>this.cancelMarkHomework(record)}>\r\n                                打回\r\n                            </Button>\r\n                            <Button style={{padding:0}} type=\"link\"\r\n                                    onClick={()=>this.goToMarkHomework(record)}>\r\n                                重新批阅\r\n                            </Button>\r\n                        </Space>\r\n                    )\r\n                }\r\n            },\r\n        }\r\n    ];\r\n    constructor(props) {\r\n        super(props);\r\n        this.courseId = parseInt(props.match.params.id);\r\n        this.updatedHomeworkPublish={};//要更新的发布数据\r\n        this.state={\r\n            homeworkPublishData:[],\r\n            homeworkSubmitData:[],\r\n            classData:[],//有哪些班级\r\n            selectedValue:0,//选择的班级ID\r\n            republishHomeworkModal:false,\r\n            submitRecordVisible:false,\r\n        }\r\n    }\r\n    goToMarkHomework=(record)=>{\r\n        this.props.history.push({\r\n            pathname:\"/markHomework\",\r\n            search:`homeworkSubmitId=${record.ID}`,\r\n        });\r\n    };\r\n    cancelMarkHomework=async (record)=>{\r\n        try{\r\n            await Request.updateHomeworkSubmitMarkById({id:record.ID,mark:0});\r\n            message.success(\"操作成功\");\r\n            this.loadHomeworkSubmitData(record.homeworkPublishId);\r\n        }catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n    setHomeworkPublishId=()=>{\r\n        let search = this.props.location.search;\r\n        if(search!==\"\") {\r\n             this.homeworkPublishId = queryString.parse(search.slice(1)).homeworkPublishId;\r\n             return this.homeworkPublishId\r\n        }\r\n    };\r\n    onRepublishFormFinish=async (values)=>{\r\n        let publish={\r\n            id:this.updatedHomeworkPublish.ID,\r\n            resubmit:values.resubmit === true ? 1 : 0,\r\n            beginTime:values.range[0].format(),\r\n            endTime:values.range[1].format(),\r\n        };\r\n        try{\r\n            await Request.updateHomeworkPublishById(publish);\r\n            this.cancelRepublishHomeworkModal();\r\n            this.loadHomeworkPublishData(this.state.selectedValue);\r\n            message.success(\"更新成功\")\r\n        }catch (e) {\r\n            message.error(\"更新失败\");\r\n        }\r\n\r\n    };\r\n    showRepublishHomeworkModal=(record)=>{\r\n        let range=new Array(2);\r\n        let resubmit=record.resubmit===1;\r\n        range[0]=moment(record.beginTime);\r\n        range[1]=moment(record.endTime);\r\n        this.updatedHomeworkPublish={...record,resubmit:resubmit,range:range};\r\n        this.setState({republishHomeworkModal:true});\r\n    };\r\n    cancelRepublishHomeworkModal=()=>{\r\n        this.setState({republishHomeworkModal:false});\r\n    };\r\n    loadClassData=async ()=>{\r\n      try{\r\n          const result = await Request.getClassesByCourseId(this.courseId);\r\n          if(result.length!==0){\r\n\r\n              this.setState({classData:result,selectedValue:result[0].ID});\r\n              this.loadHomeworkPublishData(result[0].ID);\r\n          }\r\n      }catch (e) {\r\n          console.log(e);\r\n      }\r\n    };\r\n    loadHomeworkPublishData=async (classId)=>{\r\n        try{\r\n            const result=await Request.getHomeworkPublishesByClassId(classId);\r\n            this.setState({homeworkPublishData:result})\r\n        }catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n    loadHomeworkSubmitData=async (homeworkPublishId)=>{\r\n        try{\r\n            const result = await Request.getHomeworkSubmitsByPublishId(homeworkPublishId);\r\n            this.setState({homeworkSubmitData:result});\r\n        }catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n    showHomeworkSubmitRecord=(homeworkPublish)=>{\r\n        this.props.history.push({pathname:\"homework\",search:`homeworkPublishId=${homeworkPublish.ID}`});\r\n    };\r\n    cancelHomeworkSubmitRecord=()=>{\r\n        this.props.history.push({pathname:\"homework\"});\r\n    };\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if(this.props.location !== prevProps.location){//根据路由变化决定显示发布的作业数据页面还是具体的提交数据页面\r\n            this.setSubmitRecordVisible();\r\n        }\r\n    };\r\n    componentDidMount() {\r\n        this.loadClassData();\r\n        this.setSubmitRecordVisible();\r\n    };\r\n    downloadHomeworkExcel=async ()=>{\r\n        try{\r\n            await Request.exportHomeworkToExcel(this.homeworkPublishId);\r\n        }catch (e) {\r\n            message.error(\"下载出错\");\r\n        }\r\n    };\r\n    setSubmitRecordVisible=()=>{//提交的作业记录表格是否可见\r\n        if(this.setHomeworkPublishId()){\r\n            this.setState({submitRecordVisible:true});\r\n            this.loadHomeworkSubmitData(this.homeworkPublishId);\r\n        }else{\r\n            this.setState({submitRecordVisible:false});\r\n        }\r\n    };\r\n    onSelectChange=(value)=>{\r\n        this.setState({selectedValue:value});\r\n        this.loadHomeworkPublishData(value);\r\n    };\r\n    getSummary=(pageData)=>{\r\n        if(pageData.length===0)return null;\r\n        let scoreArr=[];\r\n        pageData.forEach(({totalScore})=>{\r\n            scoreArr.push(totalScore);\r\n        });\r\n        let min=scoreArr[0];let max=scoreArr[0];let average=0;\r\n        scoreArr.forEach((item)=>{\r\n            min=Math.min(min,item);\r\n            max=Math.max(max,item);\r\n            average=average+item;\r\n        });\r\n        average=average/scoreArr.length;\r\n        return (\r\n            <React.Fragment>\r\n                <tr>\r\n                    <th>统计</th>\r\n                    <td>最低分</td>\r\n                    <td>{min}分</td>\r\n                    <td>最高分</td>\r\n                    <td>{max}分</td>\r\n                    <td>平均分</td>\r\n                    <td>{average}分</td>\r\n                    <td/>\r\n                </tr>\r\n            </React.Fragment>\r\n        )\r\n    };\r\n    render() {\r\n        const homeworkPublishList=(\r\n            <div>\r\n                    <Modal title=\"重设发放\" onCancel={this.cancelRepublishHomeworkModal} destroyOnClose={true}\r\n                           visible={this.state.republishHomeworkModal} footer={null}>\r\n                        <Form initialValues={this.updatedHomeworkPublish} name=\"republish-homeworkLib\" onFinish={this.onRepublishFormFinish} {...formItemLayout}>\r\n                            <Form.Item name=\"resubmit\" label=\"重复提交\" valuePropName=\"checked\">\r\n                                <Switch/>\r\n                            </Form.Item>\r\n                            <Form.Item label=\"起止时间\" name=\"range\" rules={[{ type: 'array', required: true, message: '请选择时间'}]}>\r\n                                <DatePicker.RangePicker showTime format=\"YYYY-MM-DD HH:mm:ss\" />\r\n                            </Form.Item>\r\n                            <Form.Item {...tailFormItemLayout}>\r\n                                <Button type=\"primary\" htmlType=\"submit\" style={{width:\"100%\"}}>确认</Button>\r\n                            </Form.Item>\r\n                        </Form>\r\n                    </Modal>\r\n                    <div style={{marginBottom:10}}>\r\n                        <Select placeholder=\"请选择班级\" style={{width:150}} value={this.state.selectedValue}  onChange={this.onSelectChange}>\r\n                            {\r\n                                this.state.classData.map((item)=>{\r\n                                    return (\r\n                                        <Select.Option key={item.ID} value={item.ID}>{item.className}</Select.Option>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </Select>\r\n                    </div>\r\n                    <Row gutter={16}>\r\n                        {\r\n                            this.state.homeworkPublishData.map((item)=>{\r\n                                return (<Col span={8} key={item.ID}>\r\n                                    <Card title={item.homeworkLib.name} actions={[\r\n                                        <div style={{display:\"flex\",justifyContent:\"space-between\",paddingLeft:20,paddingRight:20}}>\r\n                                            <span><span style={{fontSize:20,color:\"red\"}}>{item.unMarkCount}</span>份待批</span>\r\n                                            <Space>\r\n                                                <Button onClick={()=>this.showRepublishHomeworkModal(item)}>重设发放</Button>\r\n                                                <Button onClick={()=>this.showHomeworkSubmitRecord(item)}>查看</Button>\r\n                                            </Space>\r\n                                        </div>]\r\n                                    }>\r\n                                        <div>开始时间:{moment(item.beginTime).format(\"YYYY-MM-DD HH:mm:ss\")}</div>\r\n                                        <div>结束时间:{moment(item.endTime).format(\"YYYY-MM-DD HH:mm:ss\")}</div>\r\n                                        <div>提交人数:{item.submitCount}人</div>\r\n                                    </Card>\r\n                                </Col>)\r\n                            })\r\n                        }\r\n                    </Row>\r\n                </div>\r\n        );\r\n        const homeworkSubmitRecord=(\r\n            <div>\r\n                <div style={{marginBottom:10}}>\r\n                    <Button type=\"link\" icon={<ArrowLeftOutlined/>} onClick={this.cancelHomeworkSubmitRecord}>返回</Button>\r\n                    <Button type=\"primary\" icon={<DownloadOutlined/>} onClick={this.downloadHomeworkExcel}>导出成绩到Excel</Button>\r\n                </div>\r\n                <Table bordered  columns={this.columns} dataSource={this.state.homeworkSubmitData}\r\n                       summary={this.getSummary}  pagination={false} rowKey={record=>record.ID}\r\n                />\r\n            </div>\r\n        );\r\n        return (\r\n            this.state.submitRecordVisible?homeworkSubmitRecord:homeworkPublishList\r\n        )\r\n    }\r\n}\r\nexport default withRouter(HomeworkComponent)","import React from \"react\";\r\nimport {Button, Card, Form, Input, message, Modal} from \"antd\";\r\nimport Request from \"../../../api\";\r\nimport HomeworkLibComponent from \"./homeworkLibComponent\";\r\nimport HomeworkComponent from \"./homeworkComponent\";\r\n\r\nconst formItemLayout = {labelCol: {span:4}, wrapperCol: {span:20}};\r\nconst tailFormItemLayout = {wrapperCol: {span:16,offset:4}};\r\nexport default class Homework extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.courseId = parseInt(props.match.params.id);\r\n        this.state={\r\n            createLibModal:false,\r\n            tabKey:'homework',\r\n        };\r\n    };\r\n    showCreateLibModal=()=>{\r\n        this.setState({createLibModal:true});\r\n    };\r\n    cancelCreateLibModal=()=>{\r\n        this.setState({createLibModal:false});\r\n    };\r\n    createHomeworkLib = async (values)=>{\r\n        try{\r\n            await Request.createHomeworkLib({courseId:this.courseId,name:values.name});\r\n            message.success(\"已创建\");\r\n            this.cancelCreateLibModal();\r\n        }catch (e) {\r\n            message.error(\"操作失败\");\r\n        }\r\n    };\r\n\r\n    onTabChange=(key)=>{\r\n        this.setState({tabKey:key});\r\n    };\r\n    render() {\r\n        const tabList = [{key: 'homework', tab: '作业'}, {key: 'homeworkLib', tab: '作业库'}];\r\n        const contentList = {\r\n            homework: <HomeworkComponent/>,\r\n            homeworkLib: <HomeworkLibComponent/>,\r\n        };\r\n        let tabBarExtraContent=this.state.tabKey!==\"homeworkLib\"?null:\r\n            <Button type='link' onClick={this.showCreateLibModal}>新建作业库</Button>;\r\n        return (\r\n            <Card  bodyStyle={{padding:20}} style={{width:\"80%\",height:\"100%\",marginLeft:\"auto\",marginRight:\"auto\"}}\r\n                  tabList={tabList} activeTabKey={this.state.tabKey} onTabChange={this.onTabChange}\r\n                   tabBarExtraContent={tabBarExtraContent}\r\n            >\r\n                <Modal title=\"新建\" onCancel={this.cancelCreateLibModal}\r\n                       visible={this.state.createLibModal} footer={null}>\r\n                    <Form name=\"create-lib\" onFinish={this.createHomeworkLib} {...formItemLayout}>\r\n                        <Form.Item name=\"name\" label=\"名称\"  rules={[{required: true,message: '请输入名称!'},]}>\r\n                            <Input  />\r\n                        </Form.Item>\r\n                        <Form.Item {...tailFormItemLayout}>\r\n                            <Button type=\"primary\" htmlType=\"submit\" style={{width:\"100%\"}}>确认</Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Modal>\r\n                {contentList[this.state.tabKey]}\r\n            </Card>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Comment, Avatar, List, Empty, Button, message, Modal, Input, Card} from 'antd';\r\nimport moment from \"moment\";\r\nimport Constant from \"../../../utils/constant\";\r\nimport Request from \"../../../api\"\r\nimport {withRouter} from \"react-router\";\r\n\r\nclass CourseComment extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.courseId = parseInt(props.match.params.id);\r\n        this.replyId = 0;\r\n        this.parentId = 0;\r\n        this.replyUserId = 0;\r\n        this.replyUserRealName=\"\";//回复子评论的用户的名字\r\n        this.state = {\r\n            comment: \"\",\r\n            commentData: [],\r\n            commentModal: false,\r\n        };\r\n    }\r\n\r\n    loadCommentData = async () => {\r\n        try {\r\n            const result = await Request.getCommentByCourseId(this.courseId);\r\n            this.setState({commentData: result});\r\n        } catch (e) {\r\n            message.error(\"获取评论失败\");\r\n        }\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.loadCommentData();\r\n\r\n    }\r\n\r\n    showCommentModal = () => {\r\n        this.setState({commentModal: true});\r\n    };\r\n    cancelCommentModal = () => {\r\n        this.setState({commentModal: false,comment:\"\"});\r\n    };\r\n    handleCommentChange = (event) => {\r\n        this.setState({comment: event.target.value});\r\n    };\r\n    handleSubmitComment = async (e) => {\r\n        try {\r\n            let comment = {\r\n                courseId: this.courseId,\r\n                content: this.state.comment,\r\n                parentId: this.parentId,\r\n                replyId: this.replyId,\r\n                replyUserId: this.replyUserId,\r\n            };\r\n            if(this.parentId!==this.replyId){//回复的是子评论\r\n                comment.content=`回复${this.replyUserRealName}:`+this.state.comment;\r\n            }\r\n            await Request.createComment(comment);\r\n            this.cancelCommentModal();\r\n            this.loadCommentData();\r\n        } catch (e) {\r\n            message.error(\"发布失败\");\r\n        }\r\n    };\r\n    createComment=async ()=>{\r\n        this.replyId = 0;\r\n        this.parentId = 0;\r\n        this.replyUserId = 0;\r\n        this.showCommentModal();\r\n    };\r\n    replyParentComment=async (item)=>{\r\n        this.replyId = item.ID;\r\n        this.parentId = item.ID;\r\n        this.replyUserId = item.user.ID;\r\n        this.showCommentModal();\r\n    };\r\n    replyChildComment=async (item)=>{\r\n        this.replyId = item.ID;\r\n        this.parentId = item.parentId;\r\n        this.replyUserId = item.user.ID;\r\n        this.replyUserRealName=item.user.realName;\r\n        this.showCommentModal();\r\n    };\r\n    render() {\r\n        return (\r\n            <Card title={`${this.state.commentData.length}条讨论`} bodyStyle={{padding:20}}\r\n                  extra={<Button type=\"primary\" onClick={this.createComment}>\r\n                            添加评论\r\n                        </Button>}\r\n            >\r\n                <Modal title=\"发布评论\" onCancel={this.cancelCommentModal}\r\n                           visible={this.state.commentModal} onOk={this.handleSubmitComment}>\r\n                    <Input.TextArea value={this.state.comment} onChange={this.handleCommentChange} rows={5}/>\r\n                </Modal>\r\n                <div>\r\n                    <List itemLayout=\"horizontal\" dataSource={this.state.commentData}\r\n                          renderItem={item => this.state.commentData.length === 0 ?\r\n                              (<Empty image={Empty.PRESENTED_IMAGE_SIMPLE}/>) : (\r\n                                  <li >\r\n                                      <Comment\r\n                                          actions={[<Button style={{padding:0}} type=\"link\" onClick={()=>{this.replyParentComment(item)}}>回复</Button>]}\r\n                                          author={<span style={{color:\"black\"}}>{item.user.realName}</span>}\r\n                                               avatar={<Avatar src={item.user.avatar === \"\" ? \"\" : Constant.BaseAvatar + item.user.avatar}/>}\r\n                                               content={item.content}\r\n                                          datetime={<span style={{color:\"black\"}}>{moment(item.CreatedAt).format('YYYY-MM-DD HH:mm:ss')}</span>}\r\n                                      >\r\n                                          {(() => {\r\n                                              if (item.children.length === 0) return null;\r\n                                              else {\r\n                                                  return item.children.map((subItem) => {\r\n                                                      return (\r\n                                                          <Comment key={subItem.ID}\r\n                                                                   actions={[\r\n                                                                       <Button style={{padding:0}} onClick={()=>{this.replyChildComment(subItem)}} type=\"link\">\r\n                                                                            回复\r\n                                                                        </Button>]}\r\n                                                                   author={<span style={{color:\"black\"}}>{subItem.user.realName}</span>}\r\n                                                                   avatar={<Avatar src={subItem.user.avatar === \"\" ? \"\" : Constant.BaseAvatar + subItem.user.avatar}/>}\r\n                                                                   content={subItem.content}\r\n                                                                   datetime={<span style={{color:\"black\"}}>{moment(subItem.CreatedAt).format('YYYY-MM-DD HH:mm:ss')}</span>}\r\n                                                          />\r\n                                                      )\r\n                                                  })\r\n                                              }\r\n                                          })()}\r\n                                      </Comment>\r\n                                  </li>\r\n                              )}\r\n                    />\r\n                </div>\r\n\r\n            </Card>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(CourseComment);","import React from \"react\";\r\nimport {Avatar, Button, Card, Comment, Empty, List, message, Popconfirm} from \"antd\";\r\nimport Constant from \"../../../utils/constant\";\r\nimport moment from \"moment\";\r\nimport Request from \"../../../api\";\r\nimport {withRouter} from \"react-router\";\r\n\r\nclass MyComment extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.courseId = parseInt(props.match.params.id);\r\n        this.state = {\r\n            commentData: [],\r\n        };\r\n    }\r\n    loadCommentData=async ()=>{\r\n        try {\r\n            const result = await Request.getCommentByUserId(this.courseId);\r\n            this.setState({commentData: result});\r\n        } catch (e) {\r\n            message.error(\"获取评论失败\");\r\n        }\r\n    };\r\n    deleteComment=async (item)=>{\r\n      try {\r\n          await Request.deleteCommentById(item.ID);\r\n          this.loadCommentData();\r\n          message.success(\"已删除\");\r\n      }catch (e) {\r\n          message.error(\"删除失败\");\r\n      }\r\n    };\r\n    componentDidMount() {\r\n        this.loadCommentData();\r\n    }\r\n    render() {\r\n        return(\r\n            <Card>\r\n                <List itemLayout=\"horizontal\" dataSource={this.state.commentData}\r\n                      renderItem={item => this.state.commentData.length === 0 ?\r\n                          (<Empty image={Empty.PRESENTED_IMAGE_SIMPLE}/>) :\r\n                          (<li>\r\n                              <Comment actions={[<Popconfirm title=\"确定删除\" onConfirm={()=>{this.deleteComment(item)}}>\r\n                                      <Button style={{padding:0}} type=\"link\">删除</Button>\r\n                                  </Popconfirm>]}\r\n                                  author={<span style={{color:\"black\"}}>{item.user.realName}</span>}\r\n                                  avatar={<Avatar src={item.user.avatar === \"\" ? \"\" : Constant.BaseAvatar + item.user.avatar}/>}\r\n                                  content={item.content}\r\n                                  datetime={<span style={{color:\"black\"}}>{moment(item.CreatedAt).format('YYYY-MM-DD HH:mm:ss')}</span>}\r\n                              >\r\n                              </Comment>\r\n                          </li>)\r\n                      }\r\n                />\r\n            </Card>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(MyComment);","import React from \"react\";\r\nimport {Avatar, Card, Comment, Empty, List, message} from \"antd\";\r\nimport Constant from \"../../../utils/constant\";\r\nimport moment from \"moment\";\r\nimport Request from \"../../../api\";\r\nimport {withRouter} from \"react-router\";\r\n\r\nclass ReplyToMe extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.courseId = parseInt(props.match.params.id);\r\n        this.state = {\r\n            commentData: [],\r\n        };\r\n    }\r\n    loadCommentData=async ()=>{\r\n        try {\r\n            const result = await Request.getCommentReplyToUser(this.courseId);\r\n            this.setState({commentData: result});\r\n        } catch (e) {\r\n            message.error(\"获取评论失败\");\r\n        }\r\n    };\r\n    componentDidMount() {\r\n        this.loadCommentData();\r\n    }\r\n    render() {\r\n        return(\r\n            <Card>\r\n                <List itemLayout=\"horizontal\" dataSource={this.state.commentData}\r\n                      renderItem={item => this.state.commentData.length === 0 ?\r\n                          (<Empty image={Empty.PRESENTED_IMAGE_SIMPLE}/>) :\r\n                          (<li>\r\n                              <Comment\r\n                                  author={<span style={{color:\"black\"}}>{item.user.realName}</span>}\r\n                                  avatar={<Avatar src={item.user.avatar === \"\" ? \"\" : Constant.BaseAvatar + item.user.avatar}/>}\r\n                                  content={item.content}\r\n                                  datetime={<span style={{color:\"black\"}}>{moment(item.CreatedAt).format('YYYY-MM-DD HH:mm:ss')}</span>}\r\n                              >\r\n                              </Comment>\r\n                          </li>)\r\n                      }\r\n                />\r\n            </Card>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(ReplyToMe);","import React from \"react\";\r\nimport {Layout, Menu} from \"antd\";\r\nimport CourseComment from \"./course-comment\";\r\nimport MyComment from \"./my-comment\";\r\nimport ReplyToMe from \"./replyToMe\";\r\nconst {Content,Sider } = Layout;\r\nexport default class Discuss extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.menuData=[\r\n            {key:\"1\", text:\"课程讨论\"},\r\n            {key:\"2\",text:\"我发表的\"},\r\n            {key:\"3\",text:\"回复我的\"},\r\n        ];\r\n        this.state={\r\n            key:\"1\",\r\n        }\r\n    }\r\n    onMenuClick=({key})=> {\r\n        this.setState({key:key})\r\n    };\r\n    render() {\r\n        return(\r\n            <React.Fragment>\r\n                <Sider className=\"sider\" theme=\"light\" breakpoint=\"lg\" collapsedWidth=\"0\" width=\"250\">\r\n                    <Menu theme=\"light\" mode=\"inline\" onClick={this.onMenuClick}\r\n                          selectedKeys={[this.state.key]}>\r\n                        {this.menuData.map((item)=>{return (\r\n                            <Menu.Item key={item.key}>\r\n                                <span>{item.text}</span>\r\n                            </Menu.Item>\r\n                        )})}\r\n                    </Menu>\r\n                </Sider>\r\n                <Content>\r\n                    {this.state.key==='1'?<CourseComment/>:null}\r\n                    {this.state.key==='2'?<MyComment/>:null}\r\n                    {this.state.key==='3'?<ReplyToMe/>:null}\r\n                </Content>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {withRouter} from \"react-router\";\r\nimport {Button, Card, Col, DatePicker, Form, InputNumber, message, Modal, Row, Select, Space, Table} from \"antd\";\r\nimport moment from \"moment\";\r\nimport Request from \"../../../api\";\r\nimport {ArrowLeftOutlined, DownloadOutlined} from \"@ant-design/icons\";\r\nimport queryString from \"querystring\";\r\nconst formItemLayout = {labelCol: {span:4}, wrapperCol: {span:20}};\r\nconst tailFormItemLayout = {wrapperCol: {span:16,offset:4}};\r\nclass ExamComponent extends React.Component{\r\n    columns=[\r\n        {title: '帐号', dataIndex: ['user','email'],width:\"20%\",align:'center'},\r\n        {title: '姓名', dataIndex: ['user','realName'],width:\"10%\",align:'center'},\r\n        {title:'学号',dataIndex:['user','number'],width:\"10%\",align:'center'},\r\n        {title:'总分',dataIndex:'totalScore',width:\"10%\",align:'center'},\r\n        {title:'开考时间',dataIndex:'startTime',width:\"20%\",align:'center',\r\n            render:(text)=>{\r\n                return moment(text).format('YYYY-MM-DD HH:mm:ss');\r\n            }\r\n        },\r\n        {title:'完成时间',dataIndex:'finishTime',width:\"20%\",align:'center',\r\n            render:(text)=>{\r\n                if(text==null) return \"截止时间\";\r\n                return moment(text).format('YYYY-MM-DD HH:mm:ss');\r\n            }\r\n        },\r\n        {title:'状态',dataIndex:'mark',width:\"10%\",align:'center',\r\n            render:(text)=>{\r\n                if(text===0) return <span style={{color:\"red\"}}>未批阅</span>;\r\n                else if(text===1) return <span>已批阅</span>\r\n            }\r\n        },\r\n        {title:'操作',key:'action',width:\"20%\",align:'center',\r\n            render: (text,record) => {\r\n                    return (\r\n                        <Button style={{padding:0}} type=\"link\"\r\n                                onClick={()=>this.goToMarkExam(record)}>\r\n                            {record.mark===0?\"批阅\":\"重新批阅\"}\r\n                        </Button>\r\n                    )\r\n            },\r\n        }\r\n    ];\r\n    constructor(props) {\r\n        super(props);\r\n        this.courseId = parseInt(props.match.params.id);\r\n        this.updatedExamPublish={};//要更新的发布数据\r\n        this.state={\r\n            examPublishData:[],\r\n            examSubmitData:[],\r\n            classData:[],//有哪些班级\r\n            selectedValue:0,//选择的班级\r\n            republishExamModal:false,\r\n            submitRecordVisible:false,\r\n        }\r\n    }\r\n    goToMarkExam=(record)=>{\r\n        this.props.history.push({\r\n            pathname:\"/markExam\",\r\n            search:`examSubmitId=${record.ID}`,\r\n        });\r\n    };\r\n    setExamPublishId=()=>{\r\n        let search = this.props.location.search;\r\n        if(search!==\"\") {\r\n            this.examPublishId = queryString.parse(search.slice(1)).examPublishId;\r\n            return this.examPublishId\r\n        }\r\n    };\r\n    onRepublishFormFinish=async (values)=>{\r\n        let publish={\r\n            id:this.updatedExamPublish.ID,\r\n            duration:values.duration,\r\n            beginTime:values.range[0].format(),\r\n            endTime:values.range[1].format(),\r\n        };\r\n        try{\r\n            await Request.updateExamPublishById(publish);\r\n            this.cancelRepublishExamModal();\r\n            this.loadExamPublishData(this.state.selectedValue);\r\n            message.success(\"更新成功\")\r\n        }catch (e) {\r\n            message.error(\"更新失败\");\r\n        }\r\n\r\n    };\r\n    showRepublishExamModal=(record)=>{\r\n        let range=new Array(2);\r\n        range[0]=moment(record.beginTime);\r\n        range[1]=moment(record.endTime);\r\n        this.updatedExamPublish={...record,range:range};\r\n        this.setState({republishExamModal:true});\r\n    };\r\n    cancelRepublishExamModal=()=>{\r\n        this.setState({republishExamModal:false});\r\n    };\r\n    loadClassData=async ()=>{\r\n        try{\r\n            const result = await Request.getClassesByCourseId(this.courseId);\r\n            if(result.length!==0){\r\n\r\n                this.setState({classData:result,selectedValue:result[0].ID});\r\n                this.loadExamPublishData(result[0].ID);\r\n            }\r\n        }catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n    loadExamPublishData=async (classId)=>{\r\n        try{\r\n            const result=await Request.getExamPublishesByClassId(classId);\r\n            this.setState({examPublishData:result})\r\n        }catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n    loadExamSubmitData=async (examPublishId)=>{\r\n        try{\r\n            const result = await Request.getExamSubmitsByPublishId(examPublishId);\r\n            this.setState({examSubmitData:result});\r\n        }catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n    showExamSubmitRecord=(examPublish)=>{\r\n        this.props.history.push({pathname:\"exam\",search:`examPublishId=${examPublish.ID}`});\r\n    };\r\n    cancelExamSubmitRecord=()=>{\r\n        this.props.history.push({pathname:\"exam\"});\r\n    };\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if(this.props.location !== prevProps.location){//根据路由变化决定显示发布的作业数据页面还是具体的提交数据页面\r\n            this.setSubmitRecordVisible();\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.loadClassData();\r\n        this.setSubmitRecordVisible();\r\n    }\r\n    setSubmitRecordVisible=()=>{//提交的作业记录表格是否可见\r\n        if(this.setExamPublishId()){\r\n            this.setState({submitRecordVisible:true});\r\n            this.loadExamSubmitData(this.examPublishId);\r\n        }else{\r\n            this.setState({submitRecordVisible:false});\r\n        }\r\n    };\r\n    onSelectChange=(value)=>{\r\n        this.setState({selectedValue:value});\r\n        this.loadExamPublishData(value);\r\n    };\r\n    downloadExamExcel=async ()=>{\r\n      try{\r\n          await Request.exportExamToExcel(this.examPublishId)\r\n      }catch (e) {\r\n          message.error(\"下载出错\");\r\n      }\r\n    };\r\n    getSummary=(pageData)=>{\r\n        if(pageData.length===0)return null;\r\n        let scoreArr=[];\r\n        pageData.forEach(({totalScore})=>{\r\n            scoreArr.push(totalScore);\r\n        });\r\n        let min=scoreArr[0];let max=scoreArr[0];let average=0;\r\n        scoreArr.forEach((item)=>{\r\n            min=Math.min(min,item);\r\n            max=Math.max(max,item);\r\n            average=average+item;\r\n        });\r\n        average=average/scoreArr.length;\r\n        return (\r\n            <React.Fragment>\r\n                <tr>\r\n                    <th>统计</th>\r\n                    <td>最低分</td>\r\n                    <td>{min}分</td>\r\n                    <td>最高分</td>\r\n                    <td>{max}分</td>\r\n                    <td>平均分</td>\r\n                    <td>{average}分</td>\r\n                    <td/>\r\n                </tr>\r\n            </React.Fragment>\r\n        )\r\n    };\r\n    render() {\r\n        const examPublishList=(\r\n            <div>\r\n                <Modal title=\"重设发放\" onCancel={this.cancelRepublishExamModal} destroyOnClose={true}\r\n                       visible={this.state.republishExamModal} footer={null}>\r\n                    <Form initialValues={this.updatedExamPublish} name=\"republish-examLib\" onFinish={this.onRepublishFormFinish} {...formItemLayout}>\r\n                        <Form.Item name=\"duration\" label=\"考试时间\" rules={[{required: true,message: '请输入时间'},]}>\r\n                            <InputNumber min={10} />\r\n                        </Form.Item>\r\n                        <Form.Item label=\"起止时间\" name=\"range\" rules={[{ type: 'array', required: true, message: '请选择时间'}]}>\r\n                            <DatePicker.RangePicker showTime format=\"YYYY-MM-DD HH:mm:ss\" />\r\n                        </Form.Item>\r\n                        <Form.Item {...tailFormItemLayout}>\r\n                            <Button type=\"primary\" htmlType=\"submit\" style={{width:\"100%\"}}>确认</Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Modal>\r\n                <div style={{marginBottom:10}}>\r\n                    <Select placeholder=\"请选择班级\" style={{width:150}} value={this.state.selectedValue}  onChange={this.onSelectChange}>\r\n                        {\r\n                            this.state.classData.map((item)=>{\r\n                                return (\r\n                                    <Select.Option key={item.ID} value={item.ID}>{item.className}</Select.Option>\r\n                                )\r\n                            })\r\n                        }\r\n                    </Select>\r\n                </div>\r\n                <Row gutter={16}>\r\n                    {\r\n                        this.state.examPublishData.map((item)=>{\r\n                            return (<Col span={8} key={item.ID}>\r\n                                <Card title={item.examLib.name} actions={[\r\n                                    <div style={{display:\"flex\",justifyContent:\"space-between\",paddingLeft:20,paddingRight:20}}>\r\n                                        <span><span style={{fontSize:20,color:\"red\"}}>{item.unMarkCount}</span>份待批</span>\r\n                                        <Space>\r\n                                            <Button onClick={()=>this.showRepublishExamModal(item)}>重设发放</Button>\r\n                                            <Button onClick={()=>this.showExamSubmitRecord(item)}>查看</Button>\r\n                                        </Space>\r\n                                    </div>]\r\n                                }>\r\n                                    <div>开始时间:{moment(item.beginTime).format(\"YYYY-MM-DD HH:mm:ss\")}</div>\r\n                                    <div>结束时间:{moment(item.endTime).format(\"YYYY-MM-DD HH:mm:ss\")}</div>\r\n                                    <div>考试时间:{item.duration}分钟</div>\r\n                                    <div>提交人数:{item.submitCount}人</div>\r\n                                </Card>\r\n                            </Col>)\r\n                        })\r\n                    }\r\n                </Row>\r\n            </div>\r\n        );\r\n        const examSubmitRecord=(\r\n            <div>\r\n                <div style={{marginBottom:10}}>\r\n                    <Button type=\"link\" icon={<ArrowLeftOutlined/>} onClick={this.cancelExamSubmitRecord}>返回</Button>\r\n                    <Button type=\"primary\" icon={<DownloadOutlined/>} onClick={this.downloadExamExcel}>导出成绩到Excel</Button>\r\n                </div>\r\n                <Table bordered  columns={this.columns} dataSource={this.state.examSubmitData}\r\n                       summary={this.getSummary}  pagination={false} rowKey={record=>record.ID}\r\n                />\r\n            </div>\r\n        );\r\n        return (\r\n            this.state.submitRecordVisible?examSubmitRecord:examPublishList\r\n        )\r\n    }\r\n}\r\nexport default withRouter(ExamComponent)","import React from \"react\";\r\nimport Request from \"../../../api\";\r\nimport {Button, DatePicker, Form, InputNumber, message, Select} from \"antd\";\r\nconst formItemLayout = {labelCol: {span:4}, wrapperCol: {span:20}};\r\nconst tailFormItemLayout = {wrapperCol: {span:16,offset:4}};\r\nexport default class PublishExamForm extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.formRef=React.createRef();\r\n        this.state={\r\n            classes:[],\r\n        }\r\n    }\r\n    loadClassesInfo=async ()=>{\r\n        try{\r\n            const result = await Request.getClassesByCourseId(this.props.courseId);\r\n            let classes = [];\r\n            result.forEach((item)=>{\r\n                classes.push({value:item.ID,name:item.className});\r\n            });\r\n            this.setState({classes:classes});\r\n        }catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n    componentDidMount() {\r\n        this.loadClassesInfo();\r\n    }\r\n\r\n    onFinish = (values) => {\r\n        if(values.range[1].diff(values.range[0],'minute')> values.duration){\r\n            let form = {\r\n                ...values,\r\n                beginTime: values.range[0].format(),\r\n                endTime: values.range[1].format(),\r\n            };\r\n            this.props.onFinish(form);\r\n        }else{\r\n            message.error(\"起止时间差应大于考试持续时间\");\r\n        }\r\n    };\r\n    render() {\r\n        return (\r\n            <Form ref={this.formRef} name=\"publish-homeworkLib\" onFinish={this.onFinish} {...formItemLayout}>\r\n                <Form.Item label=\"班级\" name=\"classId\" hasFeedback rules={[{required: true,message: '请选择班级!'},]}>\r\n                    <Select placeholder=\"请选择班级\">\r\n                        {\r\n                            this.state.classes.map((item)=>{\r\n                                return (\r\n                                    <Select.Option key={item.value} value={item.value}>{item.name}</Select.Option>\r\n                                )\r\n                            })\r\n                        }\r\n                    </Select>\r\n                </Form.Item>\r\n                <Form.Item label=\"起止时间\" name=\"range\" rules={[{ type: 'array', required: true, message: '请选择时间'}]}>\r\n                    <DatePicker.RangePicker showTime format=\"YYYY-MM-DD HH:mm:ss\" />\r\n                </Form.Item>\r\n                <Form.Item name=\"duration\" label=\"考试时间\" rules={[{required: true,message: '请输入时间'},]}>\r\n                    <InputNumber min={10} />\r\n                </Form.Item>\r\n                <Form.Item {...tailFormItemLayout}>\r\n                    <Button type=\"primary\" htmlType=\"submit\" style={{width:\"100%\"}}>确认</Button>\r\n                </Form.Item>\r\n            </Form>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport moment from \"moment\";\r\nimport {Button, Divider, Form, Input, message, Modal, Space, Table, Upload} from \"antd\";\r\nimport Request from \"../../../api\";\r\nimport {withRouter} from \"react-router\";\r\nimport PublishExamForm from \"./publish-exam-form\";\r\nimport {UploadOutlined} from \"@ant-design/icons\";\r\nconst formItemLayout = {labelCol: {span:4}, wrapperCol: {span:20}};\r\nconst tailFormItemLayout = {wrapperCol: {span:16,offset:4}};\r\nclass ExamLibComponent extends React.Component{\r\n    columns=[\r\n        {title: '试卷标题', dataIndex: 'name',width:\"30%\"},\r\n        {title: '创建时间', dataIndex: 'CreatedAt',width:\"20%\",align:'center',\r\n            render:(text)=>{\r\n                return moment(text).format('YYYY-MM-DD HH:mm:ss');\r\n            }\r\n        },\r\n        {title:'题目数量',dataIndex:'subjectCount',width:\"10%\",align:'center'},\r\n        {title:'总分',dataIndex:'totalScore',width:\"10%\",align:'center'},\r\n        {title:'操作',key:'action',width:\"30%\",align:'center',\r\n            render: (text,record) => {\r\n                return (\r\n                    <Space size={2}>\r\n                        <Button style={{padding:0}} type=\"link\"\r\n                                onClick={()=>this.showRenameModal(record)}>\r\n                            重命名\r\n                        </Button>\r\n                        <Divider type=\"vertical\" />\r\n                        <Button style={{padding:0}} type='link'\r\n                                onClick={()=>this.goToEditExamLib(record)}>\r\n                            编辑\r\n                        </Button>\r\n                        <Divider type=\"vertical\" />\r\n                        <Button style={{padding:0}} type='link'\r\n                                onClick={()=>this.showImportLibModal(record)}>\r\n                            从Excel中导入\r\n                        </Button>\r\n                        <Divider type=\"vertical\" />\r\n                        <Button style={{padding:0}} type='link'\r\n                                onClick={()=>this.exportLibToExcel(record)}>\r\n                            导出到Excel\r\n                        </Button>\r\n                        <Divider type=\"vertical\" />\r\n                        <Button style={{padding:0}} disabled={record.subjectCount===0} type='link'\r\n                                onClick={()=>this.showPublishLibModal(record)}>\r\n                            发布考试\r\n                        </Button>\r\n                    </Space>\r\n                )\r\n            },\r\n        }\r\n    ];\r\n    constructor(props) {\r\n        super(props);\r\n        this.courseId = parseInt(props.match.params.id);\r\n        this.updatedLib={name:\"\"};//要更新的库\r\n        this.state={\r\n            examLibData:[],\r\n            renameModal:false,\r\n            createLibModal:false,\r\n            publishLibModal:false,\r\n\r\n            importLibModal:false,\r\n            uploading:false,\r\n            fileList:[],\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        this.loadExamLibData();\r\n    }\r\n    goToEditExamLib=(record)=>{\r\n        let query = `courseId=${this.courseId}&examLibId=${record.ID}`;\r\n        this.props.history.push({pathname:\"/editor\",search:query});\r\n    };\r\n    showRenameModal=(record)=>{\r\n        this.setState({renameModal:true});\r\n        this.updatedLib=record;\r\n    };\r\n    cancelRenameModal=()=>{\r\n        this.setState({renameModal:false});\r\n    };\r\n    renameExamLib=async (values)=>{\r\n        try{\r\n            await Request.updateExamLibNameById({id:this.updatedLib.ID,name:values.name});\r\n            message.success(\"已更新\");\r\n            this.cancelRenameModal();\r\n            this.loadExamLibData();\r\n        }catch (e) {\r\n            message.error(\"操作失败\");\r\n        }\r\n    };\r\n\r\n    showPublishLibModal=(record)=>{\r\n        this.publishedExamLibId=record.ID;\r\n        this.setState({publishLibModal:true})\r\n    };\r\n    cancelPublishLibModal=()=>{\r\n        this.setState({publishLibModal:false})\r\n    };\r\n    publishExam=async (values)=>{\r\n        values={...values,examLibId:this.publishedExamLibId};\r\n        try{\r\n            const result = await Request.publishExam(values);\r\n            if(result.code===202){\r\n                message.info(\"该班级已发布过,不能重复发布\")\r\n            }else{\r\n                message.success(\"发布成功\");\r\n                this.cancelPublishLibModal();\r\n            }\r\n        }catch (e) {\r\n            message.error(\"发布失败\");\r\n        }\r\n    };\r\n    loadExamLibData=async ()=>{\r\n        try{\r\n            const result = await Request.getExamLibsByCourseId(this.courseId);\r\n            this.setState({examLibData:result})\r\n        }catch (e) {\r\n            message.error(\"获取数据失败\");\r\n        }\r\n    };\r\n\r\n    beforeUpload = () => {\r\n        return false;\r\n    };\r\n    onRemove = () => {\r\n        this.setState({fileList:[]});\r\n    };\r\n    handleUploadChange=(info)=>{\r\n        let fileList = [...info.fileList];\r\n        fileList = fileList.slice(-1);\r\n        this.setState({fileList:fileList});\r\n    };\r\n    showImportLibModal=(record)=>{\r\n        this.setState({importLibModal:true});\r\n        this.updatedLib=record;\r\n    };\r\n    cancelImportLibModal=()=>{\r\n        this.setState({importLibModal:false});\r\n    };\r\n    exportLibToExcel=async (record)=>{\r\n        try{\r\n            await Request.exportLibSubjectToExcel(record.ID,\"exam\");\r\n        }catch (e) {\r\n            message.error(\"下载出错\");\r\n        }\r\n    };\r\n    importLibFormExcel=async ()=>{\r\n        const { fileList } = this.state;\r\n        const formData = new FormData();\r\n        if(fileList.length!==0){\r\n            formData.append('excel', fileList[0].originFileObj);\r\n        }\r\n        formData.append('libId',this.updatedLib.ID);\r\n        formData.append('type',\"exam\");\r\n        this.setState({uploading: true,});\r\n        try {\r\n            await Request.importExcelSubjectToLib(formData);\r\n            this.setState({\r\n                uploading: false,\r\n                fileList: [],\r\n                importLibModal:false,\r\n            });\r\n            message.success(\"导入题库成功\");\r\n            this.loadExamLibData();\r\n        }catch (e) {\r\n            let err=\"\";\r\n            if(e.response.data.err){\r\n                err=e.response.data.err;\r\n            }\r\n            message.error(\"导入失败!\"+err);\r\n            this.setState({uploading:false});\r\n        }\r\n    };\r\n    downloadExcelExample=async ()=>{\r\n        try{\r\n            await Request.downloadExcelExample();\r\n        }catch (e) {\r\n            message.error(\"下载出错\");\r\n        }\r\n    };\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Modal title=\"重命名\" destroyOnClose={true} onCancel={this.cancelRenameModal}\r\n                       visible={this.state.renameModal} footer={null}>\r\n                    <Form name=\"rename-lib\" onFinish={this.renameExamLib} {...formItemLayout}>\r\n                        <Form.Item name=\"name\" label=\"名称\"  rules={[{required: true,message: '请输入名称!'},]}>\r\n                            <Input  />\r\n                        </Form.Item>\r\n                        <Form.Item {...tailFormItemLayout}>\r\n                            <Button type=\"primary\" htmlType=\"submit\" style={{width:\"100%\"}}>确认</Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Modal>\r\n                <Modal title=\"导入试题\" destroyOnClose={true} onCancel={this.cancelImportLibModal}\r\n                       visible={this.state.importLibModal} footer={null}>\r\n                    <Upload  listType=\"picture\" multiple={false} onChange={this.handleUploadChange}\r\n                             onRemove={this.onRemove}\r\n                             beforeUpload={this.beforeUpload} fileList={this.state.fileList}>\r\n                        <Button>\r\n                            <UploadOutlined /> 选择Excel文件\r\n                        </Button>\r\n                    </Upload>\r\n                    <Button type=\"primary\" onClick={this.importLibFormExcel}\r\n                            disabled={this.state.fileList.length===0} loading={this.state.uploading}\r\n                            style={{ marginTop: 16 }}\r\n                    >\r\n                        {this.state.uploading ? '上传中' : '开始上传'}\r\n                    </Button>\r\n                </Modal>\r\n                <Modal title=\"发布考试\" onCancel={this.cancelPublishLibModal}\r\n                       visible={this.state.publishLibModal} footer={null}>\r\n                    <PublishExamForm courseId={this.courseId} onFinish={this.publishExam}/>\r\n                </Modal>\r\n                <Button style={{marginBottom:10}} onClick={this.downloadExcelExample} type=\"primary\">下载导入题库的Excel模板</Button>\r\n                <Table bordered  columns={this.columns} dataSource={this.state.examLibData}\r\n                       pagination={false} rowKey={record=>record.ID}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(ExamLibComponent)","import React from \"react\";\r\nimport {Button, Card, Form, Input, message, Modal} from \"antd\";\r\nimport Request from \"../../../api\";\r\nimport ExamComponent from \"./examComponent\";\r\nimport ExamLibComponent from \"./examLibComponent\";\r\nconst formItemLayout = {labelCol: {span:4}, wrapperCol: {span:20}};\r\nconst tailFormItemLayout = {wrapperCol: {span:16,offset:4}};\r\nexport default class Exam extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.courseId = parseInt(props.match.params.id);\r\n        this.state={\r\n            createLibModal:false,\r\n            tabKey:'exam',\r\n        };\r\n    };\r\n    showCreateLibModal=()=>{\r\n        this.setState({createLibModal:true});\r\n    };\r\n    cancelCreateLibModal=()=>{\r\n        this.setState({createLibModal:false});\r\n    };\r\n    createExamLib = async (values)=>{\r\n        try{\r\n            await Request.createExamLib({courseId:this.courseId,name:values.name});\r\n            message.success(\"已创建\");\r\n            this.cancelCreateLibModal();\r\n        }catch (e) {\r\n            message.error(\"操作失败\");\r\n        }\r\n    };\r\n\r\n    onTabChange=(key)=>{\r\n        this.setState({tabKey:key});\r\n    };\r\n    render() {\r\n        const tabList = [{key: 'exam', tab: '考试'}, {key: 'examLib', tab: '试题库'}];\r\n        const contentList = {\r\n            exam: <ExamComponent/>,\r\n            examLib: <ExamLibComponent/>,\r\n        };\r\n        let tabBarExtraContent=this.state.tabKey!==\"examLib\"?null:\r\n            <Button type='link' onClick={this.showCreateLibModal}>新建试题库</Button>;\r\n        return (\r\n            <Card  bodyStyle={{padding:20}} style={{width:\"80%\",height:\"100%\",marginLeft:\"auto\",marginRight:\"auto\"}}\r\n                   tabList={tabList} activeTabKey={this.state.tabKey} onTabChange={this.onTabChange}\r\n                   tabBarExtraContent={tabBarExtraContent}\r\n            >\r\n                <Modal title=\"新建\" onCancel={this.cancelCreateLibModal}\r\n                       visible={this.state.createLibModal} footer={null}>\r\n                    <Form name=\"create-lib\" onFinish={this.createExamLib} {...formItemLayout}>\r\n                        <Form.Item name=\"name\" label=\"名称\"  rules={[{required: true,message: '请输入名称!'},]}>\r\n                            <Input  />\r\n                        </Form.Item>\r\n                        <Form.Item {...tailFormItemLayout}>\r\n                            <Button type=\"primary\" htmlType=\"submit\" style={{width:\"100%\"}}>确认</Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Modal>\r\n                {contentList[this.state.tabKey]}\r\n            </Card>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Layout, Menu} from \"antd\";\r\nimport {Link, Redirect, Route, Switch} from \"react-router-dom\";\r\nimport Request from '../../api'\r\nimport Home from \"./home\";\r\nimport Classes from \"./class\";\r\nimport Resource from \"./resource\";\r\nimport Notify from \"./notify\";\r\nimport Homework from \"./homework/homework\";\r\nimport Discuss from \"./discuss/discuss\";\r\nimport Exam from \"./exam/exam\";\r\nimport Constant from \"../../utils/constant\";\r\nimport github from \"../../assets/github.svg\";\r\nconst { Header } = Layout;\r\nexport default class TeacherCourse extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.parentPath=\"/teacher-course/\"+props.match.params.id;\r\n        this.state={\r\n          courseName:\"\",\r\n        };\r\n    }\r\n    menuData=[\r\n        {key:\"home\", path:\"/home\", text:\"首页\"},\r\n        {key:\"class\",path:\"/class\", text:\"班级\"},\r\n        {key:\"resource\",path:\"/resource\", text:\"资料\"},\r\n        {key:\"notify\",path:\"/notify\", text:\"通知\"},\r\n        {key:\"homework\",path:\"/homework\", text:\"作业\"},\r\n        {key:\"exam\",path:\"/exam\", text:\"考试\"},\r\n        {key:\"discuss\",path:\"/discuss\", text:\"讨论\"},\r\n    ];\r\n    componentDidMount() {\r\n        this.loadCourseData();\r\n    }\r\n    loadCourseData=async ()=>{\r\n        try{\r\n           const result= await Request.getCourseById(this.props.match.params.id);\r\n           this.setState({courseName:result.name});\r\n        }catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n    goToUserPage=()=>{\r\n        this.props.history.push(\"/user\");\r\n    };\r\n    render() {\r\n        return (\r\n            <Layout className=\"teacher-course\" >\r\n                <Header className=\"header\" style={{marginBottom:1}}>\r\n                    <div onClick={this.goToUserPage} className=\"course-name\">{this.state.courseName}</div>\r\n                    <a style={{marginLeft:20}} href={Constant.Github}><img alt=\"github\" src={github}/></a>\r\n                    <Menu theme=\"light\" mode=\"horizontal\"\r\n                           className=\"menu\">\r\n                        {\r\n                            this.menuData.map((item)=>{\r\n                                return (\r\n                                    <Menu.Item key={item.key}>\r\n                                        <Link to={this.parentPath+item.path}>\r\n                                            <span className=\"nav-text\">{item.text}</span>\r\n                                        </Link>\r\n                                    </Menu.Item>\r\n                                )\r\n                            })\r\n                        }\r\n                    </Menu>\r\n                </Header>\r\n                <Layout>\r\n                    <Switch>\r\n                        <Redirect from=\"/teacher-course/:id\" exact to=\"/teacher-course/:id/home\"/>\r\n                        <Route path=\"/teacher-course/:id/home\" component={Home}/>\r\n                        <Route path=\"/teacher-course/:id/class\" component={Classes}/>\r\n                        <Route path=\"/teacher-course/:id/resource\" component={Resource}/>\r\n                        <Route path=\"/teacher-course/:id/notify\" component={Notify}/>\r\n                        <Route path=\"/teacher-course/:id/homework\" component={Homework}/>\r\n                        <Route path=\"/teacher-course/:id/exam\" component={Exam}/>\r\n                        <Route path=\"/teacher-course/:id/discuss\" component={Discuss}/>\r\n                    </Switch>\r\n                </Layout>\r\n            </Layout>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Radio, Input, Form, Button, InputNumber} from 'antd';\r\nconst formItemLayout = {\r\n    labelCol: {span:2},\r\n    wrapperCol: {span:16},\r\n};\r\nconst tailFormItemLayout = {\r\n    wrapperCol: {offset:2},\r\n};\r\nexport default class SingleSubjectEditor extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.formRef=React.createRef();\r\n        this.allOptions=['A','B','C','D','E','F','G','H','I'];\r\n        let options=this.allOptions.slice(0,4);\r\n        if (props.dataSource){\r\n            options=this.allOptions.slice(0,props.dataSource.options.length);\r\n        }\r\n        this.state = {\r\n            options:options,\r\n        };\r\n\r\n    };\r\n    setFormOptionsInitialValues=()=>{\r\n        if(!this.props.dataSource) return;\r\n        let values={...this.props.dataSource};\r\n        this.props.dataSource.options.forEach((item)=>{\r\n           values={...values,[item.sequence]:item.content};\r\n        });\r\n        this.formRef.current.setFieldsValue(values);\r\n    };\r\n    componentDidMount() {\r\n        this.setFormOptionsInitialValues();\r\n    }\r\n    addOption=()=>{\r\n        let optionLength=this.state.options.length;\r\n        this.state.options.push(this.allOptions[optionLength]);\r\n        this.setState({\r\n            options:this.state.options,\r\n        });\r\n    };\r\n    deleteOption=()=>{\r\n        this.state.options.pop();\r\n        this.setState({\r\n            options:this.state.options,\r\n        });\r\n    };\r\n    onFinish=(values)=>{\r\n        if(!this.props.onFinish)return;\r\n        let options=[];\r\n        this.state.options.forEach((item)=>{\r\n            options.push({sequence:item,content:values[item]});\r\n        });\r\n        this.props.onFinish({type:\"单选题\",options:options,...values});\r\n    };\r\n    render() {\r\n        return (\r\n            <div >\r\n                <Form ref={this.formRef}  onFinish={this.onFinish} name=\"create-single\" {...formItemLayout}>\r\n                    <Form.Item name=\"score\" label=\"分值\" rules={[{required: true,message: '请输入分值'},]}>\r\n                        <InputNumber min={1} max={100}/>\r\n                    </Form.Item>\r\n                    <Form.Item name=\"question\" label=\"题干\"\r\n                               rules={[{required: true,message: '请输入题干'},]}>\r\n                        <Input.TextArea rows={4}/>\r\n                    </Form.Item>\r\n                    {\r\n                        this.state.options.map((item)=>{\r\n                          return (\r\n                              <Form.Item rules={[{required: true,message: '请输入内容'},]}\r\n                                  name={item} label={`选项${item}`} key={item}>\r\n                                  <Input.TextArea rows={1}/>\r\n                              </Form.Item>\r\n                          )\r\n                        })\r\n                    }\r\n                    <Form.Item name=\"answer\" label=\"正确答案\"\r\n                               rules={[{required: true,message: '请输入正确答案'},]}>\r\n                        <Radio.Group>\r\n                            {\r\n                                this.state.options.map((item)=>{\r\n                                    return (\r\n                                        <Radio value={item} key={item}>{item}</Radio>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </Radio.Group>\r\n                    </Form.Item>\r\n                    <Form.Item {...tailFormItemLayout}>\r\n                        <Button disabled={this.state.options.length===this.allOptions.length} onClick={this.addOption} style={{marginRight:10}}>添加选项</Button>\r\n                        <Button disabled={this.state.options.length===2} onClick={this.deleteOption} style={{marginRight:10}}>删除选项</Button>\r\n                        <Button type=\"primary\" htmlType=\"submit\">\r\n                            确定\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Input, Form, Button, InputNumber,Checkbox} from 'antd';\r\nconst formItemLayout = {\r\n    labelCol: {span:2},\r\n    wrapperCol: {span:16},\r\n};\r\nconst tailFormItemLayout = {\r\n    wrapperCol: {offset:2},\r\n};\r\nexport default class MultipleSubjectEditor extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.formRef=React.createRef();\r\n        this.allOptions=['A','B','C','D','E','F','G','H','I'];\r\n        let options=this.allOptions.slice(0,4);\r\n        if (props.dataSource){\r\n            options=this.allOptions.slice(0,props.dataSource.options.length);\r\n        }\r\n        this.state = {\r\n            options:options,\r\n        };\r\n    };\r\n    setFormOptionsInitialValues=()=>{\r\n        if(!this.props.dataSource) return;\r\n        let values={...this.props.dataSource};\r\n        this.props.dataSource.options.forEach((item)=>{\r\n            values={...values,[item.sequence]:item.content};\r\n        });\r\n        let answer = this.props.dataSource.answer;\r\n        if(answer!==undefined&&answer!=null&&answer!==''){\r\n            answer = answer.split(',');//将1,2变为数组[1,2]\r\n            values={...values,answer:answer};\r\n        }\r\n        this.formRef.current.setFieldsValue(values);\r\n    };\r\n    componentDidMount() {\r\n        this.setFormOptionsInitialValues();\r\n    }\r\n    addOption=()=>{\r\n        let optionLength=this.state.options.length;\r\n        this.state.options.push(this.allOptions[optionLength]);\r\n        this.setState({\r\n            options:this.state.options,\r\n        });\r\n    };\r\n    deleteOption=()=>{\r\n        this.state.options.pop();\r\n        this.setState({\r\n            options:this.state.options,\r\n        });\r\n    };\r\n    onFinish=(values)=>{\r\n        if(!this.props.onFinish) return;\r\n        let answer=values.answer.toString();//将数组[1,2]变为字符串1,2\r\n        let options=[];\r\n        this.state.options.forEach((item)=>{\r\n            options.push({sequence:item,content:values[item]});\r\n        });\r\n        this.props.onFinish({type: \"多选题\", ...values,answer:answer,options:options});\r\n\r\n    };\r\n    render() {\r\n        return (\r\n            <div >\r\n                <Form ref={this.formRef} onFinish={this.onFinish} name=\"create-multiple\" {...formItemLayout}>\r\n                    <Form.Item name=\"score\" label=\"分值\" rules={[{required: true,message: '请输入分值'},]}>\r\n                        <InputNumber min={1} max={100}/>\r\n                    </Form.Item>\r\n                    <Form.Item name=\"question\" label=\"题干\"\r\n                               rules={[{required: true,message: '请输入题干'},]}>\r\n                        <Input.TextArea rows={4}/>\r\n                    </Form.Item>\r\n                    {\r\n                        this.state.options.map((item)=>{\r\n                            return (\r\n                                <Form.Item rules={[{required: true,message: '请输入内容'},]}\r\n                                           name={item} label={`选项${item}`} key={item}>\r\n                                    <Input.TextArea rows={1}/>\r\n                                </Form.Item>\r\n                            )\r\n                        })\r\n                    }\r\n                    <Form.Item name=\"answer\" label=\"正确答案\"\r\n                               rules={[{required: true,message: '请输入正确答案'},]}>\r\n                        <Checkbox.Group>\r\n                            {\r\n                                this.state.options.map((item)=>{\r\n                                    return (\r\n                                        <Checkbox value={item} key={item}>{item}</Checkbox>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </Checkbox.Group>\r\n                    </Form.Item>\r\n                    <Form.Item {...tailFormItemLayout}>\r\n                        <Button disabled={this.state.options.length===this.allOptions.length} onClick={this.addOption} style={{marginRight:10}}>添加选项</Button>\r\n                        <Button disabled={this.state.options.length===2} onClick={this.deleteOption} style={{marginRight:10}}>删除选项</Button>\r\n                        <Button type=\"primary\" htmlType=\"submit\">\r\n                            确定\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Button, Form, Input, InputNumber, Radio} from \"antd\";\r\nconst formItemLayout = {\r\n    labelCol: {span:2},\r\n    wrapperCol: {span:16},\r\n};\r\nconst tailFormItemLayout = {\r\n    wrapperCol: {offset:2},\r\n};\r\nexport default class JudgementSubjectEditor extends React.Component{\r\n    onFinish=(values)=>{\r\n        if(!this.props.onFinish) return;\r\n        this.props.onFinish({type: \"判断题\", ...values});\r\n\r\n    };\r\n    render() {\r\n        return (\r\n            <div >\r\n                <Form onFinish={this.onFinish} initialValues={this.props.dataSource} name=\"create-judgement\" {...formItemLayout}>\r\n                    <Form.Item name=\"score\" label=\"分值\" rules={[{required: true,message: '请输入分值'},]}>\r\n                        <InputNumber min={1} max={100}/>\r\n                    </Form.Item>\r\n                    <Form.Item name=\"question\" label=\"题干\"\r\n                               rules={[{required: true,message: '请输入题干'},]}>\r\n                        <Input.TextArea  rows={5}/>\r\n                    </Form.Item>\r\n                    <Form.Item name=\"answer\" label=\"正确答案\" rules={[{required: true,message: '请输入正确答案'},]}>\r\n                        <Radio.Group>\r\n                            <Radio value={'1'}>对</Radio>\r\n                            <Radio value={'0'}>错</Radio>\r\n                        </Radio.Group>\r\n                    </Form.Item>\r\n                    <Form.Item {...tailFormItemLayout}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">\r\n                            确定\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Button, Form, Input, InputNumber} from \"antd\";\r\nconst formItemLayout = {\r\n    labelCol: {span:2},\r\n    wrapperCol: {span:16},\r\n};\r\nconst tailFormItemLayout = {\r\n    wrapperCol: {offset:2},\r\n};\r\nexport default class BlankSubjectEditor extends React.Component{\r\n    onFinish=(values)=>{\r\n        if(this.props.onFinish !== undefined && this.props.onFinish!==null) {\r\n            this.props.onFinish({type: \"填空题\", ...values});\r\n        }\r\n    };\r\n    render() {\r\n        return (\r\n            <div >\r\n                <Form onFinish={this.onFinish} initialValues={this.props.dataSource} name=\"create-blank\" {...formItemLayout}>\r\n                    <Form.Item name=\"score\" label=\"分值\" rules={[{required: true,message: '请输入分值'},]}>\r\n                        <InputNumber min={1} max={100}/>\r\n                    </Form.Item>\r\n                    <Form.Item name=\"question\" label=\"题干\"\r\n                               rules={[{required: true,message: '请输入题干'},]}>\r\n                        <Input.TextArea  rows={5}/>\r\n                    </Form.Item>\r\n\r\n                    <Form.Item name=\"answer\" label=\"正确答案\" rules={[{required: true,message: '请输入正确答案'},]}>\r\n                        <Input.TextArea  rows={5}/>\r\n                    </Form.Item>\r\n                    <Form.Item wrapperCol={{offset:2}}>\r\n                        <span>每个空的答案用英文逗号分割</span>\r\n                    </Form.Item>\r\n                    <Form.Item {...tailFormItemLayout}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">\r\n                            确定\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Button, Form, Input, InputNumber} from \"antd\";\r\nconst formItemLayout = {\r\n    labelCol: {span:2},\r\n    wrapperCol: {span:16},\r\n};\r\nconst tailFormItemLayout = {\r\n    wrapperCol: {offset:2},\r\n};\r\nexport default class ShortSubjectEditor extends React.Component{\r\n    onFinish=(values)=>{\r\n        if(this.props.onFinish) {\r\n            let answer=values.answer;\r\n            if(!values.answer){answer=\"\";}\r\n            this.props.onFinish({type: \"简答题\", ...values,answer:answer});\r\n        }\r\n    };\r\n    render() {\r\n        return (\r\n            <div >\r\n                <Form onFinish={this.onFinish} initialValues={this.props.dataSource} name=\"create-short\" {...formItemLayout}>\r\n                    <Form.Item name=\"score\" label=\"分值\" rules={[{required: true,message: '请输入分值'},]}>\r\n                        <InputNumber min={1} max={100}/>\r\n                    </Form.Item>\r\n                    <Form.Item name=\"question\" label=\"题干\"\r\n                               rules={[{required: true,message: '请输入题干'},]}>\r\n                        <Input.TextArea  rows={5}/>\r\n                    </Form.Item>\r\n                    <Form.Item name=\"answer\" label=\"参考答案\">\r\n                        <Input.TextArea  rows={5}/>\r\n                    </Form.Item>\r\n                    <Form.Item {...tailFormItemLayout}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">\r\n                            确定\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Button, Form, Input, InputNumber} from \"antd\";\r\nconst formItemLayout = {\r\n    labelCol: {span:2},\r\n    wrapperCol: {span:16},\r\n};\r\nconst tailFormItemLayout = {\r\n    wrapperCol: {offset:2},\r\n};\r\nexport default class ProgramSubjectEditor extends React.Component{\r\n    onFinish=(values)=>{\r\n        if(this.props.onFinish !== undefined && this.props.onFinish!==null) {\r\n            this.props.onFinish({type: \"编程题\", ...values});\r\n        }\r\n    };\r\n    render() {\r\n        return (\r\n            <div >\r\n                <Form onFinish={this.onFinish} initialValues={this.props.dataSource} name=\"create-single\" {...formItemLayout}>\r\n                    <Form.Item name=\"score\" label=\"分值\" rules={[{required: true,message: '请输入分值'},]}>\r\n                        <InputNumber min={1} max={100}/>\r\n                    </Form.Item>\r\n                    <Form.Item name=\"question\" label=\"题干\"\r\n                               rules={[{required: true,message: '请输入题干'},]}>\r\n                        <Input.TextArea  rows={5}/>\r\n                    </Form.Item>\r\n                    <Form.Item name=\"answer\" label=\"正确答案\" rules={[{required: true,message: '请输入程序输出结果'},]}>\r\n                        <Input.TextArea  rows={1}/>\r\n                    </Form.Item>\r\n                    <Form.Item {...tailFormItemLayout}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">\r\n                            确定\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport SingleSubjectEditor from \"./single-subject-editor\";\r\nimport MultipleSubjectEditor from \"./multiple-subject-editor\";\r\nimport JudgementSubjectEditor from \"./judgement-subject-editor\";\r\nimport BlankSubjectEditor from \"./blank-subject-editor\";\r\nimport ShortSubjectEditor from \"./short-subject-editor\";\r\nimport ProgramSubjectEditor from \"./program-subject-editor\";\r\nexport default class SubjectEditor extends React.Component{\r\n    render() {\r\n        let {type,dataSource,onFinish} = this.props;\r\n        let component;\r\n        switch(type){\r\n            case '单选题':\r\n                component=<SingleSubjectEditor dataSource={dataSource} onFinish={onFinish}/>;\r\n                break;\r\n            case '多选题':\r\n                component=<MultipleSubjectEditor dataSource={dataSource} onFinish={onFinish}/>;\r\n                break;\r\n            case '判断题':\r\n                component=<JudgementSubjectEditor dataSource={dataSource} onFinish={onFinish}/>;\r\n                break;\r\n            case '填空题':\r\n                component=<BlankSubjectEditor dataSource={dataSource} onFinish={onFinish}/>;\r\n                break;\r\n            case '简答题':\r\n                component=<ShortSubjectEditor dataSource={dataSource} onFinish={onFinish}/>;\r\n                break;\r\n            case '编程题':\r\n                component=<ProgramSubjectEditor dataSource={dataSource} onFinish={onFinish}/>;\r\n                break;\r\n            default:\r\n                component=null;\r\n                break;\r\n        }\r\n        return component;\r\n    }\r\n}","import React from 'react';\r\nimport {Button, Layout, Menu, message, Popconfirm, Space} from \"antd\";\r\nimport {PlusOutlined,DeleteOutlined} from \"@ant-design/icons\";\r\nimport SubjectEditor from \"./subject-editor\";\r\nimport './editor.less';\r\nimport Request from \"../../api\"\r\nimport queryString from \"querystring\";\r\nconst {Sider,Content,Header}= Layout;\r\nexport default class Editor extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        let query = queryString.parse(props.location.search.slice(1));\r\n        if(query.homeworkLibId){\r\n            this.homeworkLibId=parseInt(query.homeworkLibId.toString());\r\n        }\r\n        if(query.examLibId){\r\n            this.examLibId=parseInt(query.examLibId.toString());\r\n        }\r\n        this.editingSujectId=0;\r\n        this.state={\r\n            subjects:[],\r\n            editingStatus:'create',\r\n            editingSubject:{type:''},\r\n        };\r\n    };\r\n    createSubjectEditor=(type)=>{\r\n        this.editingSujectId=0;\r\n        this.setState({editingSubject:{type:type},editingStatus:'create'});\r\n    };\r\n    onMenuItemClick=({item})=>{\r\n        this.editingSujectId=item.props.record.ID;\r\n        this.setState({editingSubject:item.props.record,editingStatus:'modify'});\r\n    };\r\n    loadSubjectData=async ()=>{\r\n        try {\r\n            if(this.homeworkLibId){//代表编辑作业库，否则是试题库\r\n                const result = await Request.getHomeworkLibItemsByLibId(this.homeworkLibId);\r\n                this.setState({subjects:result});\r\n            }else{\r\n                const result = await Request.getExamLibItemsByLibId(this.examLibId);\r\n                this.setState({subjects:result});\r\n            }\r\n\r\n        }catch (e) {\r\n            message.error(\"获取数据失败\");\r\n        }\r\n    };\r\n    componentDidMount() {\r\n        this.loadSubjectData();\r\n    }\r\n    createSubject=async (values)=>{\r\n        try{\r\n            if(this.homeworkLibId){\r\n                await Request.createHomeworkLibItem(values);\r\n            }else{\r\n                await Request.createExamLibItemAndOptions(values);\r\n            }\r\n            message.success(\"创建成功\");\r\n            this.loadSubjectData();\r\n        }catch (e) {\r\n            message.error(\"创建失败\");\r\n        }\r\n    };\r\n    modifySubject=async (values)=>{\r\n      try{\r\n          if(this.homeworkLibId){\r\n              await Request.updateHomeworkLibItemAndOptions(values);\r\n          }else{\r\n              await Request.updateExamLibItemAndOptions(values);\r\n          }\r\n          message.success(\"修改成功\");\r\n          this.loadSubjectData();\r\n      }catch (e) {\r\n          message.error(\"修改失败\");\r\n      }\r\n    };\r\n    deleteSubject=async (record)=>{\r\n      try{\r\n          if(this.homeworkLibId){\r\n              await Request.deleteHomeworkLibItemById(record.ID);\r\n          }else{\r\n              await Request.deleteExamLibItemById(record.ID);\r\n          }\r\n          this.createSubjectEditor('');\r\n          message.success(\"删除成功\");\r\n          this.loadSubjectData();\r\n      }catch (e) {\r\n          message.error(\"删除失败\");\r\n      }\r\n    };\r\n    onFinish=(values)=>{\r\n        if(this.state.editingStatus==='create'){\r\n            if(this.homeworkLibId){\r\n                this.createSubject({homeworkLibId:this.homeworkLibId,...values});\r\n            }else{\r\n                this.createSubject({examLibId:this.examLibId,...values});\r\n            }\r\n        }else if(this.state.editingStatus==='modify'){\r\n            if(this.homeworkLibId){\r\n                this.modifySubject({\r\n                    Id:this.editingSujectId,\r\n                    homeworkLibId:this.homeworkLibId,\r\n                    ...values\r\n                });\r\n            }else{\r\n                this.modifySubject({\r\n                    Id:this.editingSujectId,\r\n                    examLibId:this.examLibId,\r\n                    ...values\r\n                })\r\n            }\r\n        }\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <Layout className=\"editor\" >\r\n                <Header className=\"header\" style={{marginBottom:1}}>\r\n                    <div className=\"lib-name\">编辑器</div>\r\n                    <Space  className=\"create-button\">\r\n                        <Button type='primary' icon={<PlusOutlined/>}  onClick={()=>this.createSubjectEditor('单选题')}>单选题</Button>\r\n                        <Button type='primary' icon={<PlusOutlined />} onClick={()=>this.createSubjectEditor('判断题')}>判断题</Button>\r\n                        <Button type='primary' icon={<PlusOutlined />} onClick={()=>this.createSubjectEditor('多选题')}>多选题</Button>\r\n                        <Button type='primary' icon={<PlusOutlined />} onClick={()=>this.createSubjectEditor('填空题')}>填空题</Button>\r\n                        <Button type='primary' icon={<PlusOutlined />} onClick={()=>this.createSubjectEditor('简答题')}>简答题</Button>\r\n                        <Button type='primary' icon={<PlusOutlined />} onClick={()=>this.createSubjectEditor('编程题')}>编程题</Button>\r\n                    </Space>\r\n                </Header>\r\n                <Layout className=\"body\">\r\n                    <Sider className=\"sider\" theme=\"light\" breakpoint=\"lg\" collapsedWidth=\"0\" width=\"300\">\r\n                        <Menu theme=\"light\" mode=\"inline\" onClick={this.onMenuItemClick}>\r\n                            {this.state.subjects.map((item,index)=>{return (\r\n                                <Menu.Item key={item.ID} record={item} >\r\n                                    <Popconfirm title=\"确定删除题目\" onConfirm={() => this.deleteSubject(item)}>\r\n                                        <Button icon={<DeleteOutlined />} type='link'/>\r\n                                    </Popconfirm>\r\n                                    <span className=\"nav-text\">{index+1}.[{item.type}]({item.score}分){item.question}</span>\r\n                                </Menu.Item>\r\n                            )})}\r\n                        </Menu>\r\n                    </Sider>\r\n                    <Content className=\"content\">\r\n                        <div style={{padding:20}}>\r\n                            {this.state.editingStatus==='create'?\r\n                                <SubjectEditor type={this.state.editingSubject.type}\r\n                                               onFinish={this.onFinish}/>:null\r\n                            }\r\n                            {this.state.editingStatus==='modify'?\r\n                                <SubjectEditor type={this.state.editingSubject.type}\r\n                                               dataSource={this.state.editingSubject}\r\n                                               onFinish={this.onFinish}/>:null\r\n                            }\r\n                        </div>\r\n                    </Content>\r\n                </Layout>\r\n            </Layout>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {InputNumber, Radio} from \"antd\";\r\n\r\nexport default class SingleSubject extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.options=this.props.dataSource.options;\r\n        this.state={\r\n            value:props.record.answer,\r\n            inputValue:props.record.score,\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        let values={\r\n            record:this.props.record,\r\n            sequenceNumber:this.props.sequenceNumber,\r\n            dataSource:this.props.dataSource,\r\n        };\r\n        if(this.props.getValues) {\r\n            this.props.getValues(values);\r\n        }\r\n        if(this.props.getInputValue){\r\n            this.props.getInputValue(values);\r\n        }\r\n    }\r\n    onInputChange=(value)=>{\r\n        this.setState({inputValue:value});\r\n        let values={\r\n            record:{...this.props.record,score:value},\r\n            dataSource:this.props.dataSource,\r\n            sequenceNumber:this.props.sequenceNumber,\r\n        };\r\n        this.props.getInputValue(values);\r\n    };\r\n    onChange=(e)=>{\r\n        let value=e.target.value;\r\n        this.setState({value:value});\r\n        let values={\r\n            record:{...this.props.record,answer:value},\r\n            dataSource:this.props.dataSource,\r\n            sequenceNumber:this.props.sequenceNumber,\r\n        };\r\n        if(this.props.getValues) {\r\n            this.props.getValues(values);\r\n        }\r\n    };\r\n    render() {\r\n        const {sequenceNumber,dataSource}=this.props;\r\n        const radioStyle = {\r\n            lineHeight: '40px',\r\n            marginBottom:'10px',\r\n            width:\"100%\",\r\n            border:\"1px solid #eaeaea\",\r\n            borderRadius:4,\r\n            paddingLeft:10,\r\n            fontSize:16,\r\n            display:\"inline-block\",\r\n            verticalAlign:\"middle\",\r\n            wordBreak:\"break-all\",\r\n        };\r\n        return (\r\n            <div style={{paddingLeft:10,paddingRight:10}}>\r\n                <p style={{fontSize:16,marginBottom:5,wordBreak:\"break-all\"}}>\r\n                    <span style={{color:\"#36aafd\"}}>{sequenceNumber}.</span>\r\n                    <span style={{color:\"#36aafd\"}}>[单选题]</span>\r\n                    <span style={{color:\"#aeaeae\"}}>({dataSource.score}分)</span>\r\n                    <span style={{color:\"#333\"}}>{dataSource.question}</span>\r\n                </p>\r\n                <div style={{width:\"100%\"}}>\r\n                    <Radio.Group style={{width:\"100%\"}} onChange={this.onChange} value={this.state.value}>\r\n                        {\r\n                            this.options.map((item)=>{\r\n                                return (\r\n                                    <Radio key={item.sequence} style={radioStyle} value={item.sequence}>\r\n                                        <span>{item.sequence}.</span>\r\n                                        <span>{item.content}</span>\r\n                                    </Radio>\r\n                                )\r\n                            })\r\n                        }\r\n                    </Radio.Group>\r\n                </div>\r\n                <div style={{width:\"100%\",height:40}}>\r\n                    {this.props.answerVisible?<span style={{float:\"left\",color:\"black\",fontSize:15}}>正确答案:{this.props.dataSource.answer}</span>:null}\r\n                    {this.props.inputVisible?<span style={{float:\"right\",color:\"black\",fontSize:14}}>\r\n                        得分: <InputNumber onChange={this.onInputChange} value={this.state.inputValue}  min={0} max={this.props.dataSource.score}/>\r\n                    </span>:null}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Checkbox, InputNumber} from \"antd\";\r\nexport default class MultipleSubject extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.options=this.props.dataSource.options;\r\n        let answer = props.record.answer;\r\n        if(answer!==undefined&&answer!=null&&answer!==''){\r\n            answer = answer.split(',');//将1,2变为数组[1,2]\r\n        }\r\n        if (answer===\"\"){\r\n            answer=[]\r\n        }\r\n        this.state={\r\n            value:answer,\r\n            inputValue:props.record.score,\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        let values={\r\n            record:this.props.record,\r\n            sequenceNumber:this.props.sequenceNumber,\r\n            dataSource:this.props.dataSource,\r\n        };\r\n        if(this.props.getValues) {\r\n            this.props.getValues(values);\r\n        }\r\n        if(this.props.getInputValue){\r\n            this.props.getInputValue(values);\r\n        }\r\n    }\r\n    onChange=(value)=>{\r\n        this.setState({value:value});\r\n        let answer=value.toString();//将数值变为字符串\r\n        let values={\r\n            record:{...this.props.record,answer:answer},\r\n            dataSource:this.props.dataSource,\r\n            sequenceNumber:this.props.sequenceNumber,\r\n        };\r\n        if(this.props.getValues) {\r\n            this.props.getValues(values);\r\n        }\r\n    };\r\n    onInputChange=(value)=>{\r\n        this.setState({inputValue:value});\r\n        let values={\r\n            record:{...this.props.record,score:value},\r\n            dataSource:this.props.dataSource,\r\n            sequenceNumber:this.props.sequenceNumber,\r\n        };\r\n        this.props.getInputValue(values);\r\n    };\r\n    render() {\r\n        const {sequenceNumber,dataSource}=this.props;\r\n        const checkBoxStyle = {\r\n            lineHeight: '40px',\r\n            marginBottom:'10px',\r\n            width:\"100%\",\r\n            border:\"1px solid #eaeaea\",\r\n            borderRadius:4,\r\n            paddingLeft:10,\r\n            fontSize:16,\r\n            wordBreak:\"break-all\",\r\n        };\r\n        return (\r\n            <div style={{paddingLeft:10,paddingRight:10}}>\r\n                <p style={{fontSize:17,marginBottom:5,wordBreak:\"break-all\"}}>\r\n                    <span style={{color:\"#36aafd\"}}>{sequenceNumber}.</span>\r\n                    <span style={{color:\"#36aafd\"}}>[多选题]</span>\r\n                    <span style={{color:\"#aeaeae\"}}>({dataSource.score}分)</span>\r\n                    <span style={{color:\"#333\"}}>{dataSource.question}</span>\r\n                </p>\r\n                <div style={{width:\"100%\"}}>\r\n                    <Checkbox.Group style={{width:\"100%\"}} onChange={this.onChange} value={this.state.value}>\r\n                        {\r\n                            this.options.map((item)=>{\r\n                                return (\r\n                                    <React.Fragment key={item.sequence}>\r\n                                        <Checkbox  style={checkBoxStyle} value={item.sequence}>\r\n                                            <span>{item.sequence}.</span>\r\n                                            <span>{item.content}</span>\r\n                                        </Checkbox>\r\n                                        <br/>\r\n                                    </React.Fragment>\r\n\r\n                                )\r\n                            })\r\n                        }\r\n                    </Checkbox.Group>\r\n                </div>\r\n                <div style={{width:\"100%\",height:40}}>\r\n                    {this.props.answerVisible?<span style={{float:\"left\",color:\"black\",fontSize:15}}>正确答案:{this.props.dataSource.answer}</span>:null}\r\n                    {this.props.inputVisible?<span style={{float:\"right\",color:\"black\",fontSize:14}}>得分: <InputNumber onChange={this.onInputChange} value={this.state.inputValue}  min={0} max={this.props.dataSource.score}/></span>:null}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {InputNumber, Radio} from \"antd\";\r\nexport default class JudgementSubject extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={\r\n            value:props.record.answer,\r\n            inputValue:props.record.score,\r\n        }\r\n    }\r\n    onChange=(e)=>{\r\n        let value=e.target.value;\r\n        this.setState({value:value});\r\n        let values={\r\n            record:{...this.props.record,answer:value},\r\n            dataSource:this.props.dataSource,\r\n            sequenceNumber:this.props.sequenceNumber,\r\n        };\r\n        if(this.props.getValues) {\r\n            this.props.getValues(values);\r\n        }\r\n    };\r\n    onInputChange=(value)=>{\r\n        this.setState({inputValue:value});\r\n        let values={\r\n            record:{...this.props.record,score:value},\r\n            dataSource:this.props.dataSource,\r\n            sequenceNumber:this.props.sequenceNumber,\r\n        };\r\n        this.props.getInputValue(values);\r\n    };\r\n    componentDidMount() {\r\n        let values={\r\n            record:this.props.record,\r\n            sequenceNumber:this.props.sequenceNumber,\r\n            dataSource:this.props.dataSource,\r\n        };\r\n        if(this.props.getValues) {\r\n            this.props.getValues(values);\r\n        }\r\n        if(this.props.getInputValue){\r\n            this.props.getInputValue(values);\r\n        }\r\n    }\r\n    render() {\r\n        const {sequenceNumber,dataSource}=this.props;\r\n        const radioStyle = {\r\n            lineHeight: '40px',\r\n            marginBottom:'10px',\r\n            width:\"100%\",\r\n            border:\"1px solid #eaeaea\",\r\n            borderRadius:4,\r\n            paddingLeft:10,\r\n            fontSize:16,\r\n            display:\"inline-block\",\r\n            verticalAlign:\"middle\",\r\n            wordBreak:\"break-all\",\r\n        };\r\n        return (\r\n            <div style={{paddingLeft:10,paddingRight:10}}>\r\n                <p style={{fontSize:17,marginBottom:5,wordBreak:\"break-all\"}}>\r\n                    <span style={{color:\"#36aafd\"}}>{sequenceNumber}.</span>\r\n                    <span style={{color:\"#36aafd\"}}>[判断题]</span>\r\n                    <span style={{color:\"#aeaeae\"}}>({dataSource.score}分)</span>\r\n                    <span style={{color:\"#333\"}}>{dataSource.question}</span>\r\n                </p>\r\n                <div style={{width:\"100%\"}}>\r\n                    <Radio.Group style={{width:\"100%\"}} onChange={this.onChange} value={this.state.value}>\r\n                        <Radio  style={radioStyle} value={'1'}>\r\n                            <span>对</span>\r\n                        </Radio>\r\n                        <Radio  style={radioStyle} value={'0'}>\r\n                            <span>错</span>\r\n                        </Radio>\r\n                    </Radio.Group>\r\n                </div>\r\n                <div style={{width:\"100%\",height:40}}>\r\n                    {this.props.answerVisible?<span style={{float:\"left\",color:\"black\",fontSize:15}}>正确答案:{this.props.dataSource.answer}</span>:null}\r\n                    {this.props.inputVisible?<span style={{float:\"right\",color:\"black\",fontSize:14}}>得分: <InputNumber onChange={this.onInputChange} value={this.state.inputValue}  min={0} max={this.props.dataSource.score}/></span>:null}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Input, InputNumber} from \"antd\";\r\n\r\nexport default class BlankSubject extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={\r\n            value:props.record.answer,\r\n            inputValue:props.record.score,\r\n        }\r\n    }\r\n    onChange=(e)=>{\r\n        let value=e.target.value;\r\n        this.setState({value:value});\r\n        let values={\r\n            record:{...this.props.record,answer:value},\r\n            dataSource:this.props.dataSource,\r\n            sequenceNumber:this.props.sequenceNumber,\r\n        };\r\n        if(this.props.getValues) {\r\n            this.props.getValues(values);\r\n        }\r\n    };\r\n    onInputChange=(value)=>{\r\n        this.setState({inputValue:value});\r\n        let values={\r\n            record:{...this.props.record,score:value},\r\n            dataSource:this.props.dataSource,\r\n            sequenceNumber:this.props.sequenceNumber,\r\n        };\r\n        this.props.getInputValue(values);\r\n    };\r\n    componentDidMount() {\r\n        let values={\r\n            record:this.props.record,\r\n            sequenceNumber:this.props.sequenceNumber,\r\n            dataSource:this.props.dataSource,\r\n        };\r\n        if(this.props.getValues) {\r\n            this.props.getValues(values);\r\n        }\r\n        if(this.props.getInputValue){\r\n            this.props.getInputValue(values);\r\n        }\r\n    }\r\n    render() {\r\n        const {sequenceNumber,dataSource}=this.props;\r\n        return (\r\n            <div style={{paddingLeft:10,paddingRight:10}}>\r\n                <p style={{fontSize:17,marginBottom:5,wordBreak:\"break-all\"}}>\r\n                    <span style={{color:\"#36aafd\"}}>{sequenceNumber}.</span>\r\n                    <span style={{color:\"#36aafd\"}}>[填空题]</span>\r\n                    <span style={{color:\"#aeaeae\"}}>({dataSource.score}分)</span>\r\n                    <span style={{color:\"#333\"}}>{dataSource.question}</span>\r\n                </p>\r\n                <div style={{width:\"100%\"}}>\r\n                    <Input.TextArea rows={2} value={this.state.value} onChange={this.onChange}/>\r\n                    <p>每个空的答案用英文逗号分隔</p>\r\n                </div>\r\n                <div style={{width:\"100%\",height:40}}>\r\n                    {this.props.answerVisible?<span style={{float:\"left\",color:\"black\",fontSize:15}}>正确答案:{this.props.dataSource.answer}</span>:null}\r\n                    {this.props.inputVisible?<span style={{float:\"right\",color:\"black\",fontSize:14}}>得分: <InputNumber onChange={this.onInputChange} value={this.state.inputValue}  min={0} max={this.props.dataSource.score}/></span>:null}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Input, InputNumber} from \"antd\";\r\nexport default class ShortSubject extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={\r\n            value:props.record.answer,\r\n            inputValue:props.record.score,\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        let values={\r\n            record:this.props.record,\r\n            sequenceNumber:this.props.sequenceNumber,\r\n            dataSource:this.props.dataSource,\r\n        };\r\n        if(this.props.getValues) {\r\n            this.props.getValues(values);\r\n        }\r\n        if(this.props.getInputValue){\r\n            this.props.getInputValue(values);\r\n        }\r\n    }\r\n    onChange=(e)=>{\r\n        let value=e.target.value;\r\n        this.setState({value:value});\r\n        let values={\r\n            record:{...this.props.record,answer:value},\r\n            dataSource:this.props.dataSource,\r\n            sequenceNumber:this.props.sequenceNumber,\r\n        };\r\n        if(this.props.getValues) {\r\n            this.props.getValues(values);\r\n        }\r\n    };\r\n    onInputChange=(value)=>{\r\n        this.setState({inputValue:value});\r\n        let values={\r\n            record:{...this.props.record,score:value},\r\n            dataSource:this.props.dataSource,\r\n            sequenceNumber:this.props.sequenceNumber,\r\n        };\r\n        this.props.getInputValue(values);\r\n    };\r\n    render() {\r\n        const {sequenceNumber,dataSource}=this.props;\r\n        return (\r\n            <div style={{paddingLeft:10,paddingRight:10}}>\r\n                <p style={{fontSize:17,marginBottom:5,wordBreak:\"break-all\"}}>\r\n                    <span style={{color:\"#36aafd\"}}>{sequenceNumber}.</span>\r\n                    <span style={{color:\"#36aafd\"}}>[简答题]</span>\r\n                    <span style={{color:\"#aeaeae\"}}>({dataSource.score}分)</span>\r\n                    <span style={{color:\"#333\"}}>{dataSource.question}</span>\r\n                </p>\r\n                <div style={{width:\"100%\",marginBottom:10}}>\r\n                    <Input.TextArea rows={8} value={this.state.value} onChange={this.onChange}/>\r\n                </div>\r\n                <div style={{width:\"100%\",height:40}}>\r\n                    {this.props.answerVisible?<span style={{float:\"left\",color:\"black\",fontSize:15}}>正确答案:{this.props.dataSource.answer}</span>:null}\r\n                    {this.props.inputVisible?<span style={{float:\"right\",color:\"black\",fontSize:14}}>得分: <InputNumber onChange={this.onInputChange} value={this.state.inputValue}  min={0} max={this.props.dataSource.score}/></span>:null}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Input, Button, Select, Space, message, InputNumber} from \"antd\";\r\nimport Request from \"../../api\"\r\nexport default class ProgramSubject extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.language=\"go\";\r\n        this.state={\r\n            value:props.record.answer,\r\n            inputValue:props.record.score,\r\n            output:\"\",\r\n            exampleVisible:false\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        let values={\r\n            record:this.props.record,\r\n            sequenceNumber:this.props.sequenceNumber,\r\n            dataSource:this.props.dataSource,\r\n        };\r\n        if(this.props.getValues) {\r\n            this.props.getValues(values);\r\n        }\r\n        if(this.props.getInputValue){\r\n            this.props.getInputValue(values);\r\n        }\r\n    }\r\n    onInputChange=(value)=>{\r\n        this.setState({inputValue:value});\r\n        let values={\r\n            record:{...this.props.record,score:value},\r\n            dataSource:this.props.dataSource,\r\n            sequenceNumber:this.props.sequenceNumber,\r\n        };\r\n        this.props.getInputValue(values);\r\n    };\r\n    showExample=()=>{\r\n        let visible = !this.state.exampleVisible;\r\n        this.setState({exampleVisible:visible})\r\n    };\r\n    onChange=(e)=>{\r\n        let value = e.target.value;\r\n        this.setState({value:value});\r\n        let values={\r\n            record:{...this.props.record,answer:value},\r\n            dataSource:this.props.dataSource,\r\n            sequenceNumber:this.props.sequenceNumber,\r\n        };\r\n        if(this.props.getValues) {\r\n            this.props.getValues(values);\r\n        }\r\n    };\r\n\r\n    onSelectChange=(value)=>{\r\n      this.language=value;\r\n    };\r\n    executeProgram=async ()=>{\r\n        try{\r\n            const result=await Request.executeProgram({\r\n                language:this.language,\r\n                input:this.state.value\r\n            });\r\n            this.setState({output:result});\r\n        }catch (e) {\r\n            message.error(\"服务器错误,运行失败\");\r\n        }\r\n    };\r\n    render() {\r\n        const {sequenceNumber,dataSource}=this.props;\r\n        return (\r\n            <div style={{paddingLeft:10,paddingRight:10}}>\r\n                <p style={{fontSize:17,marginBottom:5,wordBreak:\"break-all\"}}>\r\n                    <span style={{color:\"#36aafd\"}}>{sequenceNumber}.</span>\r\n                    <span style={{color:\"#36aafd\"}}>[编程题]</span>\r\n                    <span style={{color:\"#aeaeae\"}}>({dataSource.score}分)</span>\r\n                    <span style={{color:\"#333\"}}>{dataSource.question}</span>\r\n                </p>\r\n                <div style={{width:\"100%\"}}>\r\n                    <Input.TextArea rows={8} value={this.state.value} onChange={this.onChange}/>\r\n                </div>\r\n                <div style={{marginTop:10}}>\r\n                    <Space>\r\n                        <Select onChange={this.onSelectChange} style={{ width: 120 }} defaultValue=\"go\">\r\n                            <Select.Option value={\"go\"}>Go</Select.Option>\r\n                            <Select.Option value={\"javascript\"}>JavaScript</Select.Option>\r\n                        </Select>\r\n                        <Button onClick={this.executeProgram}>运行</Button>\r\n                        <Button onClick={this.showExample}>代码示例</Button>\r\n                    </Space>\r\n                    {this.state.exampleVisible?<div>\r\n                        <span>Go:</span><br/>\r\n                        <div dangerouslySetInnerHTML={{__html:\r\n                                `package main<br/>\r\n                                 import \"fmt\"<br/>\r\n                                 func main() {<br/>\r\n                                    &nbsp;&nbsp;fmt.Println(\"Hello, 世界\")<br/>\r\n                                 }`\r\n                        }}/>\r\n                        <span>JavaScript：console.log(\"hello world\");</span>\r\n                    </div>:null}\r\n                    <p style={{color:\"black\"}}>{this.state.output}</p>\r\n                </div>\r\n                <div style={{width:\"100%\",height:40}}>\r\n                    {this.props.answerVisible?<span style={{float:\"left\",color:\"black\",fontSize:15}}>正确答案:{this.props.dataSource.answer}</span>:null}\r\n                    {this.props.inputVisible?<span style={{float:\"right\",color:\"black\",fontSize:14}}>得分: <InputNumber onChange={this.onInputChange} value={this.state.inputValue}  min={0} max={this.props.dataSource.score}/></span>:null}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport SingleSubject from \"./single-subject\";\r\nimport MultipleSubject from \"./multiple-subject\";\r\nimport JudgementSubject from \"./judgement-subject\";\r\nimport BlankSubject from \"./blank-subject\";\r\nimport ShortSubject from \"./short-subject\";\r\nimport ProgramSubject from \"./program-subject\";\r\nexport default class Subject extends React.Component{\r\n    render() {\r\n        let {type,inputVisible,getInputValue,answerVisible,dataSource,getValues,sequenceNumber,record} = this.props;\r\n        let component;\r\n        switch(type){\r\n            case '单选题':\r\n                component=<SingleSubject getInputValue={getInputValue} inputVisible={inputVisible} answerVisible={answerVisible} record={record} sequenceNumber={sequenceNumber}  dataSource={dataSource} getValues={getValues}/>;\r\n                break;\r\n            case '多选题':\r\n                component=<MultipleSubject getInputValue={getInputValue} inputVisible={inputVisible} answerVisible={answerVisible}  record={record} sequenceNumber={sequenceNumber} dataSource={dataSource} getValues={getValues}/>;\r\n                break;\r\n            case '判断题':\r\n                component=<JudgementSubject getInputValue={getInputValue} inputVisible={inputVisible} answerVisible={answerVisible}   record={record} sequenceNumber={sequenceNumber} dataSource={dataSource} getValues={getValues}/>;\r\n                break;\r\n            case '填空题':\r\n                component=<BlankSubject getInputValue={getInputValue} inputVisible={inputVisible} answerVisible={answerVisible} record={record} sequenceNumber={sequenceNumber} dataSource={dataSource} getValues={getValues}/>;\r\n                break;\r\n            case '简答题':\r\n                component=<ShortSubject getInputValue={getInputValue} inputVisible={inputVisible} answerVisible={answerVisible}  record={record} sequenceNumber={sequenceNumber} dataSource={dataSource} getValues={getValues}/>;\r\n                break;\r\n            case '编程题':\r\n                component=<ProgramSubject getInputValue={getInputValue} inputVisible={inputVisible} answerVisible={answerVisible}  record={record} sequenceNumber={sequenceNumber} dataSource={dataSource} getValues={getValues}/>;\r\n                break;\r\n            default:\r\n                component=null;\r\n                break;\r\n        }\r\n        return component;\r\n    }\r\n}","import React from \"react\";\r\nimport queryString from \"querystring\";\r\nimport {Card, message,Button} from \"antd\";\r\nimport Request from \"../../api\";\r\nimport Subject from \"../../components/subject/subject\";\r\nexport default class DoHomework extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        let query=queryString.parse(props.location.search.slice(1));\r\n        this.homeworkPublishId = parseInt(query.homeworkPublishId.toString());\r\n        this.homeworkLibId=parseInt(query.homeworkLibId.toString());\r\n        this.submitData={//要提交的数据\r\n            homeworkPublishId:this.homeworkPublishId,\r\n            submitItems:[],\r\n        };\r\n        this.state={\r\n            homeworkLibData:{name:\"\",items:[]},\r\n            homeworkUserSubmit:{submitItems:[]},\r\n        }\r\n    }\r\n    loadHomeworkLib=async ()=>{\r\n        try {\r\n            await this.loadHomeworkUserSubmit();\r\n            const result=await Request.getHomeworkLibWithItemsById(this.homeworkLibId);\r\n            this.submitData.submitItems=new Array(result.items.length).fill({});\r\n            this.setState({homeworkLibData:result});\r\n        }catch (e) {\r\n            message.error(\"获取题目失败\");\r\n        }\r\n    };\r\n    getValues=(value)=>{\r\n        this.submitData.submitItems[value.sequenceNumber-1]={\r\n            id:value.record.ID,\r\n            homeworkLibItemId:value.dataSource.ID,\r\n            answer:value.record.answer,\r\n        };\r\n    };\r\n    loadHomeworkUserSubmit=async ()=>{\r\n      try{\r\n          const result=await Request.getHomeworkUserSubmitWithItems(this.homeworkPublishId);\r\n          this.submitData.id=result.ID;\r\n          this.setState({homeworkUserSubmit:result});\r\n      }catch (e) {\r\n          console.log(e);\r\n      }\r\n    };\r\n    submitHomework=async ()=>{\r\n      try{\r\n          await Request.submitHomeworkWithItems(this.submitData);\r\n          message.success(\"提交成功\");\r\n      }  catch (e) {\r\n          message.error(\"提交失败\");\r\n      }\r\n    };\r\n    componentDidMount() {\r\n        this.loadHomeworkLib();\r\n    }\r\n    render() {\r\n        return (\r\n            <Card title={this.state.homeworkLibData.name}  extra={<Button onClick={this.submitHomework}>提交</Button>}>\r\n                <div style={{width:\"70%\",marginLeft:\"auto\",marginRight:\"auto\"}}>\r\n                    {\r\n                        this.state.homeworkLibData.items.map((item,index)=>{\r\n                            let record={answer:\"\"};\r\n                            this.state.homeworkUserSubmit.submitItems.forEach((submitItem)=>{\r\n                               if(submitItem.homeworkLibItemId===item.ID){\r\n                                   record=submitItem;\r\n                               }\r\n                            });\r\n                          return (\r\n                              <Subject key={item.ID} record={record} sequenceNumber={index+1}\r\n                                       type={item.type} dataSource={item} getValues={this.getValues}/>\r\n                          )\r\n                        })\r\n                    }\r\n                </div>\r\n            </Card>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport queryString from \"querystring\";\r\nimport {Button, Card, message} from \"antd\";\r\nimport Request from \"../../api\";\r\nimport Subject from \"../../components/subject/subject\";\r\n\r\nexport default class MarkHomework extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        let query=queryString.parse(props.location.search.slice(1));\r\n        this.homeworkSubmitId=parseInt(query.homeworkSubmitId.toString());\r\n        this.homeworkPublish={};\r\n        this.submitData={//要提交的数据\r\n            id:this.homeworkSubmitId,\r\n            submitItems:[],\r\n        };\r\n        this.state={\r\n            homeworkLibData:{name:\"\",items:[]},\r\n            homeworkUserSubmit:{submitItems:[]},\r\n        }\r\n    }\r\n    loadHomeworkLib=async ()=>{\r\n        try {\r\n            await this.loadHomeworkUserSubmit();\r\n            const result=await Request.getHomeworkLibWithItemsById(this.homeworkPublish.homeworkLibId,\"true\");\r\n            this.submitData.submitItems=new Array(result.items.length).fill({});\r\n            this.setState({homeworkLibData:result});\r\n        }catch (e) {\r\n            message.error(\"获取题目失败\");\r\n        }\r\n    };\r\n    loadHomeworkUserSubmit=async ()=>{\r\n        try{\r\n            let homeworkSubmit=await Request.getHomeworkSubmitById(this.homeworkSubmitId);\r\n            this.homeworkPublish=await Request.getHomeworkPublishById(homeworkSubmit.homeworkPublishId);\r\n            const result=await Request.getHomeworkUserSubmitWithItems(homeworkSubmit.homeworkPublishId,homeworkSubmit.userId);\r\n            this.submitData.id=result.ID;\r\n            this.setState({homeworkUserSubmit:result});\r\n        }catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n    submitHomeworkMark=async ()=>{\r\n        try{\r\n            await Request.updateHomeworkSubmitItemsScore(this.submitData);\r\n            message.success(\"操作成功\");\r\n        }  catch (e) {\r\n            message.error(\"操作失败\");\r\n        }\r\n    };\r\n    getInputValue=(value)=>{\r\n        this.submitData.submitItems[value.sequenceNumber-1]={\r\n            id:value.record.ID,\r\n            homeworkLibItemId:value.dataSource.ID,\r\n            score:value.record.score,\r\n        };\r\n    };\r\n    componentDidMount() {\r\n        this.loadHomeworkLib();\r\n    }\r\n    render() {\r\n        return (\r\n            <Card title={this.state.homeworkLibData.name}  extra={<Button onClick={this.submitHomeworkMark}>提交</Button>}>\r\n                <div style={{width:\"70%\",marginLeft:\"auto\",marginRight:\"auto\"}}>\r\n                    {\r\n                        this.state.homeworkLibData.items.map((item,index)=>{\r\n                            let record={answer:\"\"};\r\n                            this.state.homeworkUserSubmit.submitItems.forEach((submitItem)=>{\r\n                                if(submitItem.homeworkLibItemId===item.ID){\r\n                                    record=submitItem;\r\n                                }\r\n                            });\r\n                            return (\r\n                                <Subject key={item.ID} record={record} sequenceNumber={index+1} inputVisible={true} answerVisible={true}\r\n                                         type={item.type} dataSource={item} getInputValue={this.getInputValue}/>\r\n                            )\r\n                        })\r\n                    }\r\n                </div>\r\n            </Card>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport queryString from \"querystring\";\r\nimport {Card, message} from \"antd\";\r\nimport Request from \"../../api\";\r\nimport Subject from \"../../components/subject/subject\";\r\nexport default class ViewHomework extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        let query=queryString.parse(props.location.search.slice(1));\r\n        this.homeworkPublishId = parseInt(query.homeworkPublishId.toString());\r\n        this.homeworkLibId=parseInt(query.homeworkLibId.toString());\r\n        this.state={\r\n            homeworkLibData:{name:\"\",items:[]},\r\n            homeworkUserSubmit:{submitItems:[]},\r\n        }\r\n    }\r\n    loadHomeworkLib=async ()=>{\r\n        try {\r\n            await this.loadHomeworkUserSubmit();\r\n            const result=await Request.getHomeworkLibWithItemsById(this.homeworkLibId,\"true\");\r\n            this.setState({homeworkLibData:result});\r\n        }catch (e) {\r\n            message.error(\"获取题目失败\");\r\n        }\r\n    };\r\n    loadHomeworkUserSubmit=async ()=>{\r\n        try{\r\n            const result=await Request.getHomeworkUserSubmitWithItems(this.homeworkPublishId);\r\n            this.setState({homeworkUserSubmit:result});\r\n        }catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n    componentDidMount() {\r\n        this.loadHomeworkLib();\r\n    }\r\n    render() {\r\n        return (\r\n            <Card title={this.state.homeworkLibData.name} >\r\n                <div style={{width:\"70%\",marginLeft:\"auto\",marginRight:\"auto\"}}>\r\n                    {\r\n                        this.state.homeworkLibData.items.map((item,index)=>{\r\n                            let record={answer:\"\"};\r\n                            this.state.homeworkUserSubmit.submitItems.forEach((submitItem)=>{\r\n                                if(submitItem.homeworkLibItemId===item.ID){\r\n                                    record=submitItem;\r\n                                }\r\n                            });\r\n                            return (\r\n                                <Subject key={item.ID} record={record} sequenceNumber={index+1}\r\n                                     answerVisible={true}  type={item.type} dataSource={item} getValues={this.getValues}/>\r\n                            )\r\n                        })\r\n                    }\r\n                </div>\r\n            </Card>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport queryString from \"querystring\";\r\nimport {Card, message, Button, Layout, Menu, Space, Popconfirm} from \"antd\";\r\nimport Request from \"../../api\";\r\nimport Subject from \"../../components/subject/subject\";\r\nimport moment from \"moment\";\r\nimport Timer from \"../../components/Timer\";\r\nconst {Sider,Content}= Layout;\r\nexport default class DoExam extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        let query=queryString.parse(props.location.search.slice(1));\r\n        this.examPublishId = parseInt(query.examPublishId.toString());\r\n        this.examLibId=parseInt(query.examLibId.toString());\r\n        this.submitData={//要提交的数据\r\n            examPublishId:this.examPublishId,\r\n            submitItems:[],\r\n        };\r\n        this.state={\r\n            selectedSequence:0,//选择的题号\r\n            examLibData:{name:\"\",items:[]},\r\n            examUserSubmit:{submitItems:[]},\r\n            allowExam:false,//是否允许考试\r\n            countDown:0,//倒计时多少秒，计时器\r\n        }\r\n    }\r\n    loadExamLib=async ()=>{\r\n        try {\r\n            await this.loadExamUserSubmit();\r\n            const result=await Request.getExamLibWithItemsById(this.examLibId);\r\n            this.submitData.submitItems=new Array(result.items.length).fill({});\r\n            this.setState({examLibData:result});\r\n        }catch (e) {\r\n            message.error(\"获取题目失败\");\r\n        }\r\n    };\r\n    getValues=(value)=>{\r\n        this.submitData.submitItems[value.sequenceNumber-1]={\r\n            id:value.record.ID,\r\n            examLibItemId:value.dataSource.ID,\r\n            answer:value.record.answer,\r\n        };\r\n    };\r\n    loadExamUserSubmit=async ()=>{\r\n        try{\r\n            const result=await Request.getExamUserSubmitWithItems(this.examPublishId);\r\n            this.submitData.id=result.ID;\r\n            this.setState({examUserSubmit:result});\r\n        }catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n    submitExam=async ()=>{//提交所有题\r\n        try{\r\n            await Request.submitExamItem(this.submitData);\r\n            await Request.finishExam({id:this.userSubmitRecord.ID});//修改考试结束时间\r\n            message.success(\"提交成功\");\r\n        }  catch (e) {\r\n            message.error(\"提交失败,考试结束\");\r\n        }\r\n    };\r\n    startExam=async ()=>{\r\n      try{\r\n          this.examPublish= await Request.getExamPublishById(this.examPublishId);\r\n          let now =moment();\r\n          let beginTime=moment(this.examPublish.beginTime);\r\n          let endTime=moment(this.examPublish.endTime);\r\n          if(now.isBefore(beginTime)||now.isAfter(endTime)){\r\n              message.error(\"未在考试时间范围内\");\r\n              return\r\n          }\r\n          this.userSubmitRecord = await Request.startExam({examPublishId:this.examPublishId});\r\n          let startTime=moment(this.userSubmitRecord.startTime);\r\n          let stopTime=startTime.add(this.examPublish.duration,'minutes');\r\n          if(this.userSubmitRecord.finishTime||\r\n              stopTime.isBefore(now)){\r\n              message.error(\"考试已结束\");\r\n              return\r\n          }\r\n          if(stopTime.isAfter(endTime)){\r\n              stopTime=endTime\r\n          }\r\n          let countDown=stopTime.diff(now,'seconds');\r\n\r\n          this.setState({allowExam:true,countDown:countDown});\r\n      }catch (e) {\r\n          console.log(e)\r\n      }\r\n    };\r\n    submitExamItem=async (sequence)=>{//仅提交一道题\r\n        try{\r\n            let values={\r\n                id:this.submitData.id,\r\n                examPublishId:this.examPublishId,\r\n                submitItems:[this.submitData.submitItems[sequence-1]],\r\n            };\r\n            await Request.submitExamItem(values);\r\n            this.loadExamUserSubmit();\r\n            message.success(\"已保存\");\r\n        }  catch (e) {\r\n            message.error(\"保存失败\");\r\n        }\r\n    };\r\n    onMenuItemClick=({item})=>{\r\n        this.setState({selectedSequence:item.props.sequence});\r\n    };\r\n    componentDidMount() {\r\n        this.startExam();\r\n        this.loadExamLib();\r\n    }\r\n    render() {\r\n        if (!this.state.allowExam) return null;\r\n        const cardExtra=(\r\n            <Space size=\"large\">\r\n                <Timer onFinish={this.submitExam} style={{fontSize:30}} seconds={this.state.countDown}/>\r\n                <Popconfirm placement=\"bottomRight\" title=\"确定提交?提交后不可再进入\" onConfirm={()=>this.submitExam()}>\r\n                    <Button type=\"primary\">提交</Button>\r\n                </Popconfirm>\r\n            </Space>\r\n        );\r\n        return (\r\n            <Card bodyStyle={{padding:0,height:\"100%\"}} style={{height:\"100%\"}} title={this.state.examLibData.name}  extra={cardExtra}>\r\n                <Layout style={{backgroundColor:\"white\",height:\"100%\"}}>\r\n                    <Sider  className=\"sider\" theme=\"light\" breakpoint=\"lg\" collapsedWidth=\"0\" width=\"250\">\r\n                        <Menu style={{height:\"100%\",}} theme=\"light\"  onClick={this.onMenuItemClick}>\r\n                            {this.state.examLibData.items.map((item,index)=>{\r\n                                let isSave=false;\r\n                                this.state.examUserSubmit.submitItems.forEach((submitItem)=>{\r\n                                    if(submitItem.examLibItemId===item.ID){\r\n                                        isSave=true;\r\n                                    }\r\n                                });\r\n                                return (\r\n                                <Menu.Item key={item.ID} record={item} sequence={index+1}>\r\n                                    <span>{index+1}.</span>\r\n                                    <span>{item.type}</span>\r\n                                    <span>({item.score}分)</span>\r\n                                    <span style={{color:\"green\"}}>{isSave?\"[已保存]\":null}</span>\r\n                                </Menu.Item>\r\n                            )})}\r\n                        </Menu>\r\n                    </Sider>\r\n                    <Content style={{height:\"100%\",padding:30}}>\r\n                        <div style={{marginLeft:\"auto\",marginRight:\"auto\"}}>\r\n                            {(()=> {\r\n                                let sequence =this.state.selectedSequence;\r\n                                if (sequence===0) return null;\r\n                                let item = this.state.examLibData.items[sequence-1];\r\n                                let record={answer:\"\"};\r\n                                this.state.examUserSubmit.submitItems.forEach((submitItem)=>{\r\n                                    if(submitItem.examLibItemId===item.ID){\r\n                                        record=submitItem;\r\n                                    }\r\n                                });\r\n                                return (\r\n                                    <React.Fragment>\r\n                                        <Subject key={item.ID} record={record} sequenceNumber={sequence}\r\n                                                 type={item.type} dataSource={item} getValues={this.getValues}/>\r\n                                        <div style={{padding:10}}>\r\n                                            <Button type=\"primary\" onClick={()=>{this.submitExamItem(sequence)}}>保存</Button>\r\n                                        </div>\r\n                                    </React.Fragment>\r\n                                )\r\n                            })()}\r\n                        </div>\r\n                    </Content>\r\n                </Layout>\r\n            </Card>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport queryString from \"querystring\";\r\nimport {Button, Card, message} from \"antd\";\r\nimport Request from \"../../api\";\r\nimport Subject from \"../../components/subject/subject\";\r\n\r\nexport default class MarkExam extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        let query=queryString.parse(props.location.search.slice(1));\r\n        this.examSubmitId=parseInt(query.examSubmitId.toString());\r\n        this.examPublish={};\r\n        this.submitData={//要提交的数据\r\n            id:this.examSubmitId,\r\n            submitItems:[],\r\n        };\r\n        this.state={\r\n            examLibData:{name:\"\",items:[]},\r\n            examUserSubmit:{submitItems:[]},\r\n        }\r\n    }\r\n    loadExamLib=async ()=>{\r\n        try {\r\n            await this.loadExamUserSubmit();\r\n            const result=await Request.getExamLibWithItemsById(this.examPublish.examLibId,\"true\");\r\n            this.submitData.submitItems=new Array(result.items.length).fill({});\r\n            this.setState({examLibData:result});\r\n        }catch (e) {\r\n            message.error(\"获取题目失败\");\r\n        }\r\n    };\r\n    loadExamUserSubmit=async ()=>{\r\n        try{\r\n            let examSubmit=await Request.getExamSubmitById(this.examSubmitId);\r\n            this.examPublish=await Request.getExamPublishById(examSubmit.examPublishId);\r\n            const result=await Request.getExamUserSubmitWithItems(examSubmit.examPublishId,examSubmit.userId);\r\n            this.submitData.id=result.ID;\r\n            this.setState({examUserSubmit:result});\r\n        }catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n    submitExamMark=async ()=>{//提交批阅结果\r\n        try{\r\n            await Request.updateExamSubmitItemsScore(this.submitData);\r\n            message.success(\"操作成功\");\r\n        }  catch (e) {\r\n            message.error(\"操作失败\");\r\n        }\r\n    };\r\n    getInputValue=(value)=>{\r\n        this.submitData.submitItems[value.sequenceNumber-1]={\r\n            id:value.record.ID,\r\n            examLibItemId:value.dataSource.ID,\r\n            score:value.record.score,\r\n        };\r\n    };\r\n    componentDidMount() {\r\n        this.loadExamLib();\r\n    }\r\n    render() {\r\n        return (\r\n            <Card title={this.state.examLibData.name}  extra={<Button onClick={this.submitExamMark}>提交</Button>}>\r\n                <div style={{width:\"70%\",marginLeft:\"auto\",marginRight:\"auto\"}}>\r\n                    {\r\n                        this.state.examLibData.items.map((item,index)=>{\r\n                            let record={answer:\"\"};\r\n                            this.state.examUserSubmit.submitItems.forEach((submitItem)=>{\r\n                                if(submitItem.examLibItemId===item.ID){\r\n                                    record=submitItem;\r\n                                }\r\n                            });\r\n                            return (\r\n                                <Subject key={item.ID} record={record} sequenceNumber={index+1} inputVisible={true} answerVisible={true}\r\n                                         type={item.type} dataSource={item} getInputValue={this.getInputValue}/>\r\n                            )\r\n                        })\r\n                    }\r\n                </div>\r\n            </Card>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Form, Input, Row, Col, Button, message,} from 'antd';\r\nimport LoginRegister from \"./loginRegister\";\r\nimport Request from \"../../api\";\r\nimport Timer from \"../../components/Timer\";\r\n\r\nexport default class ForgetPassword extends React.Component{\r\n    onFinish=async (values)=>{\r\n        try{\r\n            await Request.userForgetPassword(values);\r\n            message.success(\"修改密码成功!\");\r\n            this.props.history.push(\"/login\");\r\n        }catch (e) {\r\n            let err=\"\";\r\n            if(e.response.data.err){\r\n                err=e.response.data.err;\r\n            }\r\n            message.error(\"修改密码失败!\"+err)\r\n        }\r\n    };\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={\r\n            getCaptchaVisible:true,\r\n        };\r\n        this.formRef=React.createRef();\r\n    }\r\n    onTimerFinish=()=>{\r\n        this.setState({getCaptchaVisible:true});\r\n    };\r\n\r\n    getCaptcha=async ()=>{\r\n        try{\r\n            let email=this.formRef.current.getFieldValue(\"email\");\r\n            if(email){\r\n                await Request.getCaptcha(email);\r\n                message.success(\"获取验证码成功\");\r\n                this.setState({getCaptchaVisible:false});\r\n            }else{\r\n                message.error(\"请先填邮箱\");\r\n            }\r\n        }catch (e) {\r\n            let err=\"\";\r\n            if(e.response.data.err){\r\n                err=e.response.data.err;\r\n            }\r\n            message.error(\"获取验证码失败!\"+err);\r\n        }\r\n    };\r\n    render() {\r\n        const formItemLayout = {\r\n            labelCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 8 },\r\n            },\r\n            wrapperCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 16 },\r\n            },\r\n        };\r\n        const tailFormItemLayout = {\r\n            wrapperCol: {\r\n                xs: {\r\n                    span: 24,\r\n                    offset: 0,\r\n                },\r\n                sm: {\r\n                    span: 16,\r\n                    offset: 8,\r\n                },\r\n            },\r\n        };\r\n        return (\r\n            <LoginRegister>\r\n                <Form ref={this.formRef} {...formItemLayout} name=\"forget-password\"\r\n                      onFinish={this.onFinish} scrollToFirstError\r\n                >\r\n                    <Form.Item name=\"email\" label=\"邮箱\"\r\n                               rules={[\r\n                                   {type: 'email', message: '邮箱格式不正确!',},\r\n                                   {required: true, message: '请输入邮箱!',},\r\n                               ]}\r\n                    >\r\n                        <Input />\r\n                    </Form.Item>\r\n\r\n                    <Form.Item name=\"password\" label=\"密码\"\r\n                               rules={[{required: true,  message: '请输入密码!'},\r\n                                   {min:8,message: '密码最短8位！'}]}\r\n                               hasFeedback\r\n                    >\r\n                        <Input.Password />\r\n                    </Form.Item>\r\n\r\n                    <Form.Item name=\"confirm\" label=\"确认密码\" dependencies={['password']} hasFeedback\r\n                               rules={[{required: true,message: '请确认密码!'},\r\n                                   ({ getFieldValue }) => ({\r\n                                       validator(rule, value) {\r\n                                           if (!value || getFieldValue('password') === value) {\r\n                                               return Promise.resolve();\r\n                                           }\r\n                                           return Promise.reject('两次密码不一致!');\r\n                                       },\r\n                                   }),\r\n                               ]}\r\n                    >\r\n                        <Input.Password />\r\n                    </Form.Item>\r\n                    <Form.Item label=\"验证码\">\r\n                        <Row gutter={8}>\r\n                            <Col span={12}>\r\n                                <Form.Item name=\"captcha\"\r\n                                           rules={[{ required: true, message: '请输入获得的验证码!' }]}\r\n                                >\r\n                                    <Input />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={12}>\r\n                                {this.state.getCaptchaVisible?\r\n                                    <Button style={{float:\"right\"}} onClick={this.getCaptcha}>获取邮箱验证码</Button>:\r\n                                    <Button style={{float:\"right\"}} disabled={true}><Timer onlySecond={true} onFinish={this.onTimerFinish} seconds={60}/>后获取</Button>\r\n                                }\r\n\r\n                            </Col>\r\n                        </Row>\r\n                    </Form.Item>\r\n                    <Form.Item {...tailFormItemLayout}>\r\n                        <Button type=\"primary\" htmlType=\"submit\" style={{width:\"100%\"}}>确认修改</Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </LoginRegister>\r\n        )\r\n    }\r\n}","import React from 'react';\nimport {HashRouter} from \"react-router-dom\";\nimport {Route,Switch,Redirect} from \"react-router\"\nimport Login from './pages/login-register/login';\nimport Register from \"./pages/login-register/register\";\nimport User from \"./pages/user/user\";\nimport StudentCourse from \"./pages/student-course/student-course\";\nimport TeacherCourse from \"./pages/teacher-course/teacher-course\";\nimport {connect} from 'react-redux';\nimport {getUser} from \"./store/actions\";\nimport Editor from \"./pages/editor/editor\";\nimport DoHomework from \"./pages/homework/do-homework\";\nimport MarkHomework from \"./pages/homework/mark-homework\";\nimport ViewHomework from \"./pages/homework/view-homework\";\nimport DoExam from \"./pages/exam/do-exam\";\nimport MarkExam from \"./pages/exam/mark-exam\";\nimport ForgetPassword from \"./pages/login-register/forget-password\";\n\n\nclass App extends React.Component{\n    componentDidMount(){\n        let token = window.localStorage.getItem(\"token\");\n        if(token){\n            this.props.getUser();\n        }\n    }\n    render() {\n        return (\n            <div className=\"App\" style={{width:\"100%\",height:\"100%\"}}>\n                <HashRouter>\n                    <Switch>\n                        <Redirect from='/' exact to='/login'/>\n                        <Route path='/login' component={Login}/>\n                        <Route path='/register' component={Register}/>\n                        <Route path='/user' component={User}/>\n                        <Route path='/student-course' component={StudentCourse}/>\n                        <Route path='/teacher-course/:id' component={TeacherCourse}/>\n                        <Route path=\"/editor\" component={Editor}/>\n                        <Route path=\"/doHomework\" component={DoHomework}/>\n                        <Route path=\"/markHomework\" component={MarkHomework}/>\n                        <Route path=\"/viewHomework\" component={ViewHomework}/>\n                        <Route path=\"/doExam\" component={DoExam}/>\n                        <Route path=\"/markExam\" component={MarkExam}/>\n                        <Route path=\"/forget-password\" component={ForgetPassword}/>\n                        {/*<Route path='/account'  render={(props)=>{*/}\n                        {/*  return <Account user={this.state.user} {...props}/>*/}\n                        {/*}}/>*/}\n                    </Switch>\n                </HashRouter>\n            </div>\n        );\n    }\n}\nexport default connect(()=>({}),{getUser})(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport store from \"./store\";\nimport App from './App'\nimport { Provider } from 'react-redux'\n\n\nReactDOM.render(<Provider store={store}>\n        <App/>\n</Provider>,document.getElementById(\"root\"));"],"sourceRoot":""}